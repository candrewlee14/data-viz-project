var ms=Object.defineProperty;var gs=(e,t,n)=>t in e?ms(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var he=(e,t,n)=>(gs(e,typeof t!="symbol"?t+"":t,n),n);import{S as Fe,i as Ve,s as Oe,k as X,l as W,m as V,h as w,n as d,b as B,B as se,I as Ne,J as ce,g as me,t as K,d as ge,f as G,K as an,L as ri,o as on,M as Jr,N as Ee,e as ne,O as li,v as pe,w as ae,x as be,y as oe,z as ue,q as re,r as le,G as F,u as Be,A as qt,a as ee,c as te,P as U,Q as Y,p as st,R as Fn,T as Tt,U as un,V as Et,W as ps,C as vs,D as ys,E as ws,F as bs,X as si,Y as Ti,Z as Di,_ as ai,$ as Qr,a0 as ks,a1 as Fi,a2 as Is,a3 as Ss,a4 as As,H as oi,a5 as $r,a6 as Yt,a7 as Es,a8 as Ms,a9 as Cs}from"../../chunks/index-dec2a072.js";import{w as Ns,b as Ot}from"../../chunks/paths-f8804f37.js";function xt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ls(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function el(e){let t,n,i;e.length!==2?(t=xt,n=(a,o)=>xt(e(a),o),i=(a,o)=>e(a)-o):(t=e===xt||e===Ls?e:Ts,n=e,i=e);function r(a,o,u=0,h=a.length){if(u<h){if(t(o,o)!==0)return h;do{const c=u+h>>>1;n(a[c],o)<0?u=c+1:h=c}while(u<h)}return u}function s(a,o,u=0,h=a.length){if(u<h){if(t(o,o)!==0)return h;do{const c=u+h>>>1;n(a[c],o)<=0?u=c+1:h=c}while(u<h)}return u}function l(a,o,u=0,h=a.length){const c=r(a,o,u,h-1);return c>u&&i(a[c-1],o)>-i(a[c],o)?c-1:c}return{left:r,center:l,right:s}}function Ts(){return 0}function Ds(e){return e===null?NaN:+e}const Fs=el(xt),Vs=Fs.right;el(Ds).center;const Os=Vs;function tl(e,t){let n,i;if(t===void 0)for(const r of e)r!=null&&(n===void 0?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(n===void 0?s>=s&&(n=i=s):(n>s&&(n=s),i<s&&(i=s)))}return[n,i]}class Vn extends Map{constructor(t,n=Ps){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(Vi(this,t))}has(t){return super.has(Vi(this,t))}set(t,n){return super.set(Hs(this,t),n)}delete(t){return super.delete(Rs(this,t))}}function Vi({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function Hs({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function Rs({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function Ps(e){return e!==null&&typeof e=="object"?e.valueOf():e}function On(e){return e}function Hn(e,...t){return nl(e,On,On,t)}function Oi(e,...t){return nl(e,On,Bs,t)}function Bs(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function nl(e,t,n,i){return function r(s,l){if(l>=i.length)return n(s);const a=new Vn,o=i[l++];let u=-1;for(const h of s){const c=o(h,++u,s),f=a.get(c);f?f.push(h):a.set(c,[h])}for(const[h,c]of a)a.set(h,r(c,l));return t(a)}(e,0)}var Rn=Math.sqrt(50),Pn=Math.sqrt(10),Bn=Math.sqrt(2);function zs(e,t,n){var i,r=-1,s,l,a;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((i=t<e)&&(s=e,e=t,t=s),(a=il(e,t,n))===0||!isFinite(a))return[];if(a>0){let o=Math.round(e/a),u=Math.round(t/a);for(o*a<e&&++o,u*a>t&&--u,l=new Array(s=u-o+1);++r<s;)l[r]=(o+r)*a}else{a=-a;let o=Math.round(e*a),u=Math.round(t*a);for(o/a<e&&++o,u/a>t&&--u,l=new Array(s=u-o+1);++r<s;)l[r]=(o+r)/a}return i&&l.reverse(),l}function il(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,r);return r>=0?(s>=Rn?10:s>=Pn?5:s>=Bn?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=Rn?10:s>=Pn?5:s>=Bn?2:1)}function qs(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/r;return s>=Rn?r*=10:s>=Pn?r*=5:s>=Bn&&(r*=2),t<e?-r:r}function zn(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function xs(e){return e}var Sn=1,An=2,qn=3,kt=4,Hi=1e-6;function Gs(e){return"translate("+e+",0)"}function js(e){return"translate(0,"+e+")"}function Us(e){return t=>+e(t)}function Ys(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Xs(){return!this.__axis}function rl(e,t){var n=[],i=null,r=null,s=6,l=6,a=3,o=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Sn||e===kt?-1:1,h=e===kt||e===An?"x":"y",c=e===Sn||e===qn?Gs:js;function f(_){var v=i==null?t.ticks?t.ticks.apply(t,n):t.domain():i,p=r==null?t.tickFormat?t.tickFormat.apply(t,n):xs:r,b=Math.max(s,0)+a,M=t.range(),N=+M[0]+o,A=+M[M.length-1]+o,m=(t.bandwidth?Ys:Us)(t.copy(),o),S=_.selection?_.selection():_,T=S.selectAll(".domain").data([null]),P=S.selectAll(".tick").data(v,t).order(),R=P.exit(),z=P.enter().append("g").attr("class","tick"),D=P.select("line"),y=P.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(z),D=D.merge(z.append("line").attr("stroke","currentColor").attr(h+"2",u*s)),y=y.merge(z.append("text").attr("fill","currentColor").attr(h,u*b).attr("dy",e===Sn?"0em":e===qn?"0.71em":"0.32em")),_!==S&&(T=T.transition(_),P=P.transition(_),D=D.transition(_),y=y.transition(_),R=R.transition(_).attr("opacity",Hi).attr("transform",function(k){return isFinite(k=m(k))?c(k+o):this.getAttribute("transform")}),z.attr("opacity",Hi).attr("transform",function(k){var I=this.parentNode.__axis;return c((I&&isFinite(I=I(k))?I:m(k))+o)})),R.remove(),T.attr("d",e===kt||e===An?l?"M"+u*l+","+N+"H"+o+"V"+A+"H"+u*l:"M"+o+","+N+"V"+A:l?"M"+N+","+u*l+"V"+o+"H"+A+"V"+u*l:"M"+N+","+o+"H"+A),P.attr("opacity",1).attr("transform",function(k){return c(m(k)+o)}),D.attr(h+"2",u*s),y.attr(h,u*b).text(p),S.filter(Xs).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===An?"start":e===kt?"end":"middle"),S.each(function(){this.__axis=m})}return f.scale=function(_){return arguments.length?(t=_,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(_){return arguments.length?(n=_==null?[]:Array.from(_),f):n.slice()},f.tickValues=function(_){return arguments.length?(i=_==null?null:Array.from(_),f):i&&i.slice()},f.tickFormat=function(_){return arguments.length?(r=_,f):r},f.tickSize=function(_){return arguments.length?(s=l=+_,f):s},f.tickSizeInner=function(_){return arguments.length?(s=+_,f):s},f.tickSizeOuter=function(_){return arguments.length?(l=+_,f):l},f.tickPadding=function(_){return arguments.length?(a=+_,f):a},f.offset=function(_){return arguments.length?(o=+_,f):o},f}function ll(e){return rl(qn,e)}function Ws(e){return rl(kt,e)}var Ks={value:()=>{}};function sl(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Gt(n)}function Gt(e){this._=e}function Zs(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Gt.prototype=sl.prototype={constructor:Gt,on:function(e,t){var n=this._,i=Zs(e+"",n),r,s=-1,l=i.length;if(arguments.length<2){for(;++s<l;)if((r=(e=i[s]).type)&&(r=Js(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<l;)if(r=(e=i[s]).type)n[r]=Ri(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Ri(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Gt(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,s;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,r=s.length;i<r;++i)s[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)}};function Js(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function Ri(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=Ks,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var xn="http://www.w3.org/1999/xhtml";const Pi={svg:"http://www.w3.org/2000/svg",xhtml:xn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Pi.hasOwnProperty(t)?{space:Pi[t],local:e}:e}function Qs(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===xn&&t.documentElement.namespaceURI===xn?t.createElement(e):t.createElementNS(n,e)}}function $s(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function al(e){var t=fn(e);return(t.local?$s:Qs)(t)}function ea(){}function ui(e){return e==null?ea:function(){return this.querySelector(e)}}function ta(e){typeof e!="function"&&(e=ui(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],l=s.length,a=i[r]=new Array(l),o,u,h=0;h<l;++h)(o=s[h])&&(u=e.call(o,o.__data__,h,s))&&("__data__"in o&&(u.__data__=o.__data__),a[h]=u);return new Me(i,this._parents)}function na(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ia(){return[]}function ol(e){return e==null?ia:function(){return this.querySelectorAll(e)}}function ra(e){return function(){return na(e.apply(this,arguments))}}function la(e){typeof e=="function"?e=ra(e):e=ol(e);for(var t=this._groups,n=t.length,i=[],r=[],s=0;s<n;++s)for(var l=t[s],a=l.length,o,u=0;u<a;++u)(o=l[u])&&(i.push(e.call(o,o.__data__,u,l)),r.push(o));return new Me(i,r)}function ul(e){return function(){return this.matches(e)}}function fl(e){return function(t){return t.matches(e)}}var sa=Array.prototype.find;function aa(e){return function(){return sa.call(this.children,e)}}function oa(){return this.firstElementChild}function ua(e){return this.select(e==null?oa:aa(typeof e=="function"?e:fl(e)))}var fa=Array.prototype.filter;function ca(){return Array.from(this.children)}function ha(e){return function(){return fa.call(this.children,e)}}function da(e){return this.selectAll(e==null?ca:ha(typeof e=="function"?e:fl(e)))}function _a(e){typeof e!="function"&&(e=ul(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],l=s.length,a=i[r]=[],o,u=0;u<l;++u)(o=s[u])&&e.call(o,o.__data__,u,s)&&a.push(o);return new Me(i,this._parents)}function cl(e){return new Array(e.length)}function ma(){return new Me(this._enter||this._groups.map(cl),this._parents)}function Xt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Xt.prototype={constructor:Xt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ga(e){return function(){return e}}function pa(e,t,n,i,r,s){for(var l=0,a,o=t.length,u=s.length;l<u;++l)(a=t[l])?(a.__data__=s[l],i[l]=a):n[l]=new Xt(e,s[l]);for(;l<o;++l)(a=t[l])&&(r[l]=a)}function va(e,t,n,i,r,s,l){var a,o,u=new Map,h=t.length,c=s.length,f=new Array(h),_;for(a=0;a<h;++a)(o=t[a])&&(f[a]=_=l.call(o,o.__data__,a,t)+"",u.has(_)?r[a]=o:u.set(_,o));for(a=0;a<c;++a)_=l.call(e,s[a],a,s)+"",(o=u.get(_))?(i[a]=o,o.__data__=s[a],u.delete(_)):n[a]=new Xt(e,s[a]);for(a=0;a<h;++a)(o=t[a])&&u.get(f[a])===o&&(r[a]=o)}function ya(e){return e.__data__}function wa(e,t){if(!arguments.length)return Array.from(this,ya);var n=t?va:pa,i=this._parents,r=this._groups;typeof e!="function"&&(e=ga(e));for(var s=r.length,l=new Array(s),a=new Array(s),o=new Array(s),u=0;u<s;++u){var h=i[u],c=r[u],f=c.length,_=ba(e.call(h,h&&h.__data__,u,i)),v=_.length,p=a[u]=new Array(v),b=l[u]=new Array(v),M=o[u]=new Array(f);n(h,c,p,b,M,_,t);for(var N=0,A=0,m,S;N<v;++N)if(m=p[N]){for(N>=A&&(A=N+1);!(S=b[A])&&++A<v;);m._next=S||null}}return l=new Me(l,i),l._enter=a,l._exit=o,l}function ba(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ka(){return new Me(this._exit||this._groups.map(cl),this._parents)}function Ia(e,t,n){var i=this.enter(),r=this,s=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),i&&r?i.merge(r).order():r}function Sa(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,s=i.length,l=Math.min(r,s),a=new Array(r),o=0;o<l;++o)for(var u=n[o],h=i[o],c=u.length,f=a[o]=new Array(c),_,v=0;v<c;++v)(_=u[v]||h[v])&&(f[v]=_);for(;o<r;++o)a[o]=n[o];return new Me(a,this._parents)}function Aa(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,s=i[r],l;--r>=0;)(l=i[r])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function Ea(e){e||(e=Ma);function t(c,f){return c&&f?e(c.__data__,f.__data__):!c-!f}for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var l=n[s],a=l.length,o=r[s]=new Array(a),u,h=0;h<a;++h)(u=l[h])&&(o[h]=u);o.sort(t)}return new Me(r,this._parents).order()}function Ma(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ca(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Na(){return Array.from(this)}function La(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length;r<s;++r){var l=i[r];if(l)return l}return null}function Ta(){let e=0;for(const t of this)++e;return e}function Da(){return!this.node()}function Fa(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],s=0,l=r.length,a;s<l;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this}function Va(e){return function(){this.removeAttribute(e)}}function Oa(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ha(e,t){return function(){this.setAttribute(e,t)}}function Ra(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Pa(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Ba(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function za(e,t){var n=fn(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Oa:Va:typeof t=="function"?n.local?Ba:Pa:n.local?Ra:Ha)(n,t))}function hl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function qa(e){return function(){this.style.removeProperty(e)}}function xa(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ga(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function ja(e,t,n){return arguments.length>1?this.each((t==null?qa:typeof t=="function"?Ga:xa)(e,t,n==null?"":n)):ct(this.node(),e)}function ct(e,t){return e.style.getPropertyValue(t)||hl(e).getComputedStyle(e,null).getPropertyValue(t)}function Ua(e){return function(){delete this[e]}}function Ya(e,t){return function(){this[e]=t}}function Xa(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Wa(e,t){return arguments.length>1?this.each((t==null?Ua:typeof t=="function"?Xa:Ya)(e,t)):this.node()[e]}function dl(e){return e.trim().split(/^|\s+/)}function fi(e){return e.classList||new _l(e)}function _l(e){this._node=e,this._names=dl(e.getAttribute("class")||"")}_l.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ml(e,t){for(var n=fi(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function gl(e,t){for(var n=fi(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function Ka(e){return function(){ml(this,e)}}function Za(e){return function(){gl(this,e)}}function Ja(e,t){return function(){(t.apply(this,arguments)?ml:gl)(this,e)}}function Qa(e,t){var n=dl(e+"");if(arguments.length<2){for(var i=fi(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?Ja:t?Ka:Za)(n,t))}function $a(){this.textContent=""}function eo(e){return function(){this.textContent=e}}function to(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function no(e){return arguments.length?this.each(e==null?$a:(typeof e=="function"?to:eo)(e)):this.node().textContent}function io(){this.innerHTML=""}function ro(e){return function(){this.innerHTML=e}}function lo(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function so(e){return arguments.length?this.each(e==null?io:(typeof e=="function"?lo:ro)(e)):this.node().innerHTML}function ao(){this.nextSibling&&this.parentNode.appendChild(this)}function oo(){return this.each(ao)}function uo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fo(){return this.each(uo)}function co(e){var t=typeof e=="function"?e:al(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ho(){return null}function _o(e,t){var n=typeof e=="function"?e:al(e),i=t==null?ho:typeof t=="function"?t:ui(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function mo(){var e=this.parentNode;e&&e.removeChild(this)}function go(){return this.each(mo)}function po(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function vo(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function yo(e){return this.select(e?vo:po)}function wo(e){return arguments.length?this.property("__data__",e):this.node().__data__}function bo(e){return function(t){e.call(this,t,this.__data__)}}function ko(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function Io(e){return function(){var t=this.__on;if(!!t){for(var n=0,i=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++i]=s;++i?t.length=i:delete this.__on}}}function So(e,t,n){return function(){var i=this.__on,r,s=bo(t);if(i){for(var l=0,a=i.length;l<a;++l)if((r=i[l]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},i?i.push(r):this.__on=[r]}}function Ao(e,t,n){var i=ko(e+""),r,s=i.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var o=0,u=a.length,h;o<u;++o)for(r=0,h=a[o];r<s;++r)if((l=i[r]).type===h.type&&l.name===h.name)return h.value}return}for(a=t?So:Io,r=0;r<s;++r)this.each(a(i[r],t,n));return this}function pl(e,t,n){var i=hl(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Eo(e,t){return function(){return pl(this,e,t)}}function Mo(e,t){return function(){return pl(this,e,t.apply(this,arguments))}}function Co(e,t){return this.each((typeof t=="function"?Mo:Eo)(e,t))}function*No(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length,l;r<s;++r)(l=i[r])&&(yield l)}var vl=[null];function Me(e,t){this._groups=e,this._parents=t}function Dt(){return new Me([[document.documentElement]],vl)}function Lo(){return this}Me.prototype=Dt.prototype={constructor:Me,select:ta,selectAll:la,selectChild:ua,selectChildren:da,filter:_a,data:wa,enter:ma,exit:ka,join:Ia,merge:Sa,selection:Lo,order:Aa,sort:Ea,call:Ca,nodes:Na,node:La,size:Ta,empty:Da,each:Fa,attr:za,style:ja,property:Wa,classed:Qa,text:no,html:so,raise:oo,lower:fo,append:co,insert:_o,remove:go,clone:yo,datum:wo,on:Ao,dispatch:Co,[Symbol.iterator]:No};function It(e){return typeof e=="string"?new Me([[document.querySelector(e)]],[document.documentElement]):new Me([[e]],vl)}function ci(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yl(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Ft(){}var Mt=.7,Wt=1/Mt,ft="\\s*([+-]?\\d+)\\s*",Ct="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",To=/^#([0-9a-f]{3,8})$/,Do=new RegExp(`^rgb\\(${ft},${ft},${ft}\\)$`),Fo=new RegExp(`^rgb\\(${Pe},${Pe},${Pe}\\)$`),Vo=new RegExp(`^rgba\\(${ft},${ft},${ft},${Ct}\\)$`),Oo=new RegExp(`^rgba\\(${Pe},${Pe},${Pe},${Ct}\\)$`),Ho=new RegExp(`^hsl\\(${Ct},${Pe},${Pe}\\)$`),Ro=new RegExp(`^hsla\\(${Ct},${Pe},${Pe},${Ct}\\)$`),Bi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ci(Ft,Qe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zi,formatHex:zi,formatHex8:Po,formatHsl:Bo,formatRgb:qi,toString:qi});function zi(){return this.rgb().formatHex()}function Po(){return this.rgb().formatHex8()}function Bo(){return wl(this).formatHsl()}function qi(){return this.rgb().formatRgb()}function Qe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=To.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xi(t):n===3?new ke(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ht(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ht(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Do.exec(e))?new ke(t[1],t[2],t[3],1):(t=Fo.exec(e))?new ke(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Vo.exec(e))?Ht(t[1],t[2],t[3],t[4]):(t=Oo.exec(e))?Ht(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ho.exec(e))?Ui(t[1],t[2]/100,t[3]/100,1):(t=Ro.exec(e))?Ui(t[1],t[2]/100,t[3]/100,t[4]):Bi.hasOwnProperty(e)?xi(Bi[e]):e==="transparent"?new ke(NaN,NaN,NaN,0):null}function xi(e){return new ke(e>>16&255,e>>8&255,e&255,1)}function Ht(e,t,n,i){return i<=0&&(e=t=n=NaN),new ke(e,t,n,i)}function zo(e){return e instanceof Ft||(e=Qe(e)),e?(e=e.rgb(),new ke(e.r,e.g,e.b,e.opacity)):new ke}function Gn(e,t,n,i){return arguments.length===1?zo(e):new ke(e,t,n,i==null?1:i)}function ke(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}ci(ke,Gn,yl(Ft,{brighter(e){return e=e==null?Wt:Math.pow(Wt,e),new ke(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mt:Math.pow(Mt,e),new ke(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ke(Je(this.r),Je(this.g),Je(this.b),Kt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gi,formatHex:Gi,formatHex8:qo,formatRgb:ji,toString:ji}));function Gi(){return`#${Ze(this.r)}${Ze(this.g)}${Ze(this.b)}`}function qo(){return`#${Ze(this.r)}${Ze(this.g)}${Ze(this.b)}${Ze((isNaN(this.opacity)?1:this.opacity)*255)}`}function ji(){const e=Kt(this.opacity);return`${e===1?"rgb(":"rgba("}${Je(this.r)}, ${Je(this.g)}, ${Je(this.b)}${e===1?")":`, ${e})`}`}function Kt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Je(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ze(e){return e=Je(e),(e<16?"0":"")+e.toString(16)}function Ui(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new De(e,t,n,i)}function wl(e){if(e instanceof De)return new De(e.h,e.s,e.l,e.opacity);if(e instanceof Ft||(e=Qe(e)),!e)return new De;if(e instanceof De)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),s=Math.max(t,n,i),l=NaN,a=s-r,o=(s+r)/2;return a?(t===s?l=(n-i)/a+(n<i)*6:n===s?l=(i-t)/a+2:l=(t-n)/a+4,a/=o<.5?s+r:2-s-r,l*=60):a=o>0&&o<1?0:l,new De(l,a,o,e.opacity)}function xo(e,t,n,i){return arguments.length===1?wl(e):new De(e,t,n,i==null?1:i)}function De(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}ci(De,xo,yl(Ft,{brighter(e){return e=e==null?Wt:Math.pow(Wt,e),new De(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mt:Math.pow(Mt,e),new De(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new ke(En(e>=240?e-240:e+120,r,i),En(e,r,i),En(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new De(Yi(this.h),Rt(this.s),Rt(this.l),Kt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kt(this.opacity);return`${e===1?"hsl(":"hsla("}${Yi(this.h)}, ${Rt(this.s)*100}%, ${Rt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Yi(e){return e=(e||0)%360,e<0?e+360:e}function Rt(e){return Math.max(0,Math.min(1,e||0))}function En(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const hi=e=>()=>e;function Go(e,t){return function(n){return e+n*t}}function jo(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Uo(e){return(e=+e)==1?bl:function(t,n){return n-t?jo(t,n,e):hi(isNaN(t)?n:t)}}function bl(e,t){var n=t-e;return n?Go(e,n):hi(isNaN(e)?t:e)}const Zt=function e(t){var n=Uo(t);function i(r,s){var l=n((r=Gn(r)).r,(s=Gn(s)).r),a=n(r.g,s.g),o=n(r.b,s.b),u=bl(r.opacity,s.opacity);return function(h){return r.r=l(h),r.g=a(h),r.b=o(h),r.opacity=u(h),r+""}}return i.gamma=e,i}(1);function Yo(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(s){for(r=0;r<n;++r)i[r]=e[r]*(1-s)+t[r]*s;return i}}function Xo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Wo(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),s=new Array(n),l;for(l=0;l<i;++l)r[l]=di(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(a){for(l=0;l<i;++l)s[l]=r[l](a);return s}}function Ko(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Te(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Zo(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=di(e[r],t[r]):i[r]=t[r];return function(s){for(r in n)i[r]=n[r](s);return i}}var jn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mn=new RegExp(jn.source,"g");function Jo(e){return function(){return e}}function Qo(e){return function(t){return e(t)+""}}function kl(e,t){var n=jn.lastIndex=Mn.lastIndex=0,i,r,s,l=-1,a=[],o=[];for(e=e+"",t=t+"";(i=jn.exec(e))&&(r=Mn.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[l]?a[l]+=s:a[++l]=s),(i=i[0])===(r=r[0])?a[l]?a[l]+=r:a[++l]=r:(a[++l]=null,o.push({i:l,x:Te(i,r)})),n=Mn.lastIndex;return n<t.length&&(s=t.slice(n),a[l]?a[l]+=s:a[++l]=s),a.length<2?o[0]?Qo(o[0].x):Jo(t):(t=o.length,function(u){for(var h=0,c;h<t;++h)a[(c=o[h]).i]=c.x(u);return a.join("")})}function di(e,t){var n=typeof t,i;return t==null||n==="boolean"?hi(t):(n==="number"?Te:n==="string"?(i=Qe(t))?(t=i,Zt):kl:t instanceof Qe?Zt:t instanceof Date?Ko:Xo(t)?Yo:Array.isArray(t)?Wo:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Zo:Te)(e,t)}function $o(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Xi=180/Math.PI,Un={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Il(e,t,n,i,r,s){var l,a,o;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(o=e*n+t*i)&&(n-=e*o,i-=t*o),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,o/=a),e*i<t*n&&(e=-e,t=-t,o=-o,l=-l),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*Xi,skewX:Math.atan(o)*Xi,scaleX:l,scaleY:a}}var Pt;function eu(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Un:Il(t.a,t.b,t.c,t.d,t.e,t.f)}function tu(e){return e==null||(Pt||(Pt=document.createElementNS("http://www.w3.org/2000/svg","g")),Pt.setAttribute("transform",e),!(e=Pt.transform.baseVal.consolidate()))?Un:(e=e.matrix,Il(e.a,e.b,e.c,e.d,e.e,e.f))}function Sl(e,t,n,i){function r(u){return u.length?u.pop()+" ":""}function s(u,h,c,f,_,v){if(u!==c||h!==f){var p=_.push("translate(",null,t,null,n);v.push({i:p-4,x:Te(u,c)},{i:p-2,x:Te(h,f)})}else(c||f)&&_.push("translate("+c+t+f+n)}function l(u,h,c,f){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),f.push({i:c.push(r(c)+"rotate(",null,i)-2,x:Te(u,h)})):h&&c.push(r(c)+"rotate("+h+i)}function a(u,h,c,f){u!==h?f.push({i:c.push(r(c)+"skewX(",null,i)-2,x:Te(u,h)}):h&&c.push(r(c)+"skewX("+h+i)}function o(u,h,c,f,_,v){if(u!==c||h!==f){var p=_.push(r(_)+"scale(",null,",",null,")");v.push({i:p-4,x:Te(u,c)},{i:p-2,x:Te(h,f)})}else(c!==1||f!==1)&&_.push(r(_)+"scale("+c+","+f+")")}return function(u,h){var c=[],f=[];return u=e(u),h=e(h),s(u.translateX,u.translateY,h.translateX,h.translateY,c,f),l(u.rotate,h.rotate,c,f),a(u.skewX,h.skewX,c,f),o(u.scaleX,u.scaleY,h.scaleX,h.scaleY,c,f),u=h=null,function(_){for(var v=-1,p=f.length,b;++v<p;)c[(b=f[v]).i]=b.x(_);return c.join("")}}}var nu=Sl(eu,"px, ","px)","deg)"),iu=Sl(tu,", ",")",")"),ht=0,St=0,pt=0,Al=1e3,Jt,At,Qt=0,$e=0,cn=0,Nt=typeof performance=="object"&&performance.now?performance:Date,El=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _i(){return $e||(El(ru),$e=Nt.now()+cn)}function ru(){$e=0}function $t(){this._call=this._time=this._next=null}$t.prototype=Ml.prototype={constructor:$t,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?_i():+n)+(t==null?0:+t),!this._next&&At!==this&&(At?At._next=this:Jt=this,At=this),this._call=e,this._time=n,Yn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yn())}};function Ml(e,t,n){var i=new $t;return i.restart(e,t,n),i}function lu(){_i(),++ht;for(var e=Jt,t;e;)(t=$e-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ht}function Wi(){$e=(Qt=Nt.now())+cn,ht=St=0;try{lu()}finally{ht=0,au(),$e=0}}function su(){var e=Nt.now(),t=e-Qt;t>Al&&(cn-=t,Qt=e)}function au(){for(var e,t=Jt,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Jt=n);At=e,Yn(i)}function Yn(e){if(!ht){St&&(St=clearTimeout(St));var t=e-$e;t>24?(e<1/0&&(St=setTimeout(Wi,e-Nt.now()-cn)),pt&&(pt=clearInterval(pt))):(pt||(Qt=Nt.now(),pt=setInterval(su,Al)),ht=1,El(Wi))}}function Ki(e,t,n){var i=new $t;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var ou=sl("start","end","cancel","interrupt"),uu=[],Cl=0,Zi=1,Xn=2,jt=3,Ji=4,Wn=5,Ut=6;function hn(e,t,n,i,r,s){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;fu(e,n,{name:t,index:i,group:r,on:ou,tween:uu,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Cl})}function mi(e,t){var n=He(e,t);if(n.state>Cl)throw new Error("too late; already scheduled");return n}function ze(e,t){var n=He(e,t);if(n.state>jt)throw new Error("too late; already running");return n}function He(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function fu(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=Ml(s,0,n.time);function s(u){n.state=Zi,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var h,c,f,_;if(n.state!==Zi)return o();for(h in i)if(_=i[h],_.name===n.name){if(_.state===jt)return Ki(l);_.state===Ji?(_.state=Ut,_.timer.stop(),_.on.call("interrupt",e,e.__data__,_.index,_.group),delete i[h]):+h<t&&(_.state=Ut,_.timer.stop(),_.on.call("cancel",e,e.__data__,_.index,_.group),delete i[h])}if(Ki(function(){n.state===jt&&(n.state=Ji,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Xn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Xn){for(n.state=jt,r=new Array(f=n.tween.length),h=0,c=-1;h<f;++h)(_=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=_);r.length=c+1}}function a(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(o),n.state=Wn,1),c=-1,f=r.length;++c<f;)r[c].call(e,h);n.state===Wn&&(n.on.call("end",e,e.__data__,n.index,n.group),o())}function o(){n.state=Ut,n.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function cu(e,t){var n=e.__transition,i,r,s=!0,l;if(!!n){t=t==null?null:t+"";for(l in n){if((i=n[l]).name!==t){s=!1;continue}r=i.state>Xn&&i.state<Wn,i.state=Ut,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[l]}s&&delete e.__transition}}function hu(e){return this.each(function(){cu(this,e)})}function du(e,t){var n,i;return function(){var r=ze(this,e),s=r.tween;if(s!==n){i=n=s;for(var l=0,a=i.length;l<a;++l)if(i[l].name===t){i=i.slice(),i.splice(l,1);break}}r.tween=i}}function _u(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var s=ze(this,e),l=s.tween;if(l!==i){r=(i=l).slice();for(var a={name:t,value:n},o=0,u=r.length;o<u;++o)if(r[o].name===t){r[o]=a;break}o===u&&r.push(a)}s.tween=r}}function mu(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=He(this.node(),n).tween,r=0,s=i.length,l;r<s;++r)if((l=i[r]).name===e)return l.value;return null}return this.each((t==null?du:_u)(n,e,t))}function gi(e,t,n){var i=e._id;return e.each(function(){var r=ze(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return He(r,i).value[t]}}function Nl(e,t){var n;return(typeof t=="number"?Te:t instanceof Qe?Zt:(n=Qe(t))?(t=n,Zt):kl)(e,t)}function gu(e){return function(){this.removeAttribute(e)}}function pu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vu(e,t,n){var i,r=n+"",s;return function(){var l=this.getAttribute(e);return l===r?null:l===i?s:s=t(i=l,n)}}function yu(e,t,n){var i,r=n+"",s;return function(){var l=this.getAttributeNS(e.space,e.local);return l===r?null:l===i?s:s=t(i=l,n)}}function wu(e,t,n){var i,r,s;return function(){var l,a=n(this),o;return a==null?void this.removeAttribute(e):(l=this.getAttribute(e),o=a+"",l===o?null:l===i&&o===r?s:(r=o,s=t(i=l,a)))}}function bu(e,t,n){var i,r,s;return function(){var l,a=n(this),o;return a==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),o=a+"",l===o?null:l===i&&o===r?s:(r=o,s=t(i=l,a)))}}function ku(e,t){var n=fn(e),i=n==="transform"?iu:Nl;return this.attrTween(e,typeof t=="function"?(n.local?bu:wu)(n,i,gi(this,"attr."+e,t)):t==null?(n.local?pu:gu)(n):(n.local?yu:vu)(n,i,t))}function Iu(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Su(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Au(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&Su(e,s)),n}return r._value=t,r}function Eu(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&Iu(e,s)),n}return r._value=t,r}function Mu(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=fn(e);return this.tween(n,(i.local?Au:Eu)(i,t))}function Cu(e,t){return function(){mi(this,e).delay=+t.apply(this,arguments)}}function Nu(e,t){return t=+t,function(){mi(this,e).delay=t}}function Lu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Cu:Nu)(t,e)):He(this.node(),t).delay}function Tu(e,t){return function(){ze(this,e).duration=+t.apply(this,arguments)}}function Du(e,t){return t=+t,function(){ze(this,e).duration=t}}function Fu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Tu:Du)(t,e)):He(this.node(),t).duration}function Vu(e,t){if(typeof t!="function")throw new Error;return function(){ze(this,e).ease=t}}function Ou(e){var t=this._id;return arguments.length?this.each(Vu(t,e)):He(this.node(),t).ease}function Hu(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ze(this,e).ease=n}}function Ru(e){if(typeof e!="function")throw new Error;return this.each(Hu(this._id,e))}function Pu(e){typeof e!="function"&&(e=ul(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],l=s.length,a=i[r]=[],o,u=0;u<l;++u)(o=s[u])&&e.call(o,o.__data__,u,s)&&a.push(o);return new Ge(i,this._parents,this._name,this._id)}function Bu(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,s=Math.min(i,r),l=new Array(i),a=0;a<s;++a)for(var o=t[a],u=n[a],h=o.length,c=l[a]=new Array(h),f,_=0;_<h;++_)(f=o[_]||u[_])&&(c[_]=f);for(;a<i;++a)l[a]=t[a];return new Ge(l,this._parents,this._name,this._id)}function zu(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function qu(e,t,n){var i,r,s=zu(t)?mi:ze;return function(){var l=s(this,e),a=l.on;a!==i&&(r=(i=a).copy()).on(t,n),l.on=r}}function xu(e,t){var n=this._id;return arguments.length<2?He(this.node(),n).on.on(e):this.each(qu(n,e,t))}function Gu(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ju(){return this.on("end.remove",Gu(this._id))}function Uu(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ui(e));for(var i=this._groups,r=i.length,s=new Array(r),l=0;l<r;++l)for(var a=i[l],o=a.length,u=s[l]=new Array(o),h,c,f=0;f<o;++f)(h=a[f])&&(c=e.call(h,h.__data__,f,a))&&("__data__"in h&&(c.__data__=h.__data__),u[f]=c,hn(u[f],t,n,f,u,He(h,n)));return new Ge(s,this._parents,t,n)}function Yu(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ol(e));for(var i=this._groups,r=i.length,s=[],l=[],a=0;a<r;++a)for(var o=i[a],u=o.length,h,c=0;c<u;++c)if(h=o[c]){for(var f=e.call(h,h.__data__,c,o),_,v=He(h,n),p=0,b=f.length;p<b;++p)(_=f[p])&&hn(_,t,n,p,f,v);s.push(f),l.push(h)}return new Ge(s,l,t,n)}var Xu=Dt.prototype.constructor;function Wu(){return new Xu(this._groups,this._parents)}function Ku(e,t){var n,i,r;return function(){var s=ct(this,e),l=(this.style.removeProperty(e),ct(this,e));return s===l?null:s===n&&l===i?r:r=t(n=s,i=l)}}function Ll(e){return function(){this.style.removeProperty(e)}}function Zu(e,t,n){var i,r=n+"",s;return function(){var l=ct(this,e);return l===r?null:l===i?s:s=t(i=l,n)}}function Ju(e,t,n){var i,r,s;return function(){var l=ct(this,e),a=n(this),o=a+"";return a==null&&(o=a=(this.style.removeProperty(e),ct(this,e))),l===o?null:l===i&&o===r?s:(r=o,s=t(i=l,a))}}function Qu(e,t){var n,i,r,s="style."+t,l="end."+s,a;return function(){var o=ze(this,e),u=o.on,h=o.value[s]==null?a||(a=Ll(t)):void 0;(u!==n||r!==h)&&(i=(n=u).copy()).on(l,r=h),o.on=i}}function $u(e,t,n){var i=(e+="")=="transform"?nu:Nl;return t==null?this.styleTween(e,Ku(e,i)).on("end.style."+e,Ll(e)):typeof t=="function"?this.styleTween(e,Ju(e,i,gi(this,"style."+e,t))).each(Qu(this._id,e)):this.styleTween(e,Zu(e,i,t),n).on("end.style."+e,null)}function ef(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function tf(e,t,n){var i,r;function s(){var l=t.apply(this,arguments);return l!==r&&(i=(r=l)&&ef(e,l,n)),i}return s._value=t,s}function nf(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,tf(e,t,n==null?"":n))}function rf(e){return function(){this.textContent=e}}function lf(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function sf(e){return this.tween("text",typeof e=="function"?lf(gi(this,"text",e)):rf(e==null?"":e+""))}function af(e){return function(t){this.textContent=e.call(this,t)}}function of(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&af(r)),t}return i._value=e,i}function uf(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,of(e))}function ff(){for(var e=this._name,t=this._id,n=Tl(),i=this._groups,r=i.length,s=0;s<r;++s)for(var l=i[s],a=l.length,o,u=0;u<a;++u)if(o=l[u]){var h=He(o,t);hn(o,e,n,u,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Ge(i,this._parents,e,n)}function cf(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(s,l){var a={value:l},o={value:function(){--r===0&&s()}};n.each(function(){var u=ze(this,i),h=u.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(o)),u.on=t}),r===0&&s()})}var hf=0;function Ge(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Tl(){return++hf}var xe=Dt.prototype;Ge.prototype={constructor:Ge,select:Uu,selectAll:Yu,selectChild:xe.selectChild,selectChildren:xe.selectChildren,filter:Pu,merge:Bu,selection:Wu,transition:ff,call:xe.call,nodes:xe.nodes,node:xe.node,size:xe.size,empty:xe.empty,each:xe.each,on:xu,attr:ku,attrTween:Mu,style:$u,styleTween:nf,text:sf,textTween:uf,remove:ju,tween:mu,delay:Lu,duration:Fu,ease:Ou,easeVarying:Ru,end:cf,[Symbol.iterator]:xe[Symbol.iterator]};function df(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _f={time:null,delay:0,duration:250,ease:df};function mf(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function gf(e){var t,n;e instanceof Ge?(t=e._id,e=e._name):(t=Tl(),(n=_f).time=_i(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var l=i[s],a=l.length,o,u=0;u<a;++u)(o=l[u])&&hn(o,e,t,u,l,n||mf(o,t));return new Ge(i,this._parents,e,t)}Dt.prototype.interrupt=hu;Dt.prototype.transition=gf;const Kn=Math.PI,Zn=2*Kn,Ke=1e-6,pf=Zn-Ke;function Jn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Qn(){return new Jn}Jn.prototype=Qn.prototype={constructor:Jn,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,s){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+s)},arcTo:function(e,t,n,i,r){e=+e,t=+t,n=+n,i=+i,r=+r;var s=this._x1,l=this._y1,a=n-e,o=i-t,u=s-e,h=l-t,c=u*u+h*h;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(c>Ke)if(!(Math.abs(h*a-o*u)>Ke)||!r)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=n-s,_=i-l,v=a*a+o*o,p=f*f+_*_,b=Math.sqrt(v),M=Math.sqrt(c),N=r*Math.tan((Kn-Math.acos((v+c-p)/(2*b*M)))/2),A=N/M,m=N/b;Math.abs(A-1)>Ke&&(this._+="L"+(e+A*u)+","+(t+A*h)),this._+="A"+r+","+r+",0,0,"+ +(h*f>u*_)+","+(this._x1=e+m*a)+","+(this._y1=t+m*o)}},arc:function(e,t,n,i,r,s){e=+e,t=+t,n=+n,s=!!s;var l=n*Math.cos(i),a=n*Math.sin(i),o=e+l,u=t+a,h=1^s,c=s?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+o+","+u:(Math.abs(this._x1-o)>Ke||Math.abs(this._y1-u)>Ke)&&(this._+="L"+o+","+u),n&&(c<0&&(c=c%Zn+Zn),c>pf?this._+="A"+n+","+n+",0,1,"+h+","+(e-l)+","+(t-a)+"A"+n+","+n+",0,1,"+h+","+(this._x1=o)+","+(this._y1=u):c>Ke&&(this._+="A"+n+","+n+",0,"+ +(c>=Kn)+","+h+","+(this._x1=e+n*Math.cos(r))+","+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Qi={},Cn={},Nn=34,vt=10,Ln=13;function Dl(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function vf(e,t){var n=Dl(e);return function(i,r){return t(n(i),r,e)}}function $i(e){var t=Object.create(null),n=[];return e.forEach(function(i){for(var r in i)r in t||n.push(t[r]=r)}),n}function we(e,t){var n=e+"",i=n.length;return i<t?new Array(t-i+1).join(0)+n:n}function yf(e){return e<0?"-"+we(-e,6):e>9999?"+"+we(e,6):we(e,4)}function wf(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),i=e.getUTCSeconds(),r=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":yf(e.getUTCFullYear())+"-"+we(e.getUTCMonth()+1,2)+"-"+we(e.getUTCDate(),2)+(r?"T"+we(t,2)+":"+we(n,2)+":"+we(i,2)+"."+we(r,3)+"Z":i?"T"+we(t,2)+":"+we(n,2)+":"+we(i,2)+"Z":n||t?"T"+we(t,2)+":"+we(n,2)+"Z":"")}function bf(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function i(c,f){var _,v,p=r(c,function(b,M){if(_)return _(b,M-1);v=b,_=f?vf(b,f):Dl(b)});return p.columns=v||[],p}function r(c,f){var _=[],v=c.length,p=0,b=0,M,N=v<=0,A=!1;c.charCodeAt(v-1)===vt&&--v,c.charCodeAt(v-1)===Ln&&--v;function m(){if(N)return Cn;if(A)return A=!1,Qi;var T,P=p,R;if(c.charCodeAt(P)===Nn){for(;p++<v&&c.charCodeAt(p)!==Nn||c.charCodeAt(++p)===Nn;);return(T=p)>=v?N=!0:(R=c.charCodeAt(p++))===vt?A=!0:R===Ln&&(A=!0,c.charCodeAt(p)===vt&&++p),c.slice(P+1,T-1).replace(/""/g,'"')}for(;p<v;){if((R=c.charCodeAt(T=p++))===vt)A=!0;else if(R===Ln)A=!0,c.charCodeAt(p)===vt&&++p;else if(R!==n)continue;return c.slice(P,T)}return N=!0,c.slice(P,v)}for(;(M=m())!==Cn;){for(var S=[];M!==Qi&&M!==Cn;)S.push(M),M=m();f&&(S=f(S,b++))==null||_.push(S)}return _}function s(c,f){return c.map(function(_){return f.map(function(v){return h(_[v])}).join(e)})}function l(c,f){return f==null&&(f=$i(c)),[f.map(h).join(e)].concat(s(c,f)).join(`
`)}function a(c,f){return f==null&&(f=$i(c)),s(c,f).join(`
`)}function o(c){return c.map(u).join(`
`)}function u(c){return c.map(h).join(e)}function h(c){return c==null?"":c instanceof Date?wf(c):t.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:i,parseRows:r,format:l,formatBody:a,formatRows:o,formatRow:u,formatValue:h}}var kf=bf(","),If=kf.parse;function Sf(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Af(e,t){return fetch(e,t).then(Sf)}function Ef(e){return function(t,n,i){return arguments.length===2&&typeof n=="function"&&(i=n,n=void 0),Af(t,n).then(function(r){return e(r,i)})}}var Bt=Ef(If);function Mf(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function en(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function dt(e){return e=en(Math.abs(e)),e?e[1]:NaN}function Cf(e,t){return function(n,i){for(var r=n.length,s=[],l=0,a=e[0],o=0;r>0&&a>0&&(o+a+1>i&&(a=Math.max(1,i-o)),s.push(n.substring(r-=a,r+a)),!((o+=a+1)>i));)a=e[l=(l+1)%e.length];return s.reverse().join(t)}}function Nf(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Lf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tn(e){if(!(t=Lf.exec(e)))throw new Error("invalid format: "+e);var t;return new pi({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tn.prototype=pi.prototype;function pi(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Tf(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var Fl;function Df(e,t){var n=en(e,t);if(!n)return e+"";var i=n[0],r=n[1],s=r-(Fl=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=i.length;return s===l?i:s>l?i+new Array(s-l+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+en(e,Math.max(0,t+s-1))[0]}function er(e,t){var n=en(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const tr={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Mf,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>er(e*100,t),r:er,s:Df,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nr(e){return e}var ir=Array.prototype.map,rr=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Ff(e){var t=e.grouping===void 0||e.thousands===void 0?nr:Cf(ir.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?nr:Nf(ir.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",o=e.nan===void 0?"NaN":e.nan+"";function u(c){c=tn(c);var f=c.fill,_=c.align,v=c.sign,p=c.symbol,b=c.zero,M=c.width,N=c.comma,A=c.precision,m=c.trim,S=c.type;S==="n"?(N=!0,S="g"):tr[S]||(A===void 0&&(A=12),m=!0,S="g"),(b||f==="0"&&_==="=")&&(b=!0,f="0",_="=");var T=p==="$"?n:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",P=p==="$"?i:/[%p]/.test(S)?l:"",R=tr[S],z=/[defgprs%]/.test(S);A=A===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function D(y){var k=T,I=P,O,E,C;if(S==="c")I=R(y)+I,y="";else{y=+y;var x=y<0||1/y<0;if(y=isNaN(y)?o:R(Math.abs(y),A),m&&(y=Tf(y)),x&&+y==0&&v!=="+"&&(x=!1),k=(x?v==="("?v:a:v==="-"||v==="("?"":v)+k,I=(S==="s"?rr[8+Fl/3]:"")+I+(x&&v==="("?")":""),z){for(O=-1,E=y.length;++O<E;)if(C=y.charCodeAt(O),48>C||C>57){I=(C===46?r+y.slice(O+1):y.slice(O))+I,y=y.slice(0,O);break}}}N&&!b&&(y=t(y,1/0));var J=k.length+y.length+I.length,Q=J<M?new Array(M-J+1).join(f):"";switch(N&&b&&(y=t(Q+y,Q.length?M-I.length:1/0),Q=""),_){case"<":y=k+y+I+Q;break;case"=":y=k+Q+y+I;break;case"^":y=Q.slice(0,J=Q.length>>1)+k+y+I+Q.slice(J);break;default:y=Q+k+y+I;break}return s(y)}return D.toString=function(){return c+""},D}function h(c,f){var _=u((c=tn(c),c.type="f",c)),v=Math.max(-8,Math.min(8,Math.floor(dt(f)/3)))*3,p=Math.pow(10,-v),b=rr[8+v/3];return function(M){return _(p*M)+b}}return{format:u,formatPrefix:h}}var zt,_t,Vl;Vf({thousands:",",grouping:[3],currency:["$",""]});function Vf(e){return zt=Ff(e),_t=zt.format,Vl=zt.formatPrefix,zt}function Of(e){return Math.max(0,-dt(Math.abs(e)))}function Hf(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dt(t)/3)))*3-dt(Math.abs(e)))}function Rf(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dt(t)-dt(e))+1}function Pf(e){var t=0,n=e.children,i=n&&n.length;if(!i)t=1;else for(;--i>=0;)t+=n[i].value;e.value=t}function Bf(){return this.eachAfter(Pf)}function zf(e,t){let n=-1;for(const i of this)e.call(t,i,++n,this);return this}function qf(e,t){for(var n=this,i=[n],r,s,l=-1;n=i.pop();)if(e.call(t,n,++l,this),r=n.children)for(s=r.length-1;s>=0;--s)i.push(r[s]);return this}function xf(e,t){for(var n=this,i=[n],r=[],s,l,a,o=-1;n=i.pop();)if(r.push(n),s=n.children)for(l=0,a=s.length;l<a;++l)i.push(s[l]);for(;n=r.pop();)e.call(t,n,++o,this);return this}function Gf(e,t){let n=-1;for(const i of this)if(e.call(t,i,++n,this))return i}function jf(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,i=t.children,r=i&&i.length;--r>=0;)n+=i[r].value;t.value=n})}function Uf(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Yf(e){for(var t=this,n=Xf(t,e),i=[t];t!==n;)t=t.parent,i.push(t);for(var r=i.length;e!==n;)i.splice(r,0,e),e=e.parent;return i}function Xf(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),r=null;for(e=n.pop(),t=i.pop();e===t;)r=e,e=n.pop(),t=i.pop();return r}function Wf(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Kf(){return Array.from(this)}function Zf(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Jf(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Qf(){var e=this,t,n=[e],i,r,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,i=e.children)for(r=0,s=i.length;r<s;++r)n.push(i[r]);while(n.length)}function Ol(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=tc)):t===void 0&&(t=ec);for(var n=new Lt(e),i,r=[n],s,l,a,o;i=r.pop();)if((l=t(i.data))&&(o=(l=Array.from(l)).length))for(i.children=l,a=o-1;a>=0;--a)r.push(s=l[a]=new Lt(l[a])),s.parent=i,s.depth=i.depth+1;return n.eachBefore(Hl)}function $f(){return Ol(this).eachBefore(nc)}function ec(e){return e.children}function tc(e){return Array.isArray(e)?e[1]:null}function nc(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Hl(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Lt(e){this.data=e,this.depth=this.height=0,this.parent=null}Lt.prototype=Ol.prototype={constructor:Lt,count:Bf,each:zf,eachAfter:xf,eachBefore:qf,find:Gf,sum:jf,sort:Uf,path:Yf,ancestors:Wf,descendants:Kf,leaves:Zf,links:Jf,copy:$f,[Symbol.iterator]:Qf};function Tn(e){return e==null?null:Rl(e)}function Rl(e){if(typeof e!="function")throw new Error;return e}function yt(){return 0}function wt(e){return function(){return e}}function ic(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Pl(e,t,n,i,r){for(var s=e.children,l,a=-1,o=s.length,u=e.value&&(i-t)/e.value;++a<o;)l=s[a],l.y0=n,l.y1=r,l.x0=t,l.x1=t+=l.value*u}var rc={depth:-1},lr={},Dn={};function lc(e){return e.id}function sc(e){return e.parentId}function ac(){var e=lc,t=sc,n;function i(r){var s=Array.from(r),l=e,a=t,o,u,h,c,f,_,v,p,b=new Map;if(n!=null){const M=s.map((m,S)=>oc(n(m,S,r))),N=M.map(sr),A=new Set(M).add("");for(const m of N)A.has(m)||(A.add(m),M.push(m),N.push(sr(m)),s.push(Dn));l=(m,S)=>M[S],a=(m,S)=>N[S]}for(h=0,o=s.length;h<o;++h)u=s[h],_=s[h]=new Lt(u),(v=l(u,h,r))!=null&&(v+="")&&(p=_.id=v,b.set(p,b.has(p)?lr:_)),(v=a(u,h,r))!=null&&(v+="")&&(_.parent=v);for(h=0;h<o;++h)if(_=s[h],v=_.parent){if(f=b.get(v),!f)throw new Error("missing: "+v);if(f===lr)throw new Error("ambiguous: "+v);f.children?f.children.push(_):f.children=[_],_.parent=f}else{if(c)throw new Error("multiple roots");c=_}if(!c)throw new Error("no root");if(n!=null){for(;c.data===Dn&&c.children.length===1;)c=c.children[0],--o;for(let M=s.length-1;M>=0&&(_=s[M],_.data===Dn);--M)_.data=null}if(c.parent=rc,c.eachBefore(function(M){M.depth=M.parent.depth+1,--o}).eachBefore(Hl),c.parent=null,o>0)throw new Error("cycle");return c}return i.id=function(r){return arguments.length?(e=Tn(r),i):e},i.parentId=function(r){return arguments.length?(t=Tn(r),i):t},i.path=function(r){return arguments.length?(n=Tn(r),i):n},i}function oc(e){e=`${e}`;let t=e.length;return $n(e,t-1)&&!$n(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function sr(e){let t=e.length;if(t<2)return"";for(;--t>1&&!$n(e,t););return e.slice(0,t)}function $n(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function Bl(e,t,n,i,r){for(var s=e.children,l,a=-1,o=s.length,u=e.value&&(r-n)/e.value;++a<o;)l=s[a],l.x0=t,l.x1=i,l.y0=n,l.y1=n+=l.value*u}var zl=(1+Math.sqrt(5))/2;function ql(e,t,n,i,r,s){for(var l=[],a=t.children,o,u,h=0,c=0,f=a.length,_,v,p=t.value,b,M,N,A,m,S,T;h<f;){_=r-n,v=s-i;do b=a[c++].value;while(!b&&c<f);for(M=N=b,S=Math.max(v/_,_/v)/(p*e),T=b*b*S,m=Math.max(N/T,T/M);c<f;++c){if(b+=u=a[c].value,u<M&&(M=u),u>N&&(N=u),T=b*b*S,A=Math.max(N/T,T/M),A>m){b-=u;break}m=A}l.push(o={value:b,dice:_<v,children:a.slice(h,c)}),o.dice?Pl(o,n,i,r,p?i+=v*b/p:s):Bl(o,n,i,p?n+=_*b/p:r,s),p-=b,h=c}return l}const uc=function e(t){function n(i,r,s,l,a){ql(t,i,r,s,l,a)}return n.ratio=function(i){return e((i=+i)>1?i:1)},n}(zl);function fc(){var e=uc,t=!1,n=1,i=1,r=[0],s=yt,l=yt,a=yt,o=yt,u=yt;function h(f){return f.x0=f.y0=0,f.x1=n,f.y1=i,f.eachBefore(c),r=[0],t&&f.eachBefore(ic),f}function c(f){var _=r[f.depth],v=f.x0+_,p=f.y0+_,b=f.x1-_,M=f.y1-_;b<v&&(v=b=(v+b)/2),M<p&&(p=M=(p+M)/2),f.x0=v,f.y0=p,f.x1=b,f.y1=M,f.children&&(_=r[f.depth+1]=s(f)/2,v+=u(f)-_,p+=l(f)-_,b-=a(f)-_,M-=o(f)-_,b<v&&(v=b=(v+b)/2),M<p&&(p=M=(p+M)/2),e(f,v,p,b,M))}return h.round=function(f){return arguments.length?(t=!!f,h):t},h.size=function(f){return arguments.length?(n=+f[0],i=+f[1],h):[n,i]},h.tile=function(f){return arguments.length?(e=Rl(f),h):e},h.padding=function(f){return arguments.length?h.paddingInner(f).paddingOuter(f):h.paddingInner()},h.paddingInner=function(f){return arguments.length?(s=typeof f=="function"?f:wt(+f),h):s},h.paddingOuter=function(f){return arguments.length?h.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):h.paddingTop()},h.paddingTop=function(f){return arguments.length?(l=typeof f=="function"?f:wt(+f),h):l},h.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:wt(+f),h):a},h.paddingBottom=function(f){return arguments.length?(o=typeof f=="function"?f:wt(+f),h):o},h.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:wt(+f),h):u},h}const cc=function e(t){function n(i,r,s,l,a){if((o=i._squarify)&&o.ratio===t)for(var o,u,h,c,f=-1,_,v=o.length,p=i.value;++f<v;){for(u=o[f],h=u.children,c=u.value=0,_=h.length;c<_;++c)u.value+=h[c].value;u.dice?Pl(u,r,s,l,p?s+=(a-s)*u.value/p:a):Bl(u,r,s,p?r+=(l-r)*u.value/p:l,a),p-=u.value}else i._squarify=o=ql(t,i,r,s,l,a),o.ratio=t}return n.ratio=function(i){return e((i=+i)>1?i:1)},n}(zl);function xl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const ar=Symbol("implicit");function ei(){var e=new Vn,t=[],n=[],i=ar;function r(s){let l=e.get(s);if(l===void 0){if(i!==ar)return i;e.set(s,l=t.push(s)-1)}return n[l%n.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Vn;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return r},r.range=function(s){return arguments.length?(n=Array.from(s),r):n.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return ei(t,n).unknown(i)},xl.apply(r,arguments),r}function hc(e){return function(){return e}}function dc(e){return+e}var or=[0,1];function ot(e){return e}function ti(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:hc(isNaN(t)?NaN:.5)}function _c(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function mc(e,t,n){var i=e[0],r=e[1],s=t[0],l=t[1];return r<i?(i=ti(r,i),s=n(l,s)):(i=ti(i,r),s=n(s,l)),function(a){return s(i(a))}}function gc(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),s=new Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<i;)r[l]=ti(e[l],e[l+1]),s[l]=n(t[l],t[l+1]);return function(a){var o=Os(e,a,1,i)-1;return s[o](r[o](a))}}function pc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vc(){var e=or,t=or,n=di,i,r,s,l=ot,a,o,u;function h(){var f=Math.min(e.length,t.length);return l!==ot&&(l=_c(e[0],e[f-1])),a=f>2?gc:mc,o=u=null,c}function c(f){return f==null||isNaN(f=+f)?s:(o||(o=a(e.map(i),t,n)))(i(l(f)))}return c.invert=function(f){return l(r((u||(u=a(t,e.map(i),Te)))(f)))},c.domain=function(f){return arguments.length?(e=Array.from(f,dc),h()):e.slice()},c.range=function(f){return arguments.length?(t=Array.from(f),h()):t.slice()},c.rangeRound=function(f){return t=Array.from(f),n=$o,h()},c.clamp=function(f){return arguments.length?(l=f?!0:ot,h()):l!==ot},c.interpolate=function(f){return arguments.length?(n=f,h()):n},c.unknown=function(f){return arguments.length?(s=f,c):s},function(f,_){return i=f,r=_,h()}}function yc(){return vc()(ot,ot)}function wc(e,t,n,i){var r=qs(e,t,n),s;switch(i=tn(i==null?",f":i),i.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(s=Hf(r,l))&&(i.precision=s),Vl(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=Rf(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=Of(r))&&(i.precision=s-(i.type==="%")*2);break}}return _t(i)}function bc(e){var t=e.domain;return e.ticks=function(n){var i=t();return zs(i[0],i[i.length-1],n==null?10:n)},e.tickFormat=function(n,i){var r=t();return wc(r[0],r[r.length-1],n==null?10:n,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,s=i.length-1,l=i[r],a=i[s],o,u,h=10;for(a<l&&(u=l,l=a,a=u,u=r,r=s,s=u);h-- >0;){if(u=il(l,a,n),u===o)return i[r]=l,i[s]=a,t(i);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;o=u}return e},e}function nn(){var e=yc();return e.copy=function(){return pc(e,nn())},xl.apply(e,arguments),bc(e)}function kc(e){for(var t=e.length/6|0,n=new Array(t),i=0;i<t;)n[i]="#"+e.slice(i*6,++i*6);return n}const ur=kc("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function ut(e,t,n){this.k=e,this.x=t,this.y=n}ut.prototype={constructor:ut,scale:function(e){return e===1?this:new ut(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ut(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new ut(1,0,0);ut.prototype;const rn=Ns(2020);class Ic{constructor(t){he(this,"id");he(this,"code");he(this,"name");he(this,"level");this.id=+t.location_id,this.code=t.location_code,this.name=t.location_name_short_en,this.level=t.level}}class ni{constructor(t){he(this,"id");he(this,"code");he(this,"name");he(this,"level");he(this,"parent_id");he(this,"parent");this.id=+t.product_id,this.code=+t.hs_product_code,this.name=t.hs_product_name_short_en,this.level=t.level,this.parent_id=+t.parent_id,this.parent=null}}class mt{constructor(t,n,i){he(this,"location_id");he(this,"location");he(this,"partner_id");he(this,"partner");he(this,"product_id");he(this,"product");he(this,"year");he(this,"export_value");he(this,"import_value");this.location_id=+i.location_id,this.location=t.get(this.location_id),this.partner_id=+i.partner_id,this.partner=t.get(this.partner_id),this.product_id=+i.product_id,this.product=n.get(this.product_id),this.year=+i.year,this.export_value=+i.export_value,this.import_value=+i.import_value}}function Sc(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r={};return r.top=n.top<0,r.left=n.left<0,r.bottom=n.bottom+i.height>(window.innerHeight||document.documentElement.clientHeight),r.right=n.right>(window.innerWidth||document.documentElement.clientWidth),r.any=r.top||r.left||r.bottom||r.right,r}function Ac(e){let t,n=e[0](e[1],e[2])+"",i;return{c(){t=X("div"),this.h()},l(r){t=W(r,"DIV",{class:!0});var s=V(t);s.forEach(w),this.h()},h(){d(t,"class",i="item "+e[3]+" svelte-3e0qet")},m(r,s){B(r,t,s),t.innerHTML=n},p(r,[s]){s&7&&n!==(n=r[0](r[1],r[2])+"")&&(t.innerHTML=n),s&8&&i!==(i="item "+r[3]+" svelte-3e0qet")&&d(t,"class",i)},i:se,o:se,d(r){r&&w(t)}}}function Ec(e,t,n){let{isActive:i=!1}=t,{isFirst:r=!1}=t,{isHover:s=!1}=t,{isSelectable:l=!1}=t,{getOptionLabel:a=void 0}=t,{item:o=void 0}=t,{filterText:u=""}=t,h="";return e.$$set=c=>{"isActive"in c&&n(4,i=c.isActive),"isFirst"in c&&n(5,r=c.isFirst),"isHover"in c&&n(6,s=c.isHover),"isSelectable"in c&&n(7,l=c.isSelectable),"getOptionLabel"in c&&n(0,a=c.getOptionLabel),"item"in c&&n(1,o=c.item),"filterText"in c&&n(2,u=c.filterText)},e.$$.update=()=>{if(e.$$.dirty&242){const c=[];i&&c.push("active"),r&&c.push("first"),s&&c.push("hover"),o.isGroupHeader&&c.push("groupHeader"),o.isGroupItem&&c.push("groupItem"),l||c.push("notSelectable"),n(3,h=c.join(" "))}},[a,o,u,h,i,r,s,l]}class Gl extends Fe{constructor(t){super(),Ve(this,t,Ec,Ac,Oe,{isActive:4,isFirst:5,isHover:6,isSelectable:7,getOptionLabel:0,item:1,filterText:2})}}function fr(e,t,n){const i=e.slice();return i[41]=t[n],i[42]=n,i}function Mc(e){let t,n,i=e[1],r=[];for(let a=0;a<i.length;a+=1)r[a]=dr(fr(e,i,a));const s=a=>K(r[a],1,1,()=>{r[a]=null});let l=null;return i.length||(l=cr(e)),{c(){for(let a=0;a<r.length;a+=1)r[a].c();t=ne(),l&&l.c()},l(a){for(let o=0;o<r.length;o+=1)r[o].l(a);t=ne(),l&&l.l(a)},m(a,o){for(let u=0;u<r.length;u+=1)r[u].m(a,o);B(a,t,o),l&&l.m(a,o),n=!0},p(a,o){if(o[0]&114390){i=a[1];let u;for(u=0;u<i.length;u+=1){const h=fr(a,i,u);r[u]?(r[u].p(h,o),G(r[u],1)):(r[u]=dr(h),r[u].c(),G(r[u],1),r[u].m(t.parentNode,t))}for(me(),u=i.length;u<r.length;u+=1)s(u);ge(),!i.length&&l?l.p(a,o):i.length?l&&(l.d(1),l=null):(l=cr(a),l.c(),l.m(t.parentNode,t))}},i(a){if(!n){for(let o=0;o<i.length;o+=1)G(r[o]);n=!0}},o(a){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)K(r[o]);n=!1},d(a){li(r,a),a&&w(t),l&&l.d(a)}}}function Cc(e){let t,n,i;var r=e[3];function s(l){return{props:{items:l[1],itemHeight:l[8],$$slots:{default:[Tc,({item:a,i:o})=>({41:a,42:o}),({item:a,i:o})=>[0,(a?1024:0)|(o?2048:0)]]},$$scope:{ctx:l}}}}return r&&(t=pe(r,s(e))),{c(){t&&ae(t.$$.fragment),n=ne()},l(l){t&&be(t.$$.fragment,l),n=ne()},m(l,a){t&&oe(t,l,a),B(l,n,a),i=!0},p(l,a){const o={};if(a[0]&2&&(o.items=l[1]),a[0]&256&&(o.itemHeight=l[8]),a[0]&9814|a[1]&11264&&(o.$$scope={dirty:a,ctx:l}),r!==(r=l[3])){if(t){me();const u=t;K(u.$$.fragment,1,0,()=>{ue(u,1)}),ge()}r?(t=pe(r,s(l)),ae(t.$$.fragment),G(t.$$.fragment,1),oe(t,n.parentNode,n)):t=null}else r&&t.$set(o)},i(l){i||(t&&G(t.$$.fragment,l),i=!0)},o(l){t&&K(t.$$.fragment,l),i=!1},d(l){l&&w(n),t&&ue(t,l)}}}function cr(e){let t,n=!e[11]&&hr(e);return{c(){n&&n.c(),t=ne()},l(i){n&&n.l(i),t=ne()},m(i,r){n&&n.m(i,r),B(i,t,r)},p(i,r){i[11]?n&&(n.d(1),n=null):n?n.p(i,r):(n=hr(i),n.c(),n.m(t.parentNode,t))},d(i){n&&n.d(i),i&&w(t)}}}function hr(e){let t,n;return{c(){t=X("div"),n=re(e[12]),this.h()},l(i){t=W(i,"DIV",{class:!0});var r=V(t);n=le(r,e[12]),r.forEach(w),this.h()},h(){d(t,"class","empty svelte-1uyqfml")},m(i,r){B(i,t,r),F(t,n)},p(i,r){r[0]&4096&&Be(n,i[12])},d(i){i&&w(t)}}}function Nc(e){let t,n,i,r,s,l;var a=e[4];function o(f){return{props:{item:f[41],filterText:f[13],getOptionLabel:f[6],isFirst:ii(f[42]),isActive:ln(f[41],f[9],f[10]),isHover:sn(f[2],f[41],f[42],f[1]),isSelectable:et(f[41])}}}a&&(n=pe(a,o(e)));function u(){return e[29](e[42])}function h(){return e[30](e[42])}function c(...f){return e[31](e[41],e[42],...f)}return{c(){t=X("div"),n&&ae(n.$$.fragment),i=ee(),this.h()},l(f){t=W(f,"DIV",{class:!0,tabindex:!0});var _=V(t);n&&be(n.$$.fragment,_),i=te(_),_.forEach(w),this.h()},h(){d(t,"class","listItem"),d(t,"tabindex","-1")},m(f,_){B(f,t,_),n&&oe(n,t,null),F(t,i),r=!0,s||(l=[ce(t,"mouseover",u),ce(t,"focus",h),ce(t,"click",c)],s=!0)},p(f,_){e=f;const v={};if(_[0]&2&&(v.item=e[41]),_[0]&8192&&(v.filterText=e[13]),_[0]&64&&(v.getOptionLabel=e[6]),_[0]&1538&&(v.isActive=ln(e[41],e[9],e[10])),_[0]&6&&(v.isHover=sn(e[2],e[41],e[42],e[1])),_[0]&2&&(v.isSelectable=et(e[41])),a!==(a=e[4])){if(n){me();const p=n;K(p.$$.fragment,1,0,()=>{ue(p,1)}),ge()}a?(n=pe(a,o(e)),ae(n.$$.fragment),G(n.$$.fragment,1),oe(n,t,i)):n=null}else a&&n.$set(v)},i(f){r||(n&&G(n.$$.fragment,f),r=!0)},o(f){n&&K(n.$$.fragment,f),r=!1},d(f){f&&w(t),n&&ue(n),s=!1,an(l)}}}function Lc(e){let t,n=e[7](e[41])+"",i;return{c(){t=X("div"),i=re(n),this.h()},l(r){t=W(r,"DIV",{class:!0});var s=V(t);i=le(s,n),s.forEach(w),this.h()},h(){d(t,"class","listGroupTitle svelte-1uyqfml")},m(r,s){B(r,t,s),F(t,i)},p(r,s){s[0]&130&&n!==(n=r[7](r[41])+"")&&Be(i,n)},i:se,o:se,d(r){r&&w(t)}}}function dr(e){let t,n,i,r;const s=[Lc,Nc],l=[];function a(o,u){return o[41].isGroupHeader&&!o[41].isSelectable?0:1}return t=a(e),n=l[t]=s[t](e),{c(){n.c(),i=ne()},l(o){n.l(o),i=ne()},m(o,u){l[t].m(o,u),B(o,i,u),r=!0},p(o,u){let h=t;t=a(o),t===h?l[t].p(o,u):(me(),K(l[h],1,1,()=>{l[h]=null}),ge(),n=l[t],n?n.p(o,u):(n=l[t]=s[t](o),n.c()),G(n,1),n.m(i.parentNode,i))},i(o){r||(G(n),r=!0)},o(o){K(n),r=!1},d(o){l[t].d(o),o&&w(i)}}}function Tc(e){let t,n,i,r,s;var l=e[4];function a(c){return{props:{item:c[41],filterText:c[13],getOptionLabel:c[6],isFirst:ii(c[42]),isActive:ln(c[41],c[9],c[10]),isHover:sn(c[2],c[41],c[42],c[1]),isSelectable:et(c[41])}}}l&&(n=pe(l,a(e)));function o(){return e[26](e[42])}function u(){return e[27](e[42])}function h(...c){return e[28](e[41],e[42],...c)}return{c(){t=X("div"),n&&ae(n.$$.fragment),this.h()},l(c){t=W(c,"DIV",{class:!0});var f=V(t);n&&be(n.$$.fragment,f),f.forEach(w),this.h()},h(){d(t,"class","listItem")},m(c,f){B(c,t,f),n&&oe(n,t,null),i=!0,r||(s=[ce(t,"mouseover",o),ce(t,"focus",u),ce(t,"click",h)],r=!0)},p(c,f){e=c;const _={};if(f[1]&1024&&(_.item=e[41]),f[0]&8192&&(_.filterText=e[13]),f[0]&64&&(_.getOptionLabel=e[6]),f[1]&2048&&(_.isFirst=ii(e[42])),f[0]&1536|f[1]&1024&&(_.isActive=ln(e[41],e[9],e[10])),f[0]&6|f[1]&3072&&(_.isHover=sn(e[2],e[41],e[42],e[1])),f[1]&1024&&(_.isSelectable=et(e[41])),l!==(l=e[4])){if(n){me();const v=n;K(v.$$.fragment,1,0,()=>{ue(v,1)}),ge()}l?(n=pe(l,a(e)),ae(n.$$.fragment),G(n.$$.fragment,1),oe(n,t,null)):n=null}else l&&n.$set(_)},i(c){i||(n&&G(n.$$.fragment,c),i=!0)},o(c){n&&K(n.$$.fragment,c),i=!1},d(c){c&&w(t),n&&ue(n),r=!1,an(s)}}}function Dc(e){let t,n,i,r,s,l;const a=[Cc,Mc],o=[];function u(h,c){return h[5]?0:1}return n=u(e),i=o[n]=a[n](e),{c(){t=X("div"),i.c(),this.h()},l(h){t=W(h,"DIV",{class:!0,style:!0});var c=V(t);i.l(c),c.forEach(w),this.h()},h(){d(t,"class","listContainer svelte-1uyqfml"),d(t,"style",e[14]),Ne(t,"virtualList",e[5])},m(h,c){B(h,t,c),o[n].m(t,null),e[32](t),r=!0,s||(l=[ce(window,"keydown",e[17]),ce(window,"resize",e[18])],s=!0)},p(h,c){let f=n;n=u(h),n===f?o[n].p(h,c):(me(),K(o[f],1,1,()=>{o[f]=null}),ge(),i=o[n],i?i.p(h,c):(i=o[n]=a[n](h),i.c()),G(i,1),i.m(t,null)),(!r||c[0]&16384)&&d(t,"style",h[14]),(!r||c[0]&32)&&Ne(t,"virtualList",h[5])},i(h){r||(G(i),r=!0)},o(h){K(i),r=!1},d(h){h&&w(t),o[n].d(),e[32](null),s=!1,an(l)}}}function ln(e,t,n){return t&&t[n]===e[n]}function ii(e){return e===0}function sn(e,t,n,i){return et(t)&&(e===n||i.length===1)}function et(e){return e.isGroupHeader&&e.isSelectable||e.selectable||!e.hasOwnProperty("selectable")}function Fc(e,t,n){const i=ri();let{container:r=void 0}=t,{VirtualList:s=null}=t,{Item:l=Gl}=t,{isVirtualList:a=!1}=t,{items:o=[]}=t,{labelIdentifier:u="label"}=t,{getOptionLabel:h=(L,j)=>{if(L)return L.isCreator?`Create "${j}"`:L[u]}}=t,{getGroupHeaderLabel:c=null}=t,{itemHeight:f=40}=t,{hoverItemIndex:_=0}=t,{value:v=void 0}=t,{optionIdentifier:p="value"}=t,{hideEmptyState:b=!1}=t,{noOptionsMessage:M="No options"}=t,{isMulti:N=!1}=t,{activeItemIndex:A=0}=t,{filterText:m=""}=t,{parent:S=null}=t,{listPlacement:T=null}=t,{listAutoWidth:P=null}=t,{listOffset:R=5}=t,z=0,D=!1,y;on(()=>{if(o.length>0&&!N&&v){const L=o.findIndex(j=>j[p]===v[p]);L&&n(2,_=L)}J("active"),r.addEventListener("scroll",()=>{clearTimeout(z),z=setTimeout(()=>{D=!1},100)},!1)}),Jr(()=>{o||n(1,o=[]),o!==y&&o.length>0&&n(2,_=0),y=o});function k(L){L.isCreator||i("itemSelected",L)}function I(L){D||n(2,_=L)}function O(L){const{item:j,i:fe,event:Ae}=L;if(Ae.stopPropagation(),v&&!N&&v[p]===j[p])return E();j.isCreator?i("itemCreated",m):et(j)&&(n(19,A=fe),n(2,_=fe),k(j))}function E(){i("closeList")}async function C(L){if(a)return;let j=!0;for(;j;)L>0&&_===o.length-1?n(2,_=0):L<0&&_===0?n(2,_=o.length-1):n(2,_=_+L),j=!et(o[_]);await qt(),J("hover")}function x(L){switch(L.key){case"Escape":L.preventDefault(),E();break;case"ArrowDown":L.preventDefault(),o.length&&C(1);break;case"ArrowUp":L.preventDefault(),o.length&&C(-1);break;case"Enter":if(L.preventDefault(),o.length===0)break;const j=o[_];if(v&&!N&&v[p]===j[p]){E();break}j.isCreator?i("itemCreated",m):(n(19,A=_),k(o[_]));break;case"Tab":if(L.preventDefault(),o.length===0||v&&v[p]===o[_][p])return E();n(19,A=_),k(o[_]);break}}function J(L){if(a||!r)return;let j;const fe=r.querySelector(`.listItem .${L}`);fe&&(j=r.getBoundingClientRect().bottom-fe.getBoundingClientRect().bottom),n(0,r.scrollTop-=j,r)}let Q;function ve(){const{height:L,width:j}=S.getBoundingClientRect();n(14,Q=""),n(14,Q+=`min-width:${j}px;width:${P?"auto":"100%"};`),T==="top"||T==="auto"&&Sc(S,r).bottom?n(14,Q+=`bottom:${L+R}px;`):n(14,Q+=`top:${L+R}px;`)}const je=L=>I(L),H=L=>I(L),Z=(L,j,fe)=>O({item:L,i:j,event:fe}),de=L=>I(L),ye=L=>I(L),Ie=(L,j,fe)=>O({item:L,i:j,event:fe});function Se(L){Ee[L?"unshift":"push"](()=>{r=L,n(0,r)})}return e.$$set=L=>{"container"in L&&n(0,r=L.container),"VirtualList"in L&&n(3,s=L.VirtualList),"Item"in L&&n(4,l=L.Item),"isVirtualList"in L&&n(5,a=L.isVirtualList),"items"in L&&n(1,o=L.items),"labelIdentifier"in L&&n(20,u=L.labelIdentifier),"getOptionLabel"in L&&n(6,h=L.getOptionLabel),"getGroupHeaderLabel"in L&&n(7,c=L.getGroupHeaderLabel),"itemHeight"in L&&n(8,f=L.itemHeight),"hoverItemIndex"in L&&n(2,_=L.hoverItemIndex),"value"in L&&n(9,v=L.value),"optionIdentifier"in L&&n(10,p=L.optionIdentifier),"hideEmptyState"in L&&n(11,b=L.hideEmptyState),"noOptionsMessage"in L&&n(12,M=L.noOptionsMessage),"isMulti"in L&&n(21,N=L.isMulti),"activeItemIndex"in L&&n(19,A=L.activeItemIndex),"filterText"in L&&n(13,m=L.filterText),"parent"in L&&n(22,S=L.parent),"listPlacement"in L&&n(23,T=L.listPlacement),"listAutoWidth"in L&&n(24,P=L.listAutoWidth),"listOffset"in L&&n(25,R=L.listOffset)},e.$$.update=()=>{e.$$.dirty[0]&4194305&&S&&r&&ve()},[r,o,_,s,l,a,h,c,f,v,p,b,M,m,Q,I,O,x,ve,A,u,N,S,T,P,R,je,H,Z,de,ye,Ie,Se]}class Vc extends Fe{constructor(t){super(),Ve(this,t,Fc,Dc,Oe,{container:0,VirtualList:3,Item:4,isVirtualList:5,items:1,labelIdentifier:20,getOptionLabel:6,getGroupHeaderLabel:7,itemHeight:8,hoverItemIndex:2,value:9,optionIdentifier:10,hideEmptyState:11,noOptionsMessage:12,isMulti:21,activeItemIndex:19,filterText:13,parent:22,listPlacement:23,listAutoWidth:24,listOffset:25},null,[-1,-1])}}function Oc(e){let t,n=e[0](e[1])+"";return{c(){t=X("div"),this.h()},l(i){t=W(i,"DIV",{class:!0});var r=V(t);r.forEach(w),this.h()},h(){d(t,"class","selection svelte-pu1q1n")},m(i,r){B(i,t,r),t.innerHTML=n},p(i,[r]){r&3&&n!==(n=i[0](i[1])+"")&&(t.innerHTML=n)},i:se,o:se,d(i){i&&w(t)}}}function Hc(e,t,n){let{getSelectionLabel:i=void 0}=t,{item:r=void 0}=t;return e.$$set=s=>{"getSelectionLabel"in s&&n(0,i=s.getSelectionLabel),"item"in s&&n(1,r=s.item)},[i,r]}class Rc extends Fe{constructor(t){super(),Ve(this,t,Hc,Oc,Oe,{getSelectionLabel:0,item:1})}}function _r(e,t,n){const i=e.slice();return i[9]=t[n],i[11]=n,i}function mr(e){let t,n,i,r,s;function l(...a){return e[6](e[11],...a)}return{c(){t=X("div"),n=U("svg"),i=U("path"),this.h()},l(a){t=W(a,"DIV",{class:!0});var o=V(t);n=Y(o,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0,class:!0});var u=V(n);i=Y(u,"path",{d:!0}),V(i).forEach(w),u.forEach(w),o.forEach(w),this.h()},h(){d(i,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),d(n,"width","100%"),d(n,"height","100%"),d(n,"viewBox","-2 -2 50 50"),d(n,"focusable","false"),d(n,"aria-hidden","true"),d(n,"role","presentation"),d(n,"class","svelte-liu9pa"),d(t,"class","multiSelectItem_clear svelte-liu9pa")},m(a,o){B(a,t,o),F(t,n),F(n,i),r||(s=ce(t,"click",l),r=!0)},p(a,o){e=a},d(a){a&&w(t),r=!1,s()}}}function gr(e){let t,n,i=e[4](e[9])+"",r,s,l,a,o,u=!e[2]&&!e[3]&&mr(e);function h(...c){return e[7](e[11],...c)}return{c(){t=X("div"),n=X("div"),r=ee(),u&&u.c(),s=ee(),this.h()},l(c){t=W(c,"DIV",{class:!0});var f=V(t);n=W(f,"DIV",{class:!0});var _=V(n);_.forEach(w),r=te(f),u&&u.l(f),s=te(f),f.forEach(w),this.h()},h(){d(n,"class","multiSelectItem_label svelte-liu9pa"),d(t,"class",l="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")},m(c,f){B(c,t,f),F(t,n),n.innerHTML=i,F(t,r),u&&u.m(t,null),F(t,s),a||(o=ce(t,"click",h),a=!0)},p(c,f){e=c,f&17&&i!==(i=e[4](e[9])+"")&&(n.innerHTML=i),!e[2]&&!e[3]?u?u.p(e,f):(u=mr(e),u.c(),u.m(t,s)):u&&(u.d(1),u=null),f&6&&l!==(l="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")&&d(t,"class",l)},d(c){c&&w(t),u&&u.d(),a=!1,o()}}}function Pc(e){let t,n=e[0],i=[];for(let r=0;r<n.length;r+=1)i[r]=gr(_r(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=ne()},l(r){for(let s=0;s<i.length;s+=1)i[s].l(r);t=ne()},m(r,s){for(let l=0;l<i.length;l+=1)i[l].m(r,s);B(r,t,s)},p(r,[s]){if(s&63){n=r[0];let l;for(l=0;l<n.length;l+=1){const a=_r(r,n,l);i[l]?i[l].p(a,s):(i[l]=gr(a),i[l].c(),i[l].m(t.parentNode,t))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},i:se,o:se,d(r){li(i,r),r&&w(t)}}}function Bc(e,t,n){const i=ri();let{value:r=[]}=t,{activeValue:s=void 0}=t,{isDisabled:l=!1}=t,{multiFullItemClearable:a=!1}=t,{getSelectionLabel:o=void 0}=t;function u(f,_){_.stopPropagation(),i("multiItemClear",{i:f})}const h=(f,_)=>u(f,_),c=(f,_)=>a?u(f,_):{};return e.$$set=f=>{"value"in f&&n(0,r=f.value),"activeValue"in f&&n(1,s=f.activeValue),"isDisabled"in f&&n(2,l=f.isDisabled),"multiFullItemClearable"in f&&n(3,a=f.multiFullItemClearable),"getSelectionLabel"in f&&n(4,o=f.getSelectionLabel)},[r,s,l,a,o,u,h,c]}class zc extends Fe{constructor(t){super(),Ve(this,t,Bc,Pc,Oe,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4})}}function pr(e,t,n){const i=e.slice();return i[23]=t[n],i}const qc=e=>({item:e&32,i:e&32,hoverItemIndex:e&2}),vr=e=>({item:e[23].data,i:e[23].index,hoverItemIndex:e[1]});function xc(e){let t;return{c(){t=re("Missing template")},l(n){t=le(n,"Missing template")},m(n,i){B(n,t,i)},d(n){n&&w(t)}}}function yr(e,t){let n,i,r;const s=t[15].default,l=vs(s,t,t[14],vr),a=l||xc();return{key:e,first:null,c(){n=X("svelte-virtual-list-row"),a&&a.c(),i=ee(),this.h()},l(o){n=W(o,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var u=V(n);a&&a.l(u),i=te(u),u.forEach(w),this.h()},h(){Fn(n,"class","svelte-g2cagw"),this.first=n},m(o,u){B(o,n,u),a&&a.m(n,null),F(n,i),r=!0},p(o,u){t=o,l&&l.p&&(!r||u&16418)&&ys(l,s,t,t[14],r?bs(s,t[14],u,qc):ws(t[14]),vr)},i(o){r||(G(a,o),r=!0)},o(o){K(a,o),r=!1},d(o){o&&w(n),a&&a.d(o)}}}function Gc(e){let t,n,i=[],r=new Map,s,l,a,o,u=e[5];const h=c=>c[23].index;for(let c=0;c<u.length;c+=1){let f=pr(e,u,c),_=h(f);r.set(_,i[c]=yr(_,f))}return{c(){t=X("svelte-virtual-list-viewport"),n=X("svelte-virtual-list-contents");for(let c=0;c<i.length;c+=1)i[c].c();this.h()},l(c){t=W(c,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var f=V(t);n=W(f,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var _=V(n);for(let v=0;v<i.length;v+=1)i[v].l(_);_.forEach(w),f.forEach(w),this.h()},h(){st(n,"padding-top",e[6]+"px"),st(n,"padding-bottom",e[7]+"px"),Fn(n,"class","svelte-g2cagw"),st(t,"height",e[0]),Fn(t,"class","svelte-g2cagw"),Tt(()=>e[18].call(t))},m(c,f){B(c,t,f),F(t,n);for(let _=0;_<i.length;_+=1)i[_].m(n,null);e[16](n),e[17](t),s=un(t,e[18].bind(t)),l=!0,a||(o=ce(t,"scroll",e[8]),a=!0)},p(c,[f]){f&16418&&(u=c[5],me(),i=Et(i,f,h,1,c,u,r,n,ps,yr,null,pr),ge()),(!l||f&64)&&st(n,"padding-top",c[6]+"px"),(!l||f&128)&&st(n,"padding-bottom",c[7]+"px"),(!l||f&1)&&st(t,"height",c[0])},i(c){if(!l){for(let f=0;f<u.length;f+=1)G(i[f]);l=!0}},o(c){for(let f=0;f<i.length;f+=1)K(i[f]);l=!1},d(c){c&&w(t);for(let f=0;f<i.length;f+=1)i[f].d();e[16](null),e[17](null),s(),a=!1,o()}}}function jc(e,t,n){let{$$slots:i={},$$scope:r}=t,{items:s=void 0}=t,{height:l="100%"}=t,{itemHeight:a=40}=t,{hoverItemIndex:o=0}=t,{start:u=0}=t,{end:h=0}=t,c=[],f,_,v,p=0,b,M,N=0,A=0,m;async function S(D,y,k){const{scrollTop:I}=_;await qt();let O=N-I,E=u;for(;O<y&&E<D.length;){let x=f[E-u];x||(n(10,h=E+1),await qt(),x=f[E-u]);const J=c[E]=k||x.offsetHeight;O+=J,E+=1}n(10,h=E);const C=D.length-h;m=(N+O)/h,n(7,A=C*m),c.length=D.length,_&&n(3,_.scrollTop=0,_)}async function T(){const{scrollTop:D}=_,y=u;for(let E=0;E<f.length;E+=1)c[u+E]=a||f[E].offsetHeight;let k=0,I=0;for(;k<s.length;){const E=c[k]||m;if(I+E>D){n(9,u=k),n(6,N=I);break}I+=E,k+=1}for(;k<s.length&&(I+=c[k]||m,k+=1,!(I>D+p)););n(10,h=k);const O=s.length-h;for(m=I/h;k<s.length;)c[k++]=m;if(n(7,A=O*m),u<y){await qt();let E=0,C=0;for(let J=u;J<y;J+=1)f[J-u]&&(E+=c[J],C+=a||f[J-u].offsetHeight);const x=C-E;_.scrollTo(0,D+x)}}on(()=>{f=v.getElementsByTagName("svelte-virtual-list-row"),n(13,M=!0)});function P(D){Ee[D?"unshift":"push"](()=>{v=D,n(4,v)})}function R(D){Ee[D?"unshift":"push"](()=>{_=D,n(3,_)})}function z(){p=this.offsetHeight,n(2,p)}return e.$$set=D=>{"items"in D&&n(11,s=D.items),"height"in D&&n(0,l=D.height),"itemHeight"in D&&n(12,a=D.itemHeight),"hoverItemIndex"in D&&n(1,o=D.hoverItemIndex),"start"in D&&n(9,u=D.start),"end"in D&&n(10,h=D.end),"$$scope"in D&&n(14,r=D.$$scope)},e.$$.update=()=>{e.$$.dirty&3584&&n(5,b=s.slice(u,h).map((D,y)=>({index:y+u,data:D}))),e.$$.dirty&14340&&M&&S(s,p,a)},[l,o,p,_,v,b,N,A,T,u,h,s,a,M,r,i,P,R,z]}class Uc extends Fe{constructor(t){super(),Ve(this,t,jc,Gc,Oe,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10})}}function Yc(e){let t,n;return{c(){t=U("svg"),n=U("path"),this.h()},l(i){t=Y(i,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0});var r=V(t);n=Y(r,"path",{fill:!0,d:!0}),V(n).forEach(w),r.forEach(w),this.h()},h(){d(n,"fill","currentColor"),d(n,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),d(t,"width","100%"),d(t,"height","100%"),d(t,"viewBox","-2 -2 50 50"),d(t,"focusable","false"),d(t,"aria-hidden","true"),d(t,"role","presentation")},m(i,r){B(i,t,r),F(t,n)},p:se,i:se,o:se,d(i){i&&w(t)}}}class Xc extends Fe{constructor(t){super(),Ve(this,t,null,Yc,Oe,{})}}function Wc(e,t,n){let i;return function(){let s=this,l=arguments,a=function(){i=null,n||e.apply(s,l)},o=n&&!i;clearTimeout(i),i=setTimeout(a,t),o&&e.apply(s,l)}}function wr(e,t,n){const i=e.slice();return i[103]=t[n],i}function br(e){let t,n,i,r,s;return{c(){t=X("span"),n=re(e[33]),i=ee(),r=X("span"),s=re(e[32]),this.h()},l(l){t=W(l,"SPAN",{id:!0});var a=V(t);n=le(a,e[33]),a.forEach(w),i=te(l),r=W(l,"SPAN",{id:!0});var o=V(r);s=le(o,e[32]),o.forEach(w),this.h()},h(){d(t,"id","aria-selection"),d(r,"id","aria-context")},m(l,a){B(l,t,a),F(t,n),B(l,i,a),B(l,r,a),F(r,s)},p(l,a){a[1]&4&&Be(n,l[33]),a[1]&2&&Be(s,l[32])},d(l){l&&w(t),l&&w(i),l&&w(r)}}}function kr(e){let t,n,i;const r=[e[18]];var s=e[17];function l(a){let o={};for(let u=0;u<r.length;u+=1)o=si(o,r[u]);return{props:o}}return s&&(t=pe(s,l())),{c(){t&&ae(t.$$.fragment),n=ne()},l(a){t&&be(t.$$.fragment,a),n=ne()},m(a,o){t&&oe(t,a,o),B(a,n,o),i=!0},p(a,o){const u=o[0]&262144?ai(r,[Qr(a[18])]):{};if(s!==(s=a[17])){if(t){me();const h=t;K(h.$$.fragment,1,0,()=>{ue(h,1)}),ge()}s?(t=pe(s,l()),ae(t.$$.fragment),G(t.$$.fragment,1),oe(t,n.parentNode,n)):t=null}else s&&t.$set(u)},i(a){i||(t&&G(t.$$.fragment,a),i=!0)},o(a){t&&K(t.$$.fragment,a),i=!1},d(a){a&&w(n),t&&ue(t,a)}}}function Ir(e){let t,n,i;var r=e[26];function s(l){return{props:{value:l[2],getSelectionLabel:l[12],activeValue:l[30],isDisabled:l[9],multiFullItemClearable:l[8]}}}return r&&(t=pe(r,s(e)),t.$on("multiItemClear",e[38]),t.$on("focus",e[40])),{c(){t&&ae(t.$$.fragment),n=ne()},l(l){t&&be(t.$$.fragment,l),n=ne()},m(l,a){t&&oe(t,l,a),B(l,n,a),i=!0},p(l,a){const o={};if(a[0]&4&&(o.value=l[2]),a[0]&4096&&(o.getSelectionLabel=l[12]),a[0]&1073741824&&(o.activeValue=l[30]),a[0]&512&&(o.isDisabled=l[9]),a[0]&256&&(o.multiFullItemClearable=l[8]),r!==(r=l[26])){if(t){me();const u=t;K(u.$$.fragment,1,0,()=>{ue(u,1)}),ge()}r?(t=pe(r,s(l)),t.$on("multiItemClear",l[38]),t.$on("focus",l[40]),ae(t.$$.fragment),G(t.$$.fragment,1),oe(t,n.parentNode,n)):t=null}else r&&t.$set(o)},i(l){i||(t&&G(t.$$.fragment,l),i=!0)},o(l){t&&K(t.$$.fragment,l),i=!1},d(l){l&&w(n),t&&ue(t,l)}}}function Sr(e){let t,n,i,r,s;var l=e[25];function a(o){return{props:{item:o[2],getSelectionLabel:o[12]}}}return l&&(n=pe(l,a(e))),{c(){t=X("div"),n&&ae(n.$$.fragment),this.h()},l(o){t=W(o,"DIV",{class:!0});var u=V(t);n&&be(n.$$.fragment,u),u.forEach(w),this.h()},h(){d(t,"class","selectedItem svelte-17l1npl")},m(o,u){B(o,t,u),n&&oe(n,t,null),i=!0,r||(s=ce(t,"focus",e[40]),r=!0)},p(o,u){const h={};if(u[0]&4&&(h.item=o[2]),u[0]&4096&&(h.getSelectionLabel=o[12]),l!==(l=o[25])){if(n){me();const c=n;K(c.$$.fragment,1,0,()=>{ue(c,1)}),ge()}l?(n=pe(l,a(o)),ae(n.$$.fragment),G(n.$$.fragment,1),oe(n,t,null)):n=null}else l&&n.$set(h)},i(o){i||(n&&G(n.$$.fragment,o),i=!0)},o(o){n&&K(n.$$.fragment,o),i=!1},d(o){o&&w(t),n&&ue(n),r=!1,s()}}}function Ar(e){let t,n,i,r,s;var l=e[23];function a(o){return{}}return l&&(n=pe(l,a())),{c(){t=X("div"),n&&ae(n.$$.fragment),this.h()},l(o){t=W(o,"DIV",{class:!0,"aria-hidden":!0});var u=V(t);n&&be(n.$$.fragment,u),u.forEach(w),this.h()},h(){d(t,"class","clearSelect svelte-17l1npl"),d(t,"aria-hidden","true")},m(o,u){B(o,t,u),n&&oe(n,t,null),i=!0,r||(s=ce(t,"click",ks(e[27])),r=!0)},p(o,u){if(l!==(l=o[23])){if(n){me();const h=n;K(h.$$.fragment,1,0,()=>{ue(h,1)}),ge()}l?(n=pe(l,a()),ae(n.$$.fragment),G(n.$$.fragment,1),oe(n,t,null)):n=null}},i(o){i||(n&&G(n.$$.fragment,o),i=!0)},o(o){n&&K(n.$$.fragment,o),i=!1},d(o){o&&w(t),n&&ue(n),r=!1,s()}}}function Er(e){let t;function n(s,l){return s[22]?Zc:Kc}let i=n(e),r=i(e);return{c(){t=X("div"),r.c(),this.h()},l(s){t=W(s,"DIV",{class:!0,"aria-hidden":!0});var l=V(t);r.l(l),l.forEach(w),this.h()},h(){d(t,"class","indicator svelte-17l1npl"),d(t,"aria-hidden","true")},m(s,l){B(s,t,l),r.m(t,null)},p(s,l){i===(i=n(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(t,null)))},d(s){s&&w(t),r.d()}}}function Kc(e){let t,n;return{c(){t=U("svg"),n=U("path"),this.h()},l(i){t=Y(i,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,class:!0});var r=V(t);n=Y(r,"path",{d:!0}),V(n).forEach(w),r.forEach(w),this.h()},h(){d(n,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),d(t,"width","100%"),d(t,"height","100%"),d(t,"viewBox","0 0 20 20"),d(t,"focusable","false"),d(t,"aria-hidden","true"),d(t,"class","svelte-17l1npl")},m(i,r){B(i,t,r),F(t,n)},p:se,d(i){i&&w(t)}}}function Zc(e){let t,n;return{c(){t=new Ss(!1),n=ne(),this.h()},l(i){t=As(i,!1),n=ne(),this.h()},h(){t.a=n},m(i,r){t.m(e[22],i,r),B(i,n,r)},p(i,r){r[0]&4194304&&t.p(i[22])},d(i){i&&w(n),i&&t.d()}}}function Mr(e){let t,n,i;return{c(){t=X("div"),n=U("svg"),i=U("circle"),this.h()},l(r){t=W(r,"DIV",{class:!0});var s=V(t);n=Y(s,"svg",{class:!0,viewBox:!0});var l=V(n);i=Y(l,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),V(i).forEach(w),l.forEach(w),s.forEach(w),this.h()},h(){d(i,"class","spinner_path svelte-17l1npl"),d(i,"cx","50"),d(i,"cy","50"),d(i,"r","20"),d(i,"fill","none"),d(i,"stroke","currentColor"),d(i,"stroke-width","5"),d(i,"stroke-miterlimit","10"),d(n,"class","spinner_icon svelte-17l1npl"),d(n,"viewBox","25 25 50 50"),d(t,"class","spinner svelte-17l1npl")},m(r,s){B(r,t,s),F(t,n),F(n,i)},d(r){r&&w(t)}}}function Cr(e){let t,n,i,r;const s=[e[34]];function l(u){e[84](u)}var a=e[24];function o(u){let h={};for(let c=0;c<s.length;c+=1)h=si(h,s[c]);return u[28]!==void 0&&(h.hoverItemIndex=u[28]),{props:h}}return a&&(t=pe(a,o(e)),Ee.push(()=>Fi(t,"hoverItemIndex",l)),t.$on("itemSelected",e[43]),t.$on("itemCreated",e[44]),t.$on("closeList",e[45])),{c(){t&&ae(t.$$.fragment),i=ne()},l(u){t&&be(t.$$.fragment,u),i=ne()},m(u,h){t&&oe(t,u,h),B(u,i,h),r=!0},p(u,h){const c=h[1]&8?ai(s,[Qr(u[34])]):{};if(!n&&h[0]&268435456&&(n=!0,c.hoverItemIndex=u[28],Is(()=>n=!1)),a!==(a=u[24])){if(t){me();const f=t;K(f.$$.fragment,1,0,()=>{ue(f,1)}),ge()}a?(t=pe(a,o(u)),Ee.push(()=>Fi(t,"hoverItemIndex",l)),t.$on("itemSelected",u[43]),t.$on("itemCreated",u[44]),t.$on("closeList",u[45]),ae(t.$$.fragment),G(t.$$.fragment,1),oe(t,i.parentNode,i)):t=null}else a&&t.$set(c)},i(u){r||(t&&G(t.$$.fragment,u),r=!0)},o(u){t&&K(t.$$.fragment,u),r=!1},d(u){u&&w(i),t&&ue(t,u)}}}function Nr(e){let t,n,i;return{c(){t=X("input"),this.h()},l(r){t=W(r,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){d(t,"name",n=e[16].name),d(t,"type","hidden"),t.value=i=e[2]?e[12](e[2]):null,d(t,"class","svelte-17l1npl")},m(r,s){B(r,t,s)},p(r,s){s[0]&65536&&n!==(n=r[16].name)&&d(t,"name",n),s[0]&4100&&i!==(i=r[2]?r[12](r[2]):null)&&(t.value=i)},d(r){r&&w(t)}}}function Lr(e){let t,n=e[2],i=[];for(let r=0;r<n.length;r+=1)i[r]=Tr(wr(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=ne()},l(r){for(let s=0;s<i.length;s+=1)i[s].l(r);t=ne()},m(r,s){for(let l=0;l<i.length;l+=1)i[l].m(r,s);B(r,t,s)},p(r,s){if(s[0]&69636){n=r[2];let l;for(l=0;l<n.length;l+=1){const a=wr(r,n,l);i[l]?i[l].p(a,s):(i[l]=Tr(a),i[l].c(),i[l].m(t.parentNode,t))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(r){li(i,r),r&&w(t)}}}function Tr(e){let t,n,i;return{c(){t=X("input"),this.h()},l(r){t=W(r,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){d(t,"name",n=e[16].name),d(t,"type","hidden"),t.value=i=e[103]?e[12](e[103]):null,d(t,"class","svelte-17l1npl")},m(r,s){B(r,t,s)},p(r,s){s[0]&65536&&n!==(n=r[16].name)&&d(t,"name",n),s[0]&4100&&i!==(i=r[103]?r[12](r[103]):null)&&(t.value=i)},d(r){r&&w(t)}}}function Jc(e){let t,n,i,r,s,l,a,o,u,h,c,f,_,v,p,b,M,N,A=e[1]&&br(e),m=e[17]&&kr(e),S=e[35]&&Ir(e),T=[{readOnly:a=!e[13]},e[31],{placeholder:e[36]},{style:e[14]},{disabled:e[9]}],P={};for(let E=0;E<T.length;E+=1)P=si(P,T[E]);let R=!e[7]&&e[29]&&Sr(e),z=e[37]&&Ar(e),D=!e[37]&&(e[20]||e[19]&&!e[2]||!e[13]&&!e[9]&&!e[4]&&(e[29]&&!e[15]||!e[29]))&&Er(e),y=e[4]&&Mr(),k=e[5]&&Cr(e),I=(!e[7]||e[7]&&!e[35])&&Nr(e),O=e[7]&&e[35]&&Lr(e);return{c(){t=X("div"),n=X("span"),A&&A.c(),i=ee(),m&&m.c(),r=ee(),S&&S.c(),s=ee(),l=X("input"),o=ee(),R&&R.c(),u=ee(),z&&z.c(),h=ee(),D&&D.c(),c=ee(),y&&y.c(),f=ee(),k&&k.c(),_=ee(),I&&I.c(),v=ee(),O&&O.c(),this.h()},l(E){t=W(E,"DIV",{class:!0,style:!0});var C=V(t);n=W(C,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var x=V(n);A&&A.l(x),x.forEach(w),i=te(C),m&&m.l(C),r=te(C),S&&S.l(C),s=te(C),l=W(C,"INPUT",{placeholder:!0,style:!0}),o=te(C),R&&R.l(C),u=te(C),z&&z.l(C),h=te(C),D&&D.l(C),c=te(C),y&&y.l(C),f=te(C),k&&k.l(C),_=te(C),I&&I.l(C),v=te(C),O&&O.l(C),C.forEach(w),this.h()},h(){d(n,"aria-live","polite"),d(n,"aria-atomic","false"),d(n,"aria-relevant","additions text"),d(n,"class","a11yText svelte-17l1npl"),Ti(l,P),Ne(l,"svelte-17l1npl",!0),d(t,"class",p="selectContainer "+e[21]+" svelte-17l1npl"),d(t,"style",e[11]),Ne(t,"hasError",e[10]),Ne(t,"multiSelect",e[7]),Ne(t,"disabled",e[9]),Ne(t,"focused",e[1])},m(E,C){B(E,t,C),F(t,n),A&&A.m(n,null),F(t,i),m&&m.m(t,null),F(t,r),S&&S.m(t,null),F(t,s),F(t,l),l.autofocus&&l.focus(),e[82](l),Di(l,e[3]),F(t,o),R&&R.m(t,null),F(t,u),z&&z.m(t,null),F(t,h),D&&D.m(t,null),F(t,c),y&&y.m(t,null),F(t,f),k&&k.m(t,null),F(t,_),I&&I.m(t,null),F(t,v),O&&O.m(t,null),e[85](t),b=!0,M||(N=[ce(window,"click",e[41]),ce(window,"focusin",e[41]),ce(window,"keydown",e[39]),ce(l,"focus",e[40]),ce(l,"input",e[83]),ce(t,"click",e[42])],M=!0)},p(E,C){E[1]?A?A.p(E,C):(A=br(E),A.c(),A.m(n,null)):A&&(A.d(1),A=null),E[17]?m?(m.p(E,C),C[0]&131072&&G(m,1)):(m=kr(E),m.c(),G(m,1),m.m(t,r)):m&&(me(),K(m,1,1,()=>{m=null}),ge()),E[35]?S?(S.p(E,C),C[1]&16&&G(S,1)):(S=Ir(E),S.c(),G(S,1),S.m(t,s)):S&&(me(),K(S,1,1,()=>{S=null}),ge()),Ti(l,P=ai(T,[(!b||C[0]&8192&&a!==(a=!E[13]))&&{readOnly:a},C[1]&1&&E[31],(!b||C[1]&32)&&{placeholder:E[36]},(!b||C[0]&16384)&&{style:E[14]},(!b||C[0]&512)&&{disabled:E[9]}])),C[0]&8&&l.value!==E[3]&&Di(l,E[3]),Ne(l,"svelte-17l1npl",!0),!E[7]&&E[29]?R?(R.p(E,C),C[0]&536871040&&G(R,1)):(R=Sr(E),R.c(),G(R,1),R.m(t,u)):R&&(me(),K(R,1,1,()=>{R=null}),ge()),E[37]?z?(z.p(E,C),C[1]&64&&G(z,1)):(z=Ar(E),z.c(),G(z,1),z.m(t,h)):z&&(me(),K(z,1,1,()=>{z=null}),ge()),!E[37]&&(E[20]||E[19]&&!E[2]||!E[13]&&!E[9]&&!E[4]&&(E[29]&&!E[15]||!E[29]))?D?D.p(E,C):(D=Er(E),D.c(),D.m(t,c)):D&&(D.d(1),D=null),E[4]?y||(y=Mr(),y.c(),y.m(t,f)):y&&(y.d(1),y=null),E[5]?k?(k.p(E,C),C[0]&32&&G(k,1)):(k=Cr(E),k.c(),G(k,1),k.m(t,_)):k&&(me(),K(k,1,1,()=>{k=null}),ge()),!E[7]||E[7]&&!E[35]?I?I.p(E,C):(I=Nr(E),I.c(),I.m(t,v)):I&&(I.d(1),I=null),E[7]&&E[35]?O?O.p(E,C):(O=Lr(E),O.c(),O.m(t,null)):O&&(O.d(1),O=null),(!b||C[0]&2097152&&p!==(p="selectContainer "+E[21]+" svelte-17l1npl"))&&d(t,"class",p),(!b||C[0]&2048)&&d(t,"style",E[11]),(!b||C[0]&2098176)&&Ne(t,"hasError",E[10]),(!b||C[0]&2097280)&&Ne(t,"multiSelect",E[7]),(!b||C[0]&2097664)&&Ne(t,"disabled",E[9]),(!b||C[0]&2097154)&&Ne(t,"focused",E[1])},i(E){b||(G(m),G(S),G(R),G(z),G(k),b=!0)},o(E){K(m),K(S),K(R),K(z),K(k),b=!1},d(E){E&&w(t),A&&A.d(),m&&m.d(),S&&S.d(),e[82](null),R&&R.d(),z&&z.d(),D&&D.d(),y&&y.d(),k&&k.d(),I&&I.d(),O&&O.d(),e[85](null),M=!1,an(N)}}}function Dr(e){return e.map((t,n)=>({index:n,value:t,label:`${t}`}))}function Qc(e,t,n){let i,r,s,l,a,o,u,h;const c=ri();let{id:f=null}=t,{container:_=void 0}=t,{input:v=void 0}=t,{isMulti:p=!1}=t,{multiFullItemClearable:b=!1}=t,{isDisabled:M=!1}=t,{isCreatable:N=!1}=t,{isFocused:A=!1}=t,{value:m=null}=t,{filterText:S=""}=t,{placeholder:T="Select..."}=t,{placeholderAlwaysShow:P=!1}=t,{items:R=null}=t,{itemFilter:z=(g,q,$)=>`${g}`.toLowerCase().includes(q.toLowerCase())}=t,{groupBy:D=void 0}=t,{groupFilter:y=g=>g}=t,{isGroupHeaderSelectable:k=!1}=t,{getGroupHeaderLabel:I=g=>g[O]||g.id}=t,{labelIdentifier:O="label"}=t,{getOptionLabel:E=(g,q)=>g.isCreator?`Create "${q}"`:g[O]}=t,{optionIdentifier:C="value"}=t,{loadOptions:x=void 0}=t,{hasError:J=!1}=t,{containerStyles:Q=""}=t,{getSelectionLabel:ve=g=>g?g[O]:null}=t,{createGroupHeaderItem:je=g=>({value:g,label:g})}=t,{createItem:H=g=>({value:g,label:g})}=t;const Z=()=>i;let{isSearchable:de=!0}=t,{inputStyles:ye=""}=t,{isClearable:Ie=!0}=t,{isWaiting:Se=!1}=t,{listPlacement:L="auto"}=t,{listOpen:j=!1}=t,{isVirtualList:fe=!1}=t,{loadOptionsInterval:Ae=300}=t,{noOptionsMessage:Le="No options"}=t,{hideEmptyState:tt=!1}=t,{inputAttributes:Xe={}}=t,{listAutoWidth:nt=!0}=t,{itemHeight:it=40}=t,{Icon:gt=void 0}=t,{iconProps:vi={}}=t,{showChevron:yi=!1}=t,{showIndicator:wi=!1}=t,{containerClasses:bi=""}=t,{indicatorSvg:ki=void 0}=t,{listOffset:dn=5}=t,{ClearIcon:Ii=Xc}=t,{Item:_n=Gl}=t,{List:Si=Vc}=t,{Selection:Ai=Rc}=t,{MultiSelection:Ei=zc}=t,{VirtualList:mn=Uc}=t;function Ul(g){if(g.loadOptions&&g.filterText.length>0)return;if(!g.items)return[];g.items&&g.items.length>0&&typeof g.items[0]!="object"&&(g.items=Dr(g.items));let q=g.items.filter($=>{let Ce=z(E($,g.filterText),g.filterText,$);return Ce&&g.isMulti&&g.value&&Array.isArray(g.value)&&(Ce=!g.value.some(We=>We[g.optionIdentifier]===$[g.optionIdentifier])),Ce});return g.groupBy&&(q=Kl(q)),g.isCreatable&&(q=Mi(q,g.filterText)),q}function Mi(g,q){if(q.length===0)return g;const $=H(q);return g[0]&&q===g[0][O]?g:($.isCreator=!0,[...g,$])}let{selectedValue:gn=null}=t,ie,rt,pn,vn,yn,Vt;const Yl=Wc(async()=>{n(4,Se=!0);let g=await x(S).catch(q=>{console.warn("svelte-select loadOptions error :>> ",q),c("error",{type:"loadOptions",details:q})});g&&!g.cancelled&&(g?(g&&g.length>0&&typeof g[0]!="object"&&(g=Dr(g)),n(81,i=[...g]),c("loaded",{items:i})):n(81,i=[]),N&&n(81,i=Mi(i,S)),n(4,Se=!1),n(1,A=!0),n(5,j=!0))},Ae);function Xl(){typeof m=="string"?n(2,m={[C]:m,label:m}):p&&Array.isArray(m)&&m.length>0&&n(2,m=m.map(g=>typeof g=="string"?{value:g,label:g}:g))}let lt;function Wl(){n(31,lt=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},Xe)),f&&n(31,lt.id=f,lt),de||n(31,lt.readonly=!0,lt)}function Kl(g){const q=[],$={};g.forEach(We=>{const qe=D(We);q.includes(qe)||(q.push(qe),$[qe]=[],qe&&$[qe].push(Object.assign(je(qe,We),{id:qe,isGroupHeader:!0,isSelectable:k}))),$[qe].push(Object.assign({isGroupItem:!!qe},We))});const Ce=[];return y(q).forEach(We=>{Ce.push(...$[We])}),Ce}function Zl(){if(p){JSON.stringify(m)!==JSON.stringify(rt)&&Ci()&&c("select",m);return}(!rt||JSON.stringify(m[C])!==JSON.stringify(rt[C]))&&c("select",m)}function Jl(){A||j?wn():v&&v.blur()}function Ql(){m&&(Array.isArray(m)?n(2,m=[...m]):n(2,m=[m]))}function $l(){m&&n(2,m=null)}function es(){S.length!==0&&(n(1,A=!0),n(5,j=!0),x?Yl():(n(5,j=!0),p&&n(30,ie=void 0)))}Jr(async()=>{n(77,rt=m),n(78,pn=S),n(79,vn=A),n(80,yn=p)});function Ci(){let g=!0;if(m){const q=[],$=[];m.forEach(Ce=>{q.includes(Ce[C])?g=!1:(q.push(Ce[C]),$.push(Ce))}),g||n(2,m=$)}return g}function Ni(g){let q=g?g[C]:m[C];return R.find($=>$[C]===q)}function ts(g){!g||g.length===0||g.some(q=>typeof q!="object")||!m||(p?m.some(q=>!q||!q[C]):!m[C])||(Array.isArray(m)?n(2,m=m.map(q=>Ni(q)||q)):n(2,m=Ni()||m))}function Li(g){const{detail:q}=g,$=m[q?q.i:m.length-1];m.length===1?n(2,m=void 0):n(2,m=m.filter(Ce=>Ce!==$)),c("clear",$)}function ns(g){if(!!A)switch(g.key){case"ArrowDown":g.preventDefault(),n(5,j=!0),n(30,ie=void 0);break;case"ArrowUp":g.preventDefault(),n(5,j=!0),n(30,ie=void 0);break;case"Tab":j||n(1,A=!1);break;case"Backspace":if(!p||S.length>0)return;if(p&&m&&m.length>0){if(Li(ie!==void 0?ie:m.length-1),ie===0||ie===void 0)break;n(30,ie=m.length>ie?ie-1:void 0)}break;case"ArrowLeft":if(!p||S.length>0)return;ie===void 0?n(30,ie=m.length-1):m.length>ie&&ie!==0&&n(30,ie-=1);break;case"ArrowRight":if(!p||S.length>0||ie===void 0)return;ie===m.length-1?n(30,ie=void 0):ie<m.length-1&&n(30,ie+=1);break}}function wn(){n(1,A=!0),v&&v.focus()}function is(g){if(!_)return;const q=g.path&&g.path.length>0?g.path[0]:g.target;_.contains(q)||_.contains(g.relatedTarget)||(n(1,A=!1),n(5,j=!1),n(30,ie=void 0),v&&v.blur())}function rs(){M||(n(1,A=!0),n(5,j=!j))}function ls(){n(2,m=void 0),n(5,j=!1),c("clear",m),wn()}on(()=>{A&&v&&v.focus()});function ss(g){const{detail:q}=g;if(q){n(3,S="");const $=Object.assign({},q);(!$.isGroupHeader||$.isSelectable)&&(p?n(2,m=m?m.concat([$]):[$]):n(2,m=$),n(2,m),setTimeout(()=>{n(5,j=!1),n(30,ie=void 0)}))}}function as(g){const{detail:q}=g;p?(n(2,m=m||[]),n(2,m=[...m,H(q)])):n(2,m=H(q)),c("itemCreated",q),n(3,S=""),n(5,j=!1),n(30,ie=void 0)}function os(){n(3,S=""),n(5,j=!1)}let{ariaValues:bn=g=>`Option ${g}, selected.`}=t,{ariaListOpen:kn=(g,q)=>`You are currently focused on option ${g}. There are ${q} results available.`}=t,{ariaFocused:In=()=>"Select is focused, type to refine list, press down to open the menu."}=t;function us(){let g;return p&&m.length>0?g=m.map(q=>ve(q)).join(", "):g=ve(m),bn(g)}function fs(){if(!A||!i||i.length===0)return"";let g=i[Vt];if(j&&g){let q=ve(g),$=i?i.length:0;return kn(q,$)}else return In()}function cs(g){Ee[g?"unshift":"push"](()=>{v=g,n(6,v)})}function hs(){S=this.value,n(3,S)}function ds(g){Vt=g,n(28,Vt)}function _s(g){Ee[g?"unshift":"push"](()=>{_=g,n(0,_)})}return e.$$set=g=>{"id"in g&&n(46,f=g.id),"container"in g&&n(0,_=g.container),"input"in g&&n(6,v=g.input),"isMulti"in g&&n(7,p=g.isMulti),"multiFullItemClearable"in g&&n(8,b=g.multiFullItemClearable),"isDisabled"in g&&n(9,M=g.isDisabled),"isCreatable"in g&&n(47,N=g.isCreatable),"isFocused"in g&&n(1,A=g.isFocused),"value"in g&&n(2,m=g.value),"filterText"in g&&n(3,S=g.filterText),"placeholder"in g&&n(48,T=g.placeholder),"placeholderAlwaysShow"in g&&n(49,P=g.placeholderAlwaysShow),"items"in g&&n(50,R=g.items),"itemFilter"in g&&n(51,z=g.itemFilter),"groupBy"in g&&n(52,D=g.groupBy),"groupFilter"in g&&n(53,y=g.groupFilter),"isGroupHeaderSelectable"in g&&n(54,k=g.isGroupHeaderSelectable),"getGroupHeaderLabel"in g&&n(55,I=g.getGroupHeaderLabel),"labelIdentifier"in g&&n(56,O=g.labelIdentifier),"getOptionLabel"in g&&n(57,E=g.getOptionLabel),"optionIdentifier"in g&&n(58,C=g.optionIdentifier),"loadOptions"in g&&n(59,x=g.loadOptions),"hasError"in g&&n(10,J=g.hasError),"containerStyles"in g&&n(11,Q=g.containerStyles),"getSelectionLabel"in g&&n(12,ve=g.getSelectionLabel),"createGroupHeaderItem"in g&&n(60,je=g.createGroupHeaderItem),"createItem"in g&&n(61,H=g.createItem),"isSearchable"in g&&n(13,de=g.isSearchable),"inputStyles"in g&&n(14,ye=g.inputStyles),"isClearable"in g&&n(15,Ie=g.isClearable),"isWaiting"in g&&n(4,Se=g.isWaiting),"listPlacement"in g&&n(63,L=g.listPlacement),"listOpen"in g&&n(5,j=g.listOpen),"isVirtualList"in g&&n(64,fe=g.isVirtualList),"loadOptionsInterval"in g&&n(65,Ae=g.loadOptionsInterval),"noOptionsMessage"in g&&n(66,Le=g.noOptionsMessage),"hideEmptyState"in g&&n(67,tt=g.hideEmptyState),"inputAttributes"in g&&n(16,Xe=g.inputAttributes),"listAutoWidth"in g&&n(68,nt=g.listAutoWidth),"itemHeight"in g&&n(69,it=g.itemHeight),"Icon"in g&&n(17,gt=g.Icon),"iconProps"in g&&n(18,vi=g.iconProps),"showChevron"in g&&n(19,yi=g.showChevron),"showIndicator"in g&&n(20,wi=g.showIndicator),"containerClasses"in g&&n(21,bi=g.containerClasses),"indicatorSvg"in g&&n(22,ki=g.indicatorSvg),"listOffset"in g&&n(70,dn=g.listOffset),"ClearIcon"in g&&n(23,Ii=g.ClearIcon),"Item"in g&&n(71,_n=g.Item),"List"in g&&n(24,Si=g.List),"Selection"in g&&n(25,Ai=g.Selection),"MultiSelection"in g&&n(26,Ei=g.MultiSelection),"VirtualList"in g&&n(72,mn=g.VirtualList),"selectedValue"in g&&n(73,gn=g.selectedValue),"ariaValues"in g&&n(74,bn=g.ariaValues),"ariaListOpen"in g&&n(75,kn=g.ariaListOpen),"ariaFocused"in g&&n(76,In=g.ariaFocused)},e.$$.update=()=>{e.$$.dirty[0]&140|e.$$.dirty[1]&405340160&&n(81,i=Ul({loadOptions:x,filterText:S,items:R,value:m,isMulti:p,optionIdentifier:C,groupBy:D,isCreatable:N})),e.$$.dirty[2]&2048&&gn&&console.warn("selectedValue is no longer used. Please use value instead."),e.$$.dirty[1]&524288&&ts(R),e.$$.dirty[0]&4&&m&&Xl(),e.$$.dirty[0]&73728&&(Xe||!de)&&Wl(),e.$$.dirty[0]&128|e.$$.dirty[2]&262144&&(p&&Ql(),yn&&!p&&$l()),e.$$.dirty[0]&132&&p&&m&&m.length>1&&Ci(),e.$$.dirty[0]&4&&m&&Zl(),e.$$.dirty[0]&132|e.$$.dirty[2]&32768&&!m&&p&&rt&&c("select",m),e.$$.dirty[0]&2|e.$$.dirty[2]&131072&&A!==vn&&Jl(),e.$$.dirty[0]&8|e.$$.dirty[2]&65536&&S!==pn&&es(),e.$$.dirty[0]&12&&n(29,r=m&&S.length===0),e.$$.dirty[0]&536904208&&n(37,s=r&&Ie&&!M&&!Se),e.$$.dirty[0]&132|e.$$.dirty[1]&393216&&n(36,l=P&&p?T:m?"":T),e.$$.dirty[0]&132&&n(35,a=p&&m&&m.length>0),e.$$.dirty[0]&141|e.$$.dirty[1]&218103808|e.$$.dirty[2]&526326&&n(34,o={Item:_n,filterText:S,optionIdentifier:C,noOptionsMessage:Le,hideEmptyState:tt,isVirtualList:fe,VirtualList:mn,value:m,isMulti:p,getGroupHeaderLabel:I,items:i,itemHeight:it,getOptionLabel:E,listPlacement:L,parent:_,listAutoWidth:nt,listOffset:dn}),e.$$.dirty[0]&132&&n(33,u=m?us():""),e.$$.dirty[0]&268435490|e.$$.dirty[2]&524288&&n(32,h=fs())},[_,A,m,S,Se,j,v,p,b,M,J,Q,ve,de,ye,Ie,Xe,gt,vi,yi,wi,bi,ki,Ii,Si,Ai,Ei,ls,Vt,r,ie,lt,h,u,o,a,l,s,Li,ns,wn,is,rs,ss,as,os,f,N,T,P,R,z,D,y,k,I,O,E,C,x,je,H,Z,L,fe,Ae,Le,tt,nt,it,dn,_n,mn,gn,bn,kn,In,rt,pn,vn,yn,i,cs,hs,ds,_s]}class Fr extends Fe{constructor(t){super(),Ve(this,t,Qc,Jc,Oe,{id:46,container:0,input:6,isMulti:7,multiFullItemClearable:8,isDisabled:9,isCreatable:47,isFocused:1,value:2,filterText:3,placeholder:48,placeholderAlwaysShow:49,items:50,itemFilter:51,groupBy:52,groupFilter:53,isGroupHeaderSelectable:54,getGroupHeaderLabel:55,labelIdentifier:56,getOptionLabel:57,optionIdentifier:58,loadOptions:59,hasError:10,containerStyles:11,getSelectionLabel:12,createGroupHeaderItem:60,createItem:61,getFilteredItems:62,isSearchable:13,inputStyles:14,isClearable:15,isWaiting:4,listPlacement:63,listOpen:5,isVirtualList:64,loadOptionsInterval:65,noOptionsMessage:66,hideEmptyState:67,inputAttributes:16,listAutoWidth:68,itemHeight:69,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,listOffset:70,ClearIcon:23,Item:71,List:24,Selection:25,MultiSelection:26,VirtualList:72,selectedValue:73,handleClear:27,ariaValues:74,ariaListOpen:75,ariaFocused:76},null,[-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[62]}get handleClear(){return this.$$.ctx[27]}}function Vr(e,t,n){const i=e.slice();return i[24]=t[n],i}function Or(e,t,n){const i=e.slice();return i[24]=t[n],i}function Hr(e,t){let n,i,r,s,l,a;return{key:e,first:null,c(){n=U("circle"),this.h()},l(o){n=Y(o,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),V(n).forEach(w),this.h()},h(){d(n,"cx",i=t[9](t[24].year)),d(n,"cy",r=t[8](t[24].export_value)),d(n,"r","5"),d(n,"fill",s=t[11](t[0])),d(n,"class","svelte-wx1vup"),this.first=n},m(o,u){B(o,n,u),l||(a=ce(n,"click",function(){$r(t[13](t[24].year))&&t[13](t[24].year).apply(this,arguments)}),l=!0)},p(o,u){t=o,u&1536&&i!==(i=t[9](t[24].year))&&d(n,"cx",i),u&1280&&r!==(r=t[8](t[24].export_value))&&d(n,"cy",r),u&2049&&s!==(s=t[11](t[0]))&&d(n,"fill",s)},d(o){o&&w(n),l=!1,a()}}}function Rr(e,t){let n,i,r,s,l,a;return{key:e,first:null,c(){n=U("circle"),this.h()},l(o){n=Y(o,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),V(n).forEach(w),this.h()},h(){d(n,"cx",i=t[9](t[24].year)),d(n,"cy",r=t[8](t[24].import_value)),d(n,"r","5"),d(n,"fill",s=t[11](t[1])),d(n,"class","svelte-wx1vup"),this.first=n},m(o,u){B(o,n,u),l||(a=ce(n,"click",function(){$r(t[13](t[24].year))&&t[13](t[24].year).apply(this,arguments)}),l=!0)},p(o,u){t=o,u&1536&&i!==(i=t[9](t[24].year))&&d(n,"cx",i),u&1280&&r!==(r=t[8](t[24].import_value))&&d(n,"cy",r),u&2050&&s!==(s=t[11](t[1]))&&d(n,"fill",s)},d(o){o&&w(n),l=!1,a()}}}function $c(e){let t,n,i,r,s,l,a,o,u,h,c,f,_,v,p=[],b=new Map,M,N,A,m=[],S=new Map,T,P=e[10];const R=y=>y[24].year;for(let y=0;y<P.length;y+=1){let k=Or(e,P,y),I=R(k);b.set(I,p[y]=Hr(I,k))}let z=e[10];const D=y=>y[24].year;for(let y=0;y<z.length;y+=1){let k=Vr(e,z,y),I=D(k);S.set(I,m[y]=Rr(I,k))}return{c(){t=X("div"),n=U("svg"),i=U("text"),r=re("Total Trade Over Time"),l=U("rect"),u=U("g"),c=U("g"),f=U("g"),_=U("path");for(let y=0;y<p.length;y+=1)p[y].c();M=U("g"),N=U("path");for(let y=0;y<m.length;y+=1)m[y].c();this.h()},l(y){t=W(y,"DIV",{id:!0,class:!0});var k=V(t);n=Y(k,"svg",{width:!0,height:!0});var I=V(n);i=Y(I,"text",{class:!0,x:!0,y:!0,"text-anchor":!0});var O=V(i);r=le(O,"Total Trade Over Time"),O.forEach(w),l=Y(I,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),V(l).forEach(w),u=Y(I,"g",{id:!0,transform:!0}),V(u).forEach(w),c=Y(I,"g",{id:!0,transform:!0}),V(c).forEach(w),f=Y(I,"g",{class:!0});var E=V(f);_=Y(E,"path",{fill:!0,stroke:!0,"stroke-width":!0}),V(_).forEach(w);for(let x=0;x<p.length;x+=1)p[x].l(E);E.forEach(w),M=Y(I,"g",{class:!0});var C=V(M);N=Y(C,"path",{fill:!0,stroke:!0,"stroke-width":!0}),V(N).forEach(w);for(let x=0;x<m.length;x+=1)m[x].l(C);C.forEach(w),I.forEach(w),k.forEach(w),this.h()},h(){d(i,"class","chart-header"),d(i,"x",s=e[2]/2),d(i,"y",Ye-5),d(i,"text-anchor","middle"),d(l,"x",a=e[9](e[12])-12),d(l,"y",35),d(l,"width","24"),d(l,"height",o=e[3]-35-Ye),d(l,"fill","rgba(0,0,0,0.2)"),d(u,"id","xAxis"),d(u,"transform",h=`translate(${0},${e[3]-Ye})`),d(c,"id","yAis"),d(c,"transform",`translate(${jl},${0})`),d(_,"fill","none"),d(_,"stroke",v=e[11](e[0])),d(_,"stroke-width","2"),d(f,"class","country1-group country-group svelte-wx1vup"),d(N,"fill","none"),d(N,"stroke",A=e[11](e[1])),d(N,"stroke-width","2"),d(M,"class","country2-group country-group svelte-wx1vup"),d(n,"width",e[2]),d(n,"height",e[3]),d(t,"id","line-chart"),d(t,"class","viz-section"),Tt(()=>e[22].call(t))},m(y,k){B(y,t,k),F(t,n),F(n,i),F(i,r),F(n,l),F(n,u),e[18](u),F(n,c),e[19](c),F(n,f),F(f,_),e[20](_);for(let I=0;I<p.length;I+=1)p[I].m(f,null);F(n,M),F(M,N),e[21](N);for(let I=0;I<m.length;I+=1)m[I].m(M,null);T=un(t,e[22].bind(t))},p(y,[k]){k&4&&s!==(s=y[2]/2)&&d(i,"x",s),k&4608&&a!==(a=y[9](y[12])-12)&&d(l,"x",a),k&8&&o!==(o=y[3]-35-Ye)&&d(l,"height",o),k&8&&h!==(h=`translate(${0},${y[3]-Ye})`)&&d(u,"transform",h),k&2049&&v!==(v=y[11](y[0]))&&d(_,"stroke",v),k&12033&&(P=y[10],p=Et(p,k,R,1,y,P,b,f,Yt,Hr,null,Or)),k&2050&&A!==(A=y[11](y[1]))&&d(N,"stroke",A),k&12034&&(z=y[10],m=Et(m,k,D,1,y,z,S,M,Yt,Rr,null,Vr)),k&4&&d(n,"width",y[2]),k&8&&d(n,"height",y[3])},i:se,o:se,d(y){y&&w(t),e[18](null),e[19](null),e[20](null);for(let k=0;k<p.length;k+=1)p[k].d();e[21](null);for(let k=0;k<m.length;k+=1)m[k].d();T()}}}const Ye=35,eh=15,jl=50;function th(e,t,n){let i,r,s,l;oi(e,rn,y=>n(12,l=y));let{data:a}=t,{bilateralData:o,locationData:u,productData:h,country1:c,country2:f,countryColorScale:_}=a,v=800,p=400;const b=y=>_t("$.2s")(y).replace(/G/,"B");let M,N,A,m;function S(y){return()=>rn.set(y)}function T(y){Ee[y?"unshift":"push"](()=>{M=y,n(4,M)})}function P(y){Ee[y?"unshift":"push"](()=>{N=y,n(5,N)})}function R(y){Ee[y?"unshift":"push"](()=>{A=y,n(6,A)})}function z(y){Ee[y?"unshift":"push"](()=>{m=y,n(7,m)})}function D(){v=this.clientWidth,p=this.clientHeight,n(2,v),n(3,p)}return e.$$set=y=>{"data"in y&&n(14,a=y.data)},e.$$.update=()=>{var y,k;if(e.$$.dirty&16384&&n(15,{bilateralData:o,locationData:u,productData:h,country1:c,country2:f,countryColorScale:_}=a,o,(n(16,u),n(14,a)),(n(17,h),n(14,a)),(n(0,c),n(14,a)),(n(1,f),n(14,a)),(n(11,_),n(14,a))),e.$$.dirty&229379&&n(10,i=Array.from((y=o==null?void 0:o.entries())!=null?y:new Array).map(I=>{var C,x,J;let O=I[0];return(J=(x=(C=I[1].get(c))==null?void 0:C.get(f))==null?void 0:x.reduce((Q,ve)=>(Q.export_value+=ve.export_value,Q.import_value+=ve.import_value,Q),new mt(u,h,{location_id:c,partner_id:f,product_id:0,year:O,export_value:0,import_value:0})))!=null?J:new mt(u,h,{location_id:c,partner_id:f,product_id:0,year:O,export_value:0,import_value:0})}).sort((I,O)=>I.year-O.year)),e.$$.dirty&1032&&n(8,r=nn().domain([0,(k=zn(i,I=>Math.max(I.export_value,I.import_value)))!=null?k:0]).range([p-Ye,Ye+eh])),e.$$.dirty&1028&&n(9,s=nn().domain(tl(i,I=>I.year)).range([jl,v-Ye])),e.$$.dirty&816){let I=ll(s).tickFormat(_t("d"));It(M).transition().call(I);let O=Ws(r).tickFormat(E=>b(E));It(N).transition().call(O)}if(e.$$.dirty&1856){let I=Qn();i.length>0&&I.moveTo(s(i[0].year),r(i[0].export_value)),i.forEach(O=>{I.lineTo(s(O.year),r(O.export_value))}),It(A).transition().attr("d",I.toString())}if(e.$$.dirty&1920){let I=Qn();i.length>0&&I.moveTo(s(i[0].year),r(i[0].import_value)),i.forEach(O=>{I.lineTo(s(O.year),r(O.import_value))}),It(m).transition().attr("d",I.toString())}},[c,f,v,p,M,N,A,m,r,s,i,_,l,S,a,o,u,h,T,P,R,z,D]}class nh extends Fe{constructor(t){super(),Ve(this,t,th,$c,Oe,{data:14})}}function ih(e,{delay:t=0,duration:n=400,easing:i=Es}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:i,css:s=>`opacity: ${s*r}`}}function Pr(e,t,n){const i=e.slice();return i[18]=t[n],i[20]=n,i}function rh(e){let t,n,i,r,s;return{c(){t=U("text"),n=re("No valid data for this pair."),this.h()},l(l){t=Y(l,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var a=V(t);n=le(a,"No valid data for this pair."),a.forEach(w),this.h()},h(){d(t,"x",i=e[2]/2),d(t,"y",r=e[8]/2),d(t,"alignment-baseline","central"),d(t,"text-anchor","middle")},m(l,a){B(l,t,a),F(t,n)},p(l,a){a&4&&i!==(i=l[2]/2)&&d(t,"x",i),a&256&&r!==(r=l[8]/2)&&d(t,"y",r)},i(l){s||Tt(()=>{s=Ms(t,ih,{}),s.start()})},o:se,d(l){l&&w(t)}}}function lh(e){var D,y;let t,n,i,r,s,l,a,o=((D=e[0])==null?void 0:D.name)+"",u,h,c,f=((y=e[1])==null?void 0:y.name)+"",_,v,p,b=[],M=new Map,N,A,m,S,T,P,R=e[9];const z=k=>k[18].product.name;for(let k=0;k<R.length;k+=1){let I=Pr(e,R,k),O=z(I);M.set(O,b[k]=zr(O,I))}return{c(){t=U("text"),n=re(`Sector
      `),i=U("text"),r=re(`Trade Flow
      `),l=U("text"),a=re("From "),u=re(o),h=U("text"),c=re("From "),_=re(f),p=U("g");for(let k=0;k<b.length;k+=1)b[k].c();N=U("line"),S=U("line"),P=U("g"),this.h()},l(k){t=Y(k,"text",{"text-anchor":!0,class:!0,x:!0,y:!0,"alignment-baseline":!0});var I=V(t);n=le(I,`Sector
      `),I.forEach(w),i=Y(k,"text",{"text-anchor":!0,class:!0,x:!0,y:!0,"alignment-baseline":!0});var O=V(i);r=le(O,`Trade Flow
      `),O.forEach(w),l=Y(k,"text",{class:!0,x:!0,y:!0,"alignment-baseline":!0,"font-size":!0});var E=V(l);a=le(E,"From "),u=le(E,o),E.forEach(w),h=Y(k,"text",{class:!0,x:!0,y:!0,"text-anchor":!0,"alignment-baseline":!0,"font-size":!0});var C=V(h);c=le(C,"From "),_=le(C,f),C.forEach(w),p=Y(k,"g",{id:!0,transform:!0});var x=V(p);for(let J=0;J<b.length;J+=1)b[J].l(x);N=Y(x,"line",{id:!0,transform:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,class:!0}),V(N).forEach(w),S=Y(x,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),V(S).forEach(w),P=Y(x,"g",{id:!0}),V(P).forEach(w),x.forEach(w),this.h()},h(){var k,I,O,E;d(t,"text-anchor","start"),d(t,"class","chart-header"),d(t,"x",15),d(t,"y",bt/2),d(t,"alignment-baseline","hanging"),d(i,"text-anchor","middle"),d(i,"class","chart-header"),d(i,"x",s=(e[2]-Ue)/2+Ue),d(i,"y",bt/2-7),d(i,"alignment-baseline","hanging"),d(l,"class","from-label"),d(l,"x",Ue+20),d(l,"y",bt/2-5),d(l,"alignment-baseline","hanging"),d(l,"font-size","13"),d(h,"class","from-label"),d(h,"x",v=e[2]-20),d(h,"y",bt/2-5),d(h,"text-anchor","end"),d(h,"alignment-baseline","hanging"),d(h,"font-size","13"),d(N,"id","midline"),d(N,"transform",A=`translate(${e[4](0)},0)`),d(N,"y1",20),d(N,"y2",m=(((I=(k=e[9])==null?void 0:k.length)!=null?I:0)+1)*_e),d(N,"stroke","rgba(0,0,0,0.7)"),d(N,"stroke-width","1"),d(N,"class","svelte-g5tcaj"),d(S,"x1",Ue),d(S,"y1",0),d(S,"x2",Ue),d(S,"y2",T=(((E=(O=e[9])==null?void 0:O.length)!=null?E:0)+1)*_e),d(S,"stroke","rgba(0,0,0,0.1)"),d(S,"stroke-width","1"),d(P,"id","axis"),d(p,"id","bar-content"),d(p,"transform",`translate(${0},${bt})`)},m(k,I){B(k,t,I),F(t,n),B(k,i,I),F(i,r),B(k,l,I),F(l,a),F(l,u),B(k,h,I),F(h,c),F(h,_),B(k,p,I);for(let O=0;O<b.length;O+=1)b[O].m(p,null);F(p,N),F(p,S),F(p,P),e[14](P)},p(k,I){var O,E,C,x,J,Q;I&4&&s!==(s=(k[2]-Ue)/2+Ue)&&d(i,"x",s),I&1&&o!==(o=((O=k[0])==null?void 0:O.name)+"")&&Be(u,o),I&2&&f!==(f=((E=k[1])==null?void 0:E.name)+"")&&Be(_,f),I&4&&v!==(v=k[2]-20)&&d(h,"x",v),I&628&&(R=k[9],b=Et(b,I,z,1,k,R,M,p,Yt,zr,N,Pr)),I&16&&A!==(A=`translate(${k[4](0)},0)`)&&d(N,"transform",A),I&512&&m!==(m=(((x=(C=k[9])==null?void 0:C.length)!=null?x:0)+1)*_e)&&d(N,"y2",m),I&512&&T!==(T=(((Q=(J=k[9])==null?void 0:J.length)!=null?Q:0)+1)*_e)&&d(S,"y2",T)},i:se,o:se,d(k){k&&w(t),k&&w(i),k&&w(l),k&&w(h),k&&w(p);for(let I=0;I<b.length;I+=1)b[I].d();e[14](null)}}}function Br(e){let t,n;return{c(){t=U("rect"),this.h()},l(i){t=Y(i,"rect",{x:!0,y:!0,height:!0,width:!0,fill:!0,class:!0}),V(t).forEach(w),this.h()},h(){d(t,"x","0"),d(t,"y",n=e[20]*_e+Re),d(t,"height",_e),d(t,"width",e[2]),d(t,"fill","rgba(0,0,0,0.04)"),d(t,"class","svelte-g5tcaj")},m(i,r){B(i,t,r)},p(i,r){r&512&&n!==(n=i[20]*_e+Re)&&d(t,"y",n),r&4&&d(t,"width",i[2])},d(i){i&&w(t)}}}function zr(e,t){let n,i,r,s,l,a=t[18].product.name+"",o,u,h,c,f,_,v,p,b,M,N,A,m=t[20]%2==0&&Br(t);return{key:e,first:null,c(){n=U("g"),i=U("rect"),m&&m.c(),l=U("text"),o=re(a),h=U("rect"),p=U("rect"),this.h()},l(S){n=Y(S,"g",{});var T=V(n);i=Y(T,"rect",{x:!0,y:!0,height:!0,width:!0,fill:!0,class:!0}),V(i).forEach(w),m&&m.l(T),l=Y(T,"text",{class:!0,"alignment-baseline":!0,x:!0,y:!0});var P=V(l);o=le(P,a),P.forEach(w),h=Y(T,"rect",{class:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),V(h).forEach(w),p=Y(T,"rect",{class:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),V(p).forEach(w),T.forEach(w),this.h()},h(){d(i,"x","0"),d(i,"y",r=t[20]*_e+Re+2),d(i,"height",_e-4),d(i,"width","6"),d(i,"fill",s=t[5]?t[5](t[18].product.name):"white"),d(i,"class","svelte-g5tcaj"),d(l,"class","product-text"),d(l,"alignment-baseline","hanging"),d(l,"x",10),d(l,"y",u=t[20]*_e+Re+5),d(h,"class","country1-bar svelte-g5tcaj"),d(h,"x",c=t[4](-t[18].export_value)),d(h,"y",f=t[20]*_e+Re+at/2),d(h,"height",_e-at),d(h,"width",_=t[4](0)-t[4](-t[18].export_value)),d(h,"fill",v=t[6](t[18].location_id)),d(p,"class","country2-bar svelte-g5tcaj"),d(p,"x",b=t[4](0)),d(p,"y",M=t[20]*_e+Re+at/2),d(p,"height",_e-at),d(p,"width",N=t[4](t[18].import_value)-t[4](0)),d(p,"fill",A=t[6](t[18].partner_id)),this.first=n},m(S,T){B(S,n,T),F(n,i),m&&m.m(n,null),F(n,l),F(l,o),F(n,h),F(n,p)},p(S,T){t=S,T&512&&r!==(r=t[20]*_e+Re+2)&&d(i,"y",r),T&544&&s!==(s=t[5]?t[5](t[18].product.name):"white")&&d(i,"fill",s),t[20]%2==0?m?m.p(t,T):(m=Br(t),m.c(),m.m(n,l)):m&&(m.d(1),m=null),T&512&&a!==(a=t[18].product.name+"")&&Be(o,a),T&512&&u!==(u=t[20]*_e+Re+5)&&d(l,"y",u),T&528&&c!==(c=t[4](-t[18].export_value))&&d(h,"x",c),T&512&&f!==(f=t[20]*_e+Re+at/2)&&d(h,"y",f),T&528&&_!==(_=t[4](0)-t[4](-t[18].export_value))&&d(h,"width",_),T&576&&v!==(v=t[6](t[18].location_id))&&d(h,"fill",v),T&16&&b!==(b=t[4](0))&&d(p,"x",b),T&512&&M!==(M=t[20]*_e+Re+at/2)&&d(p,"y",M),T&528&&N!==(N=t[4](t[18].import_value)-t[4](0))&&d(p,"width",N),T&576&&A!==(A=t[6](t[18].partner_id))&&d(p,"fill",A)},d(S){S&&w(n),m&&m.d()}}}function qr(e){let t,n,i,r,s;return{c(){t=U("rect"),n=U("text"),i=re("Loading..."),this.h()},l(l){t=Y(l,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,class:!0}),V(t).forEach(w),n=Y(l,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var a=V(n);i=le(a,"Loading..."),a.forEach(w),this.h()},h(){d(t,"x","0"),d(t,"y","0"),d(t,"width",e[2]),d(t,"height",e[8]),d(t,"fill","rgba(255,255,255,0.9)"),d(t,"class","svelte-g5tcaj"),d(n,"x",r=e[2]/2),d(n,"y",s=e[8]/2),d(n,"alignment-baseline","central"),d(n,"text-anchor","middle")},m(l,a){B(l,t,a),B(l,n,a),F(n,i)},p(l,a){a&4&&d(t,"width",l[2]),a&256&&d(t,"height",l[8]),a&4&&r!==(r=l[2]/2)&&d(n,"x",r),a&256&&s!==(s=l[8]/2)&&d(n,"y",s)},d(l){l&&w(t),l&&w(n)}}}function sh(e){let t,n,i,r;function s(u,h){return u[9]&&u[9].length>0?lh:rh}let l=s(e),a=l(e),o=e[7]&&qr(e);return{c(){t=X("div"),n=U("svg"),a.c(),i=ne(),o&&o.c(),this.h()},l(u){t=W(u,"DIV",{id:!0,class:!0});var h=V(t);n=Y(h,"svg",{class:!0});var c=V(n);a.l(c),i=ne(),o&&o.l(c),c.forEach(w),h.forEach(w),this.h()},h(){d(n,"class","svelte-g5tcaj"),d(t,"id","bar-chart"),d(t,"class","viz-section svelte-g5tcaj"),Tt(()=>e[15].call(t))},m(u,h){B(u,t,h),F(t,n),a.m(n,null),F(n,i),o&&o.m(n,null),r=un(t,e[15].bind(t))},p(u,[h]){l===(l=s(u))&&a?a.p(u,h):(a.d(1),a=l(u),a&&(a.c(),G(a,1),a.m(n,i))),u[7]?o?o.p(u,h):(o=qr(u),o.c(),o.m(n,null)):o&&(o.d(1),o=null)},i(u){G(a)},o:se,d(u){u&&w(t),a.d(),o&&o.d(),r()}}}const bt=40,_e=30,xr=0,ah=10,Re=30,Ue=100,at=4;function oh(e,t,n){let i,r,s,l,{data:a}=t,{bilateralDataForYear:o,productColorScale:u,countryColorScale:h,country1:c,country2:f,loadingDrilldown:_}=a,v=800,p=500,b;const M=m=>_t("$.2s")(m).replace(/G/,"B");function N(m){Ee[m?"unshift":"push"](()=>{b=m,n(3,b)})}function A(){v=this.clientWidth,p=this.clientHeight,n(2,v),n(8,p)}return e.$$set=m=>{"data"in m&&n(10,a=m.data)},e.$$.update=()=>{var m,S,T,P,R,z,D,y,k,I,O,E;if(e.$$.dirty&1024&&n(11,{bilateralDataForYear:o,productColorScale:u,countryColorScale:h,country1:c,country2:f,loadingDrilldown:_}=a,o,(n(5,u),n(10,a)),(n(6,h),n(10,a)),(n(0,c),n(10,a)),(n(1,f),n(10,a)),(n(7,_),n(10,a))),e.$$.dirty&2051&&n(9,i=(P=(T=o.get((m=c==null?void 0:c.id)!=null?m:0))==null?void 0:T.get((S=f==null?void 0:f.id)!=null?S:0))==null?void 0:P.filter(C=>C.product.level=="section")),e.$$.dirty&2051&&n(13,r=zn((y=(D=o.get((R=c==null?void 0:c.id)!=null?R:0))==null?void 0:D.get((z=f==null?void 0:f.id)!=null?z:0))!=null?y:new Array,C=>C.export_value)),e.$$.dirty&2051&&n(12,s=zn((E=(O=o.get((k=c==null?void 0:c.id)!=null?k:0))==null?void 0:O.get((I=f==null?void 0:f.id)!=null?I:0))!=null?E:new Array,C=>C.import_value)),e.$$.dirty&12288,e.$$.dirty&12292&&n(4,l=nn().domain([-r,s]).range([Ue+xr,v-xr-ah])),e.$$.dirty&24){let C=ll(l).tickFormat(x=>M(Math.abs(x)));It(b).transition().call(C)}},[c,f,v,b,l,u,h,_,p,i,a,o,s,r,N,A]}class uh extends Fe{constructor(t){super(),Ve(this,t,oh,sh,Oe,{data:10})}}const{Map:fh}=Cs;function Gr(e,t,n){const i=e.slice();return i[16]=t[n],i}function jr(e){var l,a,o;let t,n=((o=(a=(l=e[16].data)==null?void 0:l.product.name)==null?void 0:a.substring(0,40))!=null?o:"")+"",i,r,s;return{c(){t=U("text"),i=re(n),this.h()},l(u){t=Y(u,"text",{class:!0,transform:!0,"alignment-baseline":!0,"font-size":!0});var h=V(t);i=le(h,n),h.forEach(w),this.h()},h(){d(t,"class","label svelte-wgq8ik"),d(t,"transform",r=`translate(${e[16].x0+3},${e[16].y0+3})`),d(t,"alignment-baseline","hanging"),d(t,"font-size",s=Math.max((e[16].x1-e[16].x0)/15,8))},m(u,h){B(u,t,h),F(t,i)},p(u,h){var c,f,_;h&128&&n!==(n=((_=(f=(c=u[16].data)==null?void 0:c.product.name)==null?void 0:f.substring(0,40))!=null?_:"")+"")&&Be(i,n),h&128&&r!==(r=`translate(${u[16].x0+3},${u[16].y0+3})`)&&d(t,"transform",r),h&128&&s!==(s=Math.max((u[16].x1-u[16].x0)/15,8))&&d(t,"font-size",s)},d(u){u&&w(t)}}}function Ur(e){let t,n=e[8](e[0]==="export_value"?e[16].data.export_value:e[16].data.import_value)+"",i,r,s;return{c(){t=U("text"),i=re(n),this.h()},l(l){t=Y(l,"text",{class:!0,transform:!0,"alignment-baseline":!0,"font-size":!0,"font-weight":!0});var a=V(t);i=le(a,n),a.forEach(w),this.h()},h(){d(t,"class","label-num svelte-wgq8ik"),d(t,"transform",r=`translate(${e[16].x0+5},${e[16].y0+1+Math.max((e[16].x1-e[16].x0)/10,8)})`),d(t,"alignment-baseline","hanging"),d(t,"font-size",s=Math.max((e[16].x1-e[16].x0)/15,8)-1),d(t,"font-weight","300")},m(l,a){B(l,t,a),F(t,i)},p(l,a){a&129&&n!==(n=l[8](l[0]==="export_value"?l[16].data.export_value:l[16].data.import_value)+"")&&Be(i,n),a&128&&r!==(r=`translate(${l[16].x0+5},${l[16].y0+1+Math.max((l[16].x1-l[16].x0)/10,8)})`)&&d(t,"transform",r),a&128&&s!==(s=Math.max((l[16].x1-l[16].x0)/15,8)-1)&&d(t,"font-size",s)},d(l){l&&w(t)}}}function Yr(e,t){let n,i,r,s,l,a,o,u=t[16].x1-t[16].x0>40&&t[16].y1-t[16].y0>10&&jr(t),h=t[16].x1-t[16].x0>40&&t[16].y1-t[16].y0>30&&Ur(t);return{key:e,first:null,c(){n=U("rect"),u&&u.c(),a=ne(),h&&h.c(),o=ne(),this.h()},l(c){n=Y(c,"rect",{class:!0,transform:!0,width:!0,height:!0,fill:!0}),V(n).forEach(w),u&&u.l(c),a=ne(),h&&h.l(c),o=ne(),this.h()},h(){var c,f,_,v,p;d(n,"class","leaf svelte-wgq8ik"),d(n,"transform",i=`translate(${t[16].x0},${(c=t[16])==null?void 0:c.y0})`),d(n,"width",r=t[16].x1-t[16].x0),d(n,"height",s=t[16].y1-t[16].y0),d(n,"fill",l=t[4]?t[4]((p=(v=(_=(f=t[16].data)==null?void 0:f.product)==null?void 0:_.parent)==null?void 0:v.name)!=null?p:""):"white"),this.first=n},m(c,f){B(c,n,f),u&&u.m(c,f),B(c,a,f),h&&h.m(c,f),B(c,o,f)},p(c,f){var _,v,p,b,M;t=c,f&128&&i!==(i=`translate(${t[16].x0},${(_=t[16])==null?void 0:_.y0})`)&&d(n,"transform",i),f&128&&r!==(r=t[16].x1-t[16].x0)&&d(n,"width",r),f&128&&s!==(s=t[16].y1-t[16].y0)&&d(n,"height",s),f&144&&l!==(l=t[4]?t[4]((M=(b=(p=(v=t[16].data)==null?void 0:v.product)==null?void 0:p.parent)==null?void 0:b.name)!=null?M:""):"white")&&d(n,"fill",l),t[16].x1-t[16].x0>40&&t[16].y1-t[16].y0>10?u?u.p(t,f):(u=jr(t),u.c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null),t[16].x1-t[16].x0>40&&t[16].y1-t[16].y0>30?h?h.p(t,f):(h=Ur(t),h.c(),h.m(o.parentNode,o)):h&&(h.d(1),h=null)},d(c){c&&w(n),u&&u.d(c),c&&w(a),h&&h.d(c),c&&w(o)}}}function Xr(e){let t,n,i,r=e[5]?"Loading...":"No Data",s,l,a;return{c(){t=U("rect"),i=U("text"),s=re(r),this.h()},l(o){t=Y(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),V(t).forEach(w),i=Y(o,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var u=V(i);s=le(u,r),u.forEach(w),this.h()},h(){d(t,"x","0"),d(t,"y","0"),d(t,"width",e[1]),d(t,"height",e[2]),d(t,"fill",n=e[5]?"rgba(255,255,255, 0.9)":"rgba(255,255,255,1)"),d(i,"x",l=e[1]/2),d(i,"y",a=e[2]/2),d(i,"alignment-baseline","central"),d(i,"text-anchor","middle")},m(o,u){B(o,t,u),B(o,i,u),F(i,s)},p(o,u){u&2&&d(t,"width",o[1]),u&4&&d(t,"height",o[2]),u&32&&n!==(n=o[5]?"rgba(255,255,255, 0.9)":"rgba(255,255,255,1)")&&d(t,"fill",n),u&32&&r!==(r=o[5]?"Loading...":"No Data")&&Be(s,r),u&2&&l!==(l=o[1]/2)&&d(i,"x",l),u&4&&a!==(a=o[2]/2)&&d(i,"y",a)},d(o){o&&w(t),o&&w(i)}}}function ch(e){var h,c;let t,n,i,r=[],s=new fh,l,a=e[7];const o=f=>f[16].data.product_id;for(let f=0;f<a.length;f+=1){let _=Gr(e,a,f),v=o(_);s.set(v,r[f]=Yr(v,_))}let u=((c=(h=e[3])==null?void 0:h.length)!=null?c:0)===0&&Xr(e);return{c(){t=X("div"),n=U("svg"),i=U("g");for(let f=0;f<r.length;f+=1)r[f].c();u&&u.c(),this.h()},l(f){t=W(f,"DIV",{class:!0});var _=V(t);n=Y(_,"svg",{class:!0});var v=V(n);i=Y(v,"g",{class:!0});var p=V(i);for(let b=0;b<r.length;b+=1)r[b].l(p);p.forEach(w),u&&u.l(v),v.forEach(w),_.forEach(w),this.h()},h(){d(i,"class","treemap svelte-wgq8ik"),d(n,"class","svelte-wgq8ik"),d(t,"class","viz-section"),Tt(()=>e[15].call(t))},m(f,_){B(f,t,_),F(t,n),F(n,i);for(let v=0;v<r.length;v+=1)r[v].m(i,null);e[14](i),u&&u.m(n,null),l=un(t,e[15].bind(t))},p(f,[_]){var v,p;_&401&&(a=f[7],r=Et(r,_,o,1,f,a,s,i,Yt,Yr,null,Gr)),((p=(v=f[3])==null?void 0:v.length)!=null?p:0)===0?u?u.p(f,_):(u=Xr(f),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i:se,o:se,d(f){f&&w(t);for(let _=0;_<r.length;_+=1)r[_].d();e[14](null),u&&u.d(),l()}}}function hh(e,t,n){let i,r;oi(e,rn,A=>n(13,r=A));const s=A=>_t("$.2s")(A).replace(/G/,"B");let{data:l}=t,{country1:a,country2:o,valueField:u,productColorScale:h,drilldownBilateral:c,loadingDrilldown:f}=l,_,v,p,b=new Array;function M(A){Ee[A?"unshift":"push"](()=>{p=A,n(6,p)})}function N(){_=this.clientWidth,v=this.clientHeight,n(1,_),n(2,v)}return e.$$set=A=>{"data"in A&&n(9,l=A.data)},e.$$.update=()=>{var A,m,S;if(e.$$.dirty&512&&n(12,{drilldownBilateral:c,valueField:u,productColorScale:h,country1:a,country2:o,loadingDrilldown:f}=l,c,(n(0,u),n(9,l)),(n(4,h),n(9,l)),(n(10,a),n(9,l)),(n(11,o),n(9,l)),(n(5,f),n(9,l))),e.$$.dirty&14336&&n(3,i=(S=(m=c==null?void 0:c.get((A=o==null?void 0:o.id)!=null?A:0))==null?void 0:m.get(r!=null?r:0))!=null?S:null),e.$$.dirty&3087&&i&&i.length>0){let T=new mt(new Map,new Map,{location_id:a,partner_id:o,product_id:-1,year:0,export_value:0,import_value:0});T.product=new ni({product_id:-1,name:"All",level:-1,parent_id:-1}),T.product.parent_id=null;let P=[T],R=Hn(i,z=>{var D,y;return(y=(D=z.product)==null?void 0:D.parent_id)!=null?y:-1});if(R.size>1){for(let[D,y]of R){let k=new mt(new Map,new Map,{location_id:a,partner_id:o,product_id:D,year:0,export_value:0,import_value:0});k.product=new ni({product_id:D,name:"Something",level:0,parent_id:-1}),P.push(k)}P=P.concat(i);let z=ac().id(D=>{var y;return(y=D.product)==null?void 0:y.id}).parentId(D=>{var y;return(y=D.product)==null?void 0:y.parent_id})(P);z.sum(D=>Math.max(0,D[u])),fc().tile(cc).size([_,v]).padding(2)(z),n(7,b=z.leaves())}}},[u,_,v,i,h,f,p,b,s,l,a,o,c,r,M,N]}class Wr extends Fe{constructor(t){super(),Ve(this,t,hh,ch,Oe,{data:9})}}function dh(e){let t,n,i,r,s,l;return{c(){t=X("div"),n=X("h3"),i=re("Loading data..."),r=ee(),s=U("svg"),l=U("circle"),this.h()},l(a){t=W(a,"DIV",{class:!0});var o=V(t);n=W(o,"H3",{});var u=V(n);i=le(u,"Loading data..."),u.forEach(w),r=te(o),s=Y(o,"svg",{class:!0,viewBox:!0});var h=V(s);l=Y(h,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0}),V(l).forEach(w),h.forEach(w),o.forEach(w),this.h()},h(){d(l,"class","path svelte-jcbfjt"),d(l,"cx","25"),d(l,"cy","25"),d(l,"r","20"),d(l,"fill","none"),d(l,"stroke-width","5"),d(s,"class","spinner svelte-jcbfjt"),d(s,"viewBox","0 0 50 50"),d(t,"class","loading svelte-jcbfjt")},m(a,o){B(a,t,o),F(t,n),F(n,i),F(t,r),F(t,s),F(s,l)},p:se,i:se,o:se,d(a){a&&w(t)}}}function _h(e){var J,Q,ve,je;let t,n,i,r,s,l,a,o,u,h,c,f,_,v,p,b,M,N,A,m,S,T,P,R,z,D,y,k,I,O,E,C,x;return u=new Fr({props:{optionIdentifier:Kr,labelIdentifier:Zr,items:Array.from(e[0].values()),value:e[3]}}),u.$on("select",e[10]),p=new Fr({props:{optionIdentifier:Kr,labelIdentifier:Zr,items:Array.from(e[0].values()),value:e[9]}}),p.$on("select",e[11]),z=new nh({props:{data:{bilateralData:e[2],country1:(Q=(J=e[3])==null?void 0:J.id)!=null?Q:0,country2:(je=(ve=e[9])==null?void 0:ve.id)!=null?je:0,productData:e[1],locationData:e[0],countryColorScale:e[4]}}}),y=new uh({props:{data:{loadingDrilldown:e[7],productColorScale:e[5],country1:e[3],country2:e[9],bilateralDataForYear:e[8],countryColorScale:e[4]}}}),O=new Wr({props:{data:{productColorScale:e[5],country1:e[3],country2:e[9],drilldownBilateral:e[6],loadingDrilldown:e[7],valueField:"export_value"}}}),C=new Wr({props:{data:{productColorScale:e[5],country1:e[3],country2:e[9],drilldownBilateral:e[6],loadingDrilldown:e[7],valueField:"import_value"}}}),{c(){t=X("div"),n=X("div"),r=ee(),s=X("div"),l=X("span"),a=re("Country 1"),o=ee(),ae(u.$$.fragment),h=ee(),c=X("div"),f=X("span"),_=re("Country 2"),v=ee(),ae(p.$$.fragment),b=ee(),M=X("div"),A=ee(),m=X("div"),S=ee(),T=X("div"),P=X("div"),R=X("div"),ae(z.$$.fragment),D=ee(),ae(y.$$.fragment),k=ee(),I=X("div"),ae(O.$$.fragment),E=ee(),ae(C.$$.fragment),this.h()},l(H){t=W(H,"DIV",{class:!0});var Z=V(t);n=W(Z,"DIV",{class:!0,style:!0}),V(n).forEach(w),r=te(Z),s=W(Z,"DIV",{class:!0});var de=V(s);l=W(de,"SPAN",{class:!0});var ye=V(l);a=le(ye,"Country 1"),ye.forEach(w),o=te(de),be(u.$$.fragment,de),de.forEach(w),h=te(Z),c=W(Z,"DIV",{class:!0});var Ie=V(c);f=W(Ie,"SPAN",{class:!0});var Se=V(f);_=le(Se,"Country 2"),Se.forEach(w),v=te(Ie),be(p.$$.fragment,Ie),Ie.forEach(w),b=te(Z),M=W(Z,"DIV",{class:!0,style:!0}),V(M).forEach(w),Z.forEach(w),A=te(H),m=W(H,"DIV",{class:!0});var L=V(m);L.forEach(w),S=te(H),T=W(H,"DIV",{id:!0,class:!0});var j=V(T);P=W(j,"DIV",{id:!0,class:!0});var fe=V(P);R=W(fe,"DIV",{class:!0});var Ae=V(R);be(z.$$.fragment,Ae),D=te(Ae),be(y.$$.fragment,Ae),Ae.forEach(w),k=te(fe),I=W(fe,"DIV",{class:!0});var Le=V(I);be(O.$$.fragment,Le),E=te(Le),be(C.$$.fragment,Le),Le.forEach(w),fe.forEach(w),j.forEach(w),this.h()},h(){var H,Z,de,ye;d(n,"class","country-icon svelte-jcbfjt"),d(n,"style",i=`background:${e[4]((Z=(H=e[3])==null?void 0:H.id)!=null?Z:0)}`),d(l,"class","svelte-jcbfjt"),d(s,"class","dropdown svelte-jcbfjt"),d(f,"class","svelte-jcbfjt"),d(c,"class","dropdown svelte-jcbfjt"),d(M,"class","country-icon svelte-jcbfjt"),d(M,"style",N=`background:${e[4]?e[4]((ye=(de=e[9])==null?void 0:de.id)!=null?ye:0):"white"}`),d(t,"class","selectors svelte-jcbfjt"),d(m,"class","svelte-jcbfjt"),d(R,"class","viz-row svelte-jcbfjt"),d(I,"class","viz-row svelte-jcbfjt"),d(P,"id","content"),d(P,"class","svelte-jcbfjt"),d(T,"id","container"),d(T,"class","svelte-jcbfjt")},m(H,Z){B(H,t,Z),F(t,n),F(t,r),F(t,s),F(s,l),F(l,a),F(s,o),oe(u,s,null),F(t,h),F(t,c),F(c,f),F(f,_),F(c,v),oe(p,c,null),F(t,b),F(t,M),B(H,A,Z),B(H,m,Z),B(H,S,Z),B(H,T,Z),F(T,P),F(P,R),oe(z,R,null),F(R,D),oe(y,R,null),F(P,k),F(P,I),oe(O,I,null),F(I,E),oe(C,I,null),x=!0},p(H,Z){var fe,Ae,Le,tt,Xe,nt,it,gt;(!x||Z&24&&i!==(i=`background:${H[4]((Ae=(fe=H[3])==null?void 0:fe.id)!=null?Ae:0)}`))&&d(n,"style",i);const de={};Z&1&&(de.items=Array.from(H[0].values())),Z&8&&(de.value=H[3]),u.$set(de);const ye={};Z&1&&(ye.items=Array.from(H[0].values())),Z&512&&(ye.value=H[9]),p.$set(ye),(!x||Z&528&&N!==(N=`background:${H[4]?H[4]((tt=(Le=H[9])==null?void 0:Le.id)!=null?tt:0):"white"}`))&&d(M,"style",N);const Ie={};Z&543&&(Ie.data={bilateralData:H[2],country1:(nt=(Xe=H[3])==null?void 0:Xe.id)!=null?nt:0,country2:(gt=(it=H[9])==null?void 0:it.id)!=null?gt:0,productData:H[1],locationData:H[0],countryColorScale:H[4]}),z.$set(Ie);const Se={};Z&952&&(Se.data={loadingDrilldown:H[7],productColorScale:H[5],country1:H[3],country2:H[9],bilateralDataForYear:H[8],countryColorScale:H[4]}),y.$set(Se);const L={};Z&744&&(L.data={productColorScale:H[5],country1:H[3],country2:H[9],drilldownBilateral:H[6],loadingDrilldown:H[7],valueField:"export_value"}),O.$set(L);const j={};Z&744&&(j.data={productColorScale:H[5],country1:H[3],country2:H[9],drilldownBilateral:H[6],loadingDrilldown:H[7],valueField:"import_value"}),C.$set(j)},i(H){x||(G(u.$$.fragment,H),G(p.$$.fragment,H),G(z.$$.fragment,H),G(y.$$.fragment,H),G(O.$$.fragment,H),G(C.$$.fragment,H),x=!0)},o(H){K(u.$$.fragment,H),K(p.$$.fragment,H),K(z.$$.fragment,H),K(y.$$.fragment,H),K(O.$$.fragment,H),K(C.$$.fragment,H),x=!1},d(H){H&&w(t),ue(u),ue(p),H&&w(A),H&&w(m),H&&w(S),H&&w(T),ue(z),ue(y),ue(O),ue(C)}}}function mh(e){let t,n,i,r,s,l,a,o,u,h,c;const f=[_h,dh],_=[];function v(p,b){return p[0]&&p[2]&&p[1]&&p[4]?0:1}return o=v(e),u=_[o]=f[o](e),{c(){t=X("div"),n=X("h1"),i=re("Commerce Among Nations"),r=ee(),s=X("h2"),l=re("A Bilateral Trade Data Visualization by Andrew Lee & Franklin Yuan"),a=ee(),u.c(),h=ne(),this.h()},l(p){t=W(p,"DIV",{class:!0});var b=V(t);n=W(b,"H1",{class:!0});var M=V(n);i=le(M,"Commerce Among Nations"),M.forEach(w),r=te(b),s=W(b,"H2",{class:!0});var N=V(s);l=le(N,"A Bilateral Trade Data Visualization by Andrew Lee & Franklin Yuan"),N.forEach(w),b.forEach(w),a=te(p),u.l(p),h=ne(),this.h()},h(){d(n,"class","svelte-jcbfjt"),d(s,"class","svelte-jcbfjt"),d(t,"class","heading svelte-jcbfjt")},m(p,b){B(p,t,b),F(t,n),F(n,i),F(t,r),F(t,s),F(s,l),B(p,a,b),_[o].m(p,b),B(p,h,b),c=!0},p(p,[b]){let M=o;o=v(p),o===M?_[o].p(p,b):(me(),K(_[M],1,1,()=>{_[M]=null}),ge(),u=_[o],u?u.p(p,b):(u=_[o]=f[o](p),u.c()),G(u,1),u.m(h.parentNode,h))},i(p){c||(G(u),c=!0)},o(p){K(u),c=!1},d(p){p&&w(t),p&&w(a),_[o].d(p),p&&w(h)}}}const Kr="id",Zr="name",gh=231,ph=43;function vh(e,t,n){let i,r,s,l;oi(e,rn,b=>n(12,l=b));const a=b=>{let M=b.detail;n(3,i=c.get(M.id))},o=b=>{let M=b.detail;n(9,r=c.get(M.id))};let u,h,c=new Map,f=new Map,_,v,p=!1;return on(async()=>{Promise.all([Bt(`${Ot}/data/location.csv`),Bt(`${Ot}/data/hs_product.csv`),Bt(`${Ot}/data/hs_2010_to_2020.csv`)]).then(([b,M,N])=>{var A;n(0,c=Oi(b.map(m=>new Ic(m)).filter(m=>m.level=="country"),m=>m.id)),n(1,f=Oi(M.map(m=>new ni(m)),m=>m.id));for(let[m,S]of f)S.parent=(A=f.get(S.parent_id))!=null?A:null,f.set(m,S);n(2,_=Hn(N.map(m=>new mt(c,f,m)),m=>m.year,m=>m.location_id,m=>m.partner_id)),tl(N,m=>+m.export_value),n(4,u=ei(c.keys(),ur)),n(5,h=ei(Array.from(f).map(([m,S])=>S.level).filter(m=>m=="section"),ur))})}),e.$$.update=()=>{var b,M,N,A,m;e.$$.dirty&1&&n(3,i=(b=c==null?void 0:c.get(gh))!=null?b:null),e.$$.dirty&1&&n(9,r=(M=c==null?void 0:c.get(ph))!=null?M:null),e.$$.dirty&4100&&n(8,s=(N=_==null?void 0:_.get(l))!=null?N:new Map),e.$$.dirty&11&&(n(6,v=null),n(7,p=!0),Bt(`${Ot}/data/${(A=i==null?void 0:i.code)!=null?A:"USA"}/${(m=i==null?void 0:i.code)!=null?m:"USA"}_hs2_2010_to_2020.csv`).then(S=>{n(6,v=Hn(S.map(T=>new mt(c,f,T)),T=>T.partner_id,T=>T.year)),n(7,p=!1)}))},[c,f,_,i,u,h,v,p,s,r,a,o,l]}class kh extends Fe{constructor(t){super(),Ve(this,t,vh,mh,Oe,{})}}export{kh as default};
