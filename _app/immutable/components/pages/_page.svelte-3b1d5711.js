var Zs=Object.defineProperty;var Js=(e,t,n)=>t in e?Zs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ae=(e,t,n)=>(Js(e,typeof t!="symbol"?t+"":t,n),n);import{S as We,i as Xe,s as Ze,k as te,l as ne,m as P,h as A,n as _,b as q,B as ye,I as ze,J as ae,g as Ee,t as re,d as Ne,f as Q,K as rt,L as Er,o as In,M as Ll,N as Fe,e as le,O as Nr,v as De,w as we,x as Oe,y as be,z as ke,q as ge,r as pe,G as H,u as Ve,A as nn,a as he,c as de,P as j,Q as $,p as pt,R as tr,T as Yt,U as Mn,V as ut,W as xs,C as Qs,D as js,E as $s,F as eo,X as Cr,Y as jr,Z as $r,_ as Tr,$ as Dl,a0 as to,a1 as ei,a2 as no,a3 as ro,a4 as io,H as It,a5 as Lr,a6 as Pt,a7 as lo,a8 as so,a9 as oo,aa as ao,ab as uo,ac as fo,ad as co,ae as Zt}from"../../chunks/index-6e35634d.js";import{w as Rl,b as Vt}from"../../chunks/paths-ce0a285f.js";function rn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ho(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ol(e){let t,n,r;e.length!==2?(t=rn,n=(o,u)=>rn(e(o),u),r=(o,u)=>e(o)-u):(t=e===rn||e===ho?e:_o,n=e,r=e);function i(o,u,a=0,h=o.length){if(a<h){if(t(u,u)!==0)return h;do{const c=a+h>>>1;n(o[c],u)<0?a=c+1:h=c}while(a<h)}return a}function s(o,u,a=0,h=o.length){if(a<h){if(t(u,u)!==0)return h;do{const c=a+h>>>1;n(o[c],u)<=0?a=c+1:h=c}while(a<h)}return a}function l(o,u,a=0,h=o.length){const c=i(o,u,a,h-1);return c>a&&r(o[c-1],u)>-r(o[c],u)?c-1:c}return{left:i,center:l,right:s}}function _o(){return 0}function mo(e){return e===null?NaN:+e}const go=Ol(rn),po=go.right;Ol(mo).center;const vo=po;function Vl(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let s of e)(s=t(s,++i,e))!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)))}return[n,r]}class nr extends Map{constructor(t,n=bo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(ti(this,t))}has(t){return super.has(ti(this,t))}set(t,n){return super.set(yo(this,t),n)}delete(t){return super.delete(wo(this,t))}}function ti({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function yo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function wo({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function bo(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fn(e){return e}function rr(e,...t){return Dr(e,fn,fn,t)}function Fl(e,t,...n){return Dr(e,fn,t,n)}function ni(e,...t){return Dr(e,fn,ko,t)}function ko(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function Dr(e,t,n,r){return function i(s,l){if(l>=r.length)return n(s);const o=new nr,u=r[l++];let a=-1;for(const h of s){const c=u(h,++a,s),f=o.get(c);f?f.push(h):o.set(c,[h])}for(const[h,c]of o)o.set(h,i(c,l));return t(o)}(e,0)}var ir=Math.sqrt(50),lr=Math.sqrt(10),sr=Math.sqrt(2);function Ao(e,t,n){var r,i=-1,s,l,o;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(s=e,e=t,t=s),(o=Hl(e,t,n))===0||!isFinite(o))return[];if(o>0){let u=Math.round(e/o),a=Math.round(t/o);for(u*o<e&&++u,a*o>t&&--a,l=new Array(s=a-u+1);++i<s;)l[i]=(u+i)*o}else{o=-o;let u=Math.round(e*o),a=Math.round(t*o);for(u/o<e&&++u,a/o>t&&--a,l=new Array(s=a-u+1);++i<s;)l[i]=(u+i)/o}return r&&l.reverse(),l}function Hl(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=ir?10:s>=lr?5:s>=sr?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=ir?10:s>=lr?5:s>=sr?2:1)}function Io(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=ir?i*=10:s>=lr?i*=5:s>=sr&&(i*=2),t<e?-i:i}function or(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Mo(e){return e}var Un=1,zn=2,ar=3,Ft=4,ri=1e-6;function So(e){return"translate("+e+",0)"}function Eo(e){return"translate(0,"+e+")"}function No(e){return t=>+e(t)}function Co(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function To(){return!this.__axis}function Bl(e,t){var n=[],r=null,i=null,s=6,l=6,o=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,a=e===Un||e===Ft?-1:1,h=e===Ft||e===zn?"x":"y",c=e===Un||e===ar?So:Eo;function f(d){var g=r==null?t.ticks?t.ticks.apply(t,n):t.domain():r,y=i==null?t.tickFormat?t.tickFormat.apply(t,n):Mo:i,m=Math.max(s,0)+o,b=t.range(),E=+b[0]+u,w=+b[b.length-1]+u,v=(t.bandwidth?Co:No)(t.copy(),u),S=d.selection?d.selection():d,U=S.selectAll(".domain").data([null]),G=S.selectAll(".tick").data(g,t).order(),O=G.exit(),B=G.enter().append("g").attr("class","tick"),k=G.select("line"),M=G.select("text");U=U.merge(U.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),G=G.merge(B),k=k.merge(B.append("line").attr("stroke","currentColor").attr(h+"2",a*s)),M=M.merge(B.append("text").attr("fill","currentColor").attr(h,a*m).attr("dy",e===Un?"0em":e===ar?"0.71em":"0.32em")),d!==S&&(U=U.transition(d),G=G.transition(d),k=k.transition(d),M=M.transition(d),O=O.transition(d).attr("opacity",ri).attr("transform",function(T){return isFinite(T=v(T))?c(T+u):this.getAttribute("transform")}),B.attr("opacity",ri).attr("transform",function(T){var D=this.parentNode.__axis;return c((D&&isFinite(D=D(T))?D:v(T))+u)})),O.remove(),U.attr("d",e===Ft||e===zn?l?"M"+a*l+","+E+"H"+u+"V"+w+"H"+a*l:"M"+u+","+E+"V"+w:l?"M"+E+","+a*l+"V"+u+"H"+w+"V"+a*l:"M"+E+","+u+"H"+w),G.attr("opacity",1).attr("transform",function(T){return c(v(T)+u)}),k.attr(h+"2",a*s),M.attr(h,a*m).text(y),S.filter(To).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===zn?"start":e===Ft?"end":"middle"),S.each(function(){this.__axis=v})}return f.scale=function(d){return arguments.length?(t=d,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),f):n.slice()},f.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),f):r&&r.slice()},f.tickFormat=function(d){return arguments.length?(i=d,f):i},f.tickSize=function(d){return arguments.length?(s=l=+d,f):s},f.tickSizeInner=function(d){return arguments.length?(s=+d,f):s},f.tickSizeOuter=function(d){return arguments.length?(l=+d,f):l},f.tickPadding=function(d){return arguments.length?(o=+d,f):o},f.offset=function(d){return arguments.length?(u=+d,f):u},f}function Pl(e){return Bl(ar,e)}function Lo(e){return Bl(Ft,e)}var Do={value:()=>{}};function Rr(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ln(n)}function ln(e){this._=e}function Ro(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ln.prototype=Rr.prototype={constructor:ln,on:function(e,t){var n=this._,r=Ro(e+"",n),i,s=-1,l=r.length;if(arguments.length<2){for(;++s<l;)if((i=(e=r[s]).type)&&(i=Oo(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<l;)if(i=(e=r[s]).type)n[i]=ii(n[i],e.name,t);else if(t==null)for(i in n)n[i]=ii(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ln(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function Oo(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function ii(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Do,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ur="http://www.w3.org/1999/xhtml";const li={svg:"http://www.w3.org/2000/svg",xhtml:ur,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Sn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),li.hasOwnProperty(t)?{space:li[t],local:e}:e}function Vo(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ur&&t.documentElement.namespaceURI===ur?t.createElement(e):t.createElementNS(n,e)}}function Fo(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Gl(e){var t=Sn(e);return(t.local?Fo:Vo)(t)}function Ho(){}function Or(e){return e==null?Ho:function(){return this.querySelector(e)}}function Bo(e){typeof e!="function"&&(e=Or(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],l=s.length,o=r[i]=new Array(l),u,a,h=0;h<l;++h)(u=s[h])&&(a=e.call(u,u.__data__,h,s))&&("__data__"in u&&(a.__data__=u.__data__),o[h]=a);return new Ge(r,this._parents)}function Po(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Go(){return[]}function Ul(e){return e==null?Go:function(){return this.querySelectorAll(e)}}function Uo(e){return function(){return Po(e.apply(this,arguments))}}function zo(e){typeof e=="function"?e=Uo(e):e=Ul(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var l=t[s],o=l.length,u,a=0;a<o;++a)(u=l[a])&&(r.push(e.call(u,u.__data__,a,l)),i.push(u));return new Ge(r,i)}function zl(e){return function(){return this.matches(e)}}function ql(e){return function(t){return t.matches(e)}}var qo=Array.prototype.find;function Yo(e){return function(){return qo.call(this.children,e)}}function Ko(){return this.firstElementChild}function Wo(e){return this.select(e==null?Ko:Yo(typeof e=="function"?e:ql(e)))}var Xo=Array.prototype.filter;function Zo(){return Array.from(this.children)}function Jo(e){return function(){return Xo.call(this.children,e)}}function xo(e){return this.selectAll(e==null?Zo:Jo(typeof e=="function"?e:ql(e)))}function Qo(e){typeof e!="function"&&(e=zl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],l=s.length,o=r[i]=[],u,a=0;a<l;++a)(u=s[a])&&e.call(u,u.__data__,a,s)&&o.push(u);return new Ge(r,this._parents)}function Yl(e){return new Array(e.length)}function jo(){return new Ge(this._enter||this._groups.map(Yl),this._parents)}function cn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}cn.prototype={constructor:cn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function $o(e){return function(){return e}}function ea(e,t,n,r,i,s){for(var l=0,o,u=t.length,a=s.length;l<a;++l)(o=t[l])?(o.__data__=s[l],r[l]=o):n[l]=new cn(e,s[l]);for(;l<u;++l)(o=t[l])&&(i[l]=o)}function ta(e,t,n,r,i,s,l){var o,u,a=new Map,h=t.length,c=s.length,f=new Array(h),d;for(o=0;o<h;++o)(u=t[o])&&(f[o]=d=l.call(u,u.__data__,o,t)+"",a.has(d)?i[o]=u:a.set(d,u));for(o=0;o<c;++o)d=l.call(e,s[o],o,s)+"",(u=a.get(d))?(r[o]=u,u.__data__=s[o],a.delete(d)):n[o]=new cn(e,s[o]);for(o=0;o<h;++o)(u=t[o])&&a.get(f[o])===u&&(i[o]=u)}function na(e){return e.__data__}function ra(e,t){if(!arguments.length)return Array.from(this,na);var n=t?ta:ea,r=this._parents,i=this._groups;typeof e!="function"&&(e=$o(e));for(var s=i.length,l=new Array(s),o=new Array(s),u=new Array(s),a=0;a<s;++a){var h=r[a],c=i[a],f=c.length,d=ia(e.call(h,h&&h.__data__,a,r)),g=d.length,y=o[a]=new Array(g),m=l[a]=new Array(g),b=u[a]=new Array(f);n(h,c,y,m,b,d,t);for(var E=0,w=0,v,S;E<g;++E)if(v=y[E]){for(E>=w&&(w=E+1);!(S=m[w])&&++w<g;);v._next=S||null}}return l=new Ge(l,r),l._enter=o,l._exit=u,l}function ia(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function la(){return new Ge(this._exit||this._groups.map(Yl),this._parents)}function sa(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function oa(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,l=Math.min(i,s),o=new Array(i),u=0;u<l;++u)for(var a=n[u],h=r[u],c=a.length,f=o[u]=new Array(c),d,g=0;g<c;++g)(d=a[g]||h[g])&&(f[g]=d);for(;u<i;++u)o[u]=n[u];return new Ge(o,this._parents)}function aa(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],l;--i>=0;)(l=r[i])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function ua(e){e||(e=fa);function t(c,f){return c&&f?e(c.__data__,f.__data__):!c-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var l=n[s],o=l.length,u=i[s]=new Array(o),a,h=0;h<o;++h)(a=l[h])&&(u[h]=a);u.sort(t)}return new Ge(i,this._parents).order()}function fa(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ca(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ha(){return Array.from(this)}function da(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var l=r[i];if(l)return l}return null}function _a(){let e=0;for(const t of this)++e;return e}function ma(){return!this.node()}function ga(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,l=i.length,o;s<l;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this}function pa(e){return function(){this.removeAttribute(e)}}function va(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ya(e,t){return function(){this.setAttribute(e,t)}}function wa(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ba(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function ka(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Aa(e,t){var n=Sn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?va:pa:typeof t=="function"?n.local?ka:ba:n.local?wa:ya)(n,t))}function Kl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ia(e){return function(){this.style.removeProperty(e)}}function Ma(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Sa(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ea(e,t,n){return arguments.length>1?this.each((t==null?Ia:typeof t=="function"?Sa:Ma)(e,t,n==null?"":n)):Mt(this.node(),e)}function Mt(e,t){return e.style.getPropertyValue(t)||Kl(e).getComputedStyle(e,null).getPropertyValue(t)}function Na(e){return function(){delete this[e]}}function Ca(e,t){return function(){this[e]=t}}function Ta(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function La(e,t){return arguments.length>1?this.each((t==null?Na:typeof t=="function"?Ta:Ca)(e,t)):this.node()[e]}function Wl(e){return e.trim().split(/^|\s+/)}function Vr(e){return e.classList||new Xl(e)}function Xl(e){this._node=e,this._names=Wl(e.getAttribute("class")||"")}Xl.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Zl(e,t){for(var n=Vr(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Jl(e,t){for(var n=Vr(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Da(e){return function(){Zl(this,e)}}function Ra(e){return function(){Jl(this,e)}}function Oa(e,t){return function(){(t.apply(this,arguments)?Zl:Jl)(this,e)}}function Va(e,t){var n=Wl(e+"");if(arguments.length<2){for(var r=Vr(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Oa:t?Da:Ra)(n,t))}function Fa(){this.textContent=""}function Ha(e){return function(){this.textContent=e}}function Ba(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Pa(e){return arguments.length?this.each(e==null?Fa:(typeof e=="function"?Ba:Ha)(e)):this.node().textContent}function Ga(){this.innerHTML=""}function Ua(e){return function(){this.innerHTML=e}}function za(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function qa(e){return arguments.length?this.each(e==null?Ga:(typeof e=="function"?za:Ua)(e)):this.node().innerHTML}function Ya(){this.nextSibling&&this.parentNode.appendChild(this)}function Ka(){return this.each(Ya)}function Wa(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Xa(){return this.each(Wa)}function Za(e){var t=typeof e=="function"?e:Gl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ja(){return null}function xa(e,t){var n=typeof e=="function"?e:Gl(e),r=t==null?Ja:typeof t=="function"?t:Or(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Qa(){var e=this.parentNode;e&&e.removeChild(this)}function ja(){return this.each(Qa)}function $a(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function eu(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tu(e){return this.select(e?eu:$a)}function nu(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ru(e){return function(t){e.call(this,t,this.__data__)}}function iu(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function lu(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function su(e,t,n){return function(){var r=this.__on,i,s=ru(t);if(r){for(var l=0,o=r.length;l<o;++l)if((i=r[l]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function ou(e,t,n){var r=iu(e+""),i,s=r.length,l;if(arguments.length<2){var o=this.node().__on;if(o){for(var u=0,a=o.length,h;u<a;++u)for(i=0,h=o[u];i<s;++i)if((l=r[i]).type===h.type&&l.name===h.name)return h.value}return}for(o=t?su:lu,i=0;i<s;++i)this.each(o(r[i],t,n));return this}function xl(e,t,n){var r=Kl(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function au(e,t){return function(){return xl(this,e,t)}}function uu(e,t){return function(){return xl(this,e,t.apply(this,arguments))}}function fu(e,t){return this.each((typeof t=="function"?uu:au)(e,t))}function*cu(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,l;i<s;++i)(l=r[i])&&(yield l)}var Ql=[null];function Ge(e,t){this._groups=e,this._parents=t}function Kt(){return new Ge([[document.documentElement]],Ql)}function hu(){return this}Ge.prototype=Kt.prototype={constructor:Ge,select:Bo,selectAll:zo,selectChild:Wo,selectChildren:xo,filter:Qo,data:ra,enter:jo,exit:la,join:sa,merge:oa,selection:hu,order:aa,sort:ua,call:ca,nodes:ha,node:da,size:_a,empty:ma,each:ga,attr:Aa,style:Ea,property:La,classed:Va,text:Pa,html:qa,raise:Ka,lower:Xa,append:Za,insert:xa,remove:ja,clone:tu,datum:nu,on:ou,dispatch:fu,[Symbol.iterator]:cu};function Pe(e){return typeof e=="string"?new Ge([[document.querySelector(e)]],[document.documentElement]):new Ge([[e]],Ql)}function du(e){let t;for(;t=e.sourceEvent;)e=t;return e}function si(e,t){if(e=du(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const fr={capture:!0,passive:!1};function cr(e){e.preventDefault(),e.stopImmediatePropagation()}function _u(e){var t=e.document.documentElement,n=Pe(e).on("dragstart.drag",cr,fr);"onselectstart"in t?n.on("selectstart.drag",cr,fr):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function mu(e,t){var n=e.document.documentElement,r=Pe(e).on("dragstart.drag",null);t&&(r.on("click.drag",cr,fr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Fr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function jl(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Wt(){}var Gt=.7,hn=1/Gt,At="\\s*([+-]?\\d+)\\s*",Ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gu=/^#([0-9a-f]{3,8})$/,pu=new RegExp(`^rgb\\(${At},${At},${At}\\)$`),vu=new RegExp(`^rgb\\(${Qe},${Qe},${Qe}\\)$`),yu=new RegExp(`^rgba\\(${At},${At},${At},${Ut}\\)$`),wu=new RegExp(`^rgba\\(${Qe},${Qe},${Qe},${Ut}\\)$`),bu=new RegExp(`^hsl\\(${Ut},${Qe},${Qe}\\)$`),ku=new RegExp(`^hsla\\(${Ut},${Qe},${Qe},${Ut}\\)$`),oi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fr(Wt,ht,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ai,formatHex:ai,formatHex8:Au,formatHsl:Iu,formatRgb:ui,toString:ui});function ai(){return this.rgb().formatHex()}function Au(){return this.rgb().formatHex8()}function Iu(){return $l(this).formatHsl()}function ui(){return this.rgb().formatRgb()}function ht(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=gu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?fi(t):n===3?new Be(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Jt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Jt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pu.exec(e))?new Be(t[1],t[2],t[3],1):(t=vu.exec(e))?new Be(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=yu.exec(e))?Jt(t[1],t[2],t[3],t[4]):(t=wu.exec(e))?Jt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bu.exec(e))?di(t[1],t[2]/100,t[3]/100,1):(t=ku.exec(e))?di(t[1],t[2]/100,t[3]/100,t[4]):oi.hasOwnProperty(e)?fi(oi[e]):e==="transparent"?new Be(NaN,NaN,NaN,0):null}function fi(e){return new Be(e>>16&255,e>>8&255,e&255,1)}function Jt(e,t,n,r){return r<=0&&(e=t=n=NaN),new Be(e,t,n,r)}function Mu(e){return e instanceof Wt||(e=ht(e)),e?(e=e.rgb(),new Be(e.r,e.g,e.b,e.opacity)):new Be}function hr(e,t,n,r){return arguments.length===1?Mu(e):new Be(e,t,n,r==null?1:r)}function Be(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Fr(Be,hr,jl(Wt,{brighter(e){return e=e==null?hn:Math.pow(hn,e),new Be(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gt:Math.pow(Gt,e),new Be(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Be(ft(this.r),ft(this.g),ft(this.b),dn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ci,formatHex:ci,formatHex8:Su,formatRgb:hi,toString:hi}));function ci(){return`#${at(this.r)}${at(this.g)}${at(this.b)}`}function Su(){return`#${at(this.r)}${at(this.g)}${at(this.b)}${at((isNaN(this.opacity)?1:this.opacity)*255)}`}function hi(){const e=dn(this.opacity);return`${e===1?"rgb(":"rgba("}${ft(this.r)}, ${ft(this.g)}, ${ft(this.b)}${e===1?")":`, ${e})`}`}function dn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ft(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function at(e){return e=ft(e),(e<16?"0":"")+e.toString(16)}function di(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ke(e,t,n,r)}function $l(e){if(e instanceof Ke)return new Ke(e.h,e.s,e.l,e.opacity);if(e instanceof Wt||(e=ht(e)),!e)return new Ke;if(e instanceof Ke)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),l=NaN,o=s-i,u=(s+i)/2;return o?(t===s?l=(n-r)/o+(n<r)*6:n===s?l=(r-t)/o+2:l=(t-n)/o+4,o/=u<.5?s+i:2-s-i,l*=60):o=u>0&&u<1?0:l,new Ke(l,o,u,e.opacity)}function Eu(e,t,n,r){return arguments.length===1?$l(e):new Ke(e,t,n,r==null?1:r)}function Ke(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Fr(Ke,Eu,jl(Wt,{brighter(e){return e=e==null?hn:Math.pow(hn,e),new Ke(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gt:Math.pow(Gt,e),new Ke(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Be(qn(e>=240?e-240:e+120,i,r),qn(e,i,r),qn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ke(_i(this.h),xt(this.s),xt(this.l),dn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dn(this.opacity);return`${e===1?"hsl(":"hsla("}${_i(this.h)}, ${xt(this.s)*100}%, ${xt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function _i(e){return e=(e||0)%360,e<0?e+360:e}function xt(e){return Math.max(0,Math.min(1,e||0))}function qn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Hr=e=>()=>e;function Nu(e,t){return function(n){return e+n*t}}function Cu(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Tu(e){return(e=+e)==1?es:function(t,n){return n-t?Cu(t,n,e):Hr(isNaN(t)?n:t)}}function es(e,t){var n=t-e;return n?Nu(e,n):Hr(isNaN(e)?t:e)}const _n=function e(t){var n=Tu(t);function r(i,s){var l=n((i=hr(i)).r,(s=hr(s)).r),o=n(i.g,s.g),u=n(i.b,s.b),a=es(i.opacity,s.opacity);return function(h){return i.r=l(h),i.g=o(h),i.b=u(h),i.opacity=a(h),i+""}}return r.gamma=e,r}(1);function Lu(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function Du(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ru(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=En(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(o){for(l=0;l<r;++l)s[l]=i[l](o);return s}}function Ou(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ye(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Vu(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=En(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var dr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yn=new RegExp(dr.source,"g");function Fu(e){return function(){return e}}function Hu(e){return function(t){return e(t)+""}}function ts(e,t){var n=dr.lastIndex=Yn.lastIndex=0,r,i,s,l=-1,o=[],u=[];for(e=e+"",t=t+"";(r=dr.exec(e))&&(i=Yn.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),o[l]?o[l]+=s:o[++l]=s),(r=r[0])===(i=i[0])?o[l]?o[l]+=i:o[++l]=i:(o[++l]=null,u.push({i:l,x:Ye(r,i)})),n=Yn.lastIndex;return n<t.length&&(s=t.slice(n),o[l]?o[l]+=s:o[++l]=s),o.length<2?u[0]?Hu(u[0].x):Fu(t):(t=u.length,function(a){for(var h=0,c;h<t;++h)o[(c=u[h]).i]=c.x(a);return o.join("")})}function En(e,t){var n=typeof t,r;return t==null||n==="boolean"?Hr(t):(n==="number"?Ye:n==="string"?(r=ht(t))?(t=r,_n):ts:t instanceof ht?_n:t instanceof Date?Ou:Du(t)?Lu:Array.isArray(t)?Ru:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Vu:Ye)(e,t)}function Bu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var mi=180/Math.PI,_r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ns(e,t,n,r,i,s){var l,o,u;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,u/=o),e*r<t*n&&(e=-e,t=-t,u=-u,l=-l),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*mi,skewX:Math.atan(u)*mi,scaleX:l,scaleY:o}}var Qt;function Pu(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_r:ns(t.a,t.b,t.c,t.d,t.e,t.f)}function Gu(e){return e==null||(Qt||(Qt=document.createElementNS("http://www.w3.org/2000/svg","g")),Qt.setAttribute("transform",e),!(e=Qt.transform.baseVal.consolidate()))?_r:(e=e.matrix,ns(e.a,e.b,e.c,e.d,e.e,e.f))}function rs(e,t,n,r){function i(a){return a.length?a.pop()+" ":""}function s(a,h,c,f,d,g){if(a!==c||h!==f){var y=d.push("translate(",null,t,null,n);g.push({i:y-4,x:Ye(a,c)},{i:y-2,x:Ye(h,f)})}else(c||f)&&d.push("translate("+c+t+f+n)}function l(a,h,c,f){a!==h?(a-h>180?h+=360:h-a>180&&(a+=360),f.push({i:c.push(i(c)+"rotate(",null,r)-2,x:Ye(a,h)})):h&&c.push(i(c)+"rotate("+h+r)}function o(a,h,c,f){a!==h?f.push({i:c.push(i(c)+"skewX(",null,r)-2,x:Ye(a,h)}):h&&c.push(i(c)+"skewX("+h+r)}function u(a,h,c,f,d,g){if(a!==c||h!==f){var y=d.push(i(d)+"scale(",null,",",null,")");g.push({i:y-4,x:Ye(a,c)},{i:y-2,x:Ye(h,f)})}else(c!==1||f!==1)&&d.push(i(d)+"scale("+c+","+f+")")}return function(a,h){var c=[],f=[];return a=e(a),h=e(h),s(a.translateX,a.translateY,h.translateX,h.translateY,c,f),l(a.rotate,h.rotate,c,f),o(a.skewX,h.skewX,c,f),u(a.scaleX,a.scaleY,h.scaleX,h.scaleY,c,f),a=h=null,function(d){for(var g=-1,y=f.length,m;++g<y;)c[(m=f[g]).i]=m.x(d);return c.join("")}}}var Uu=rs(Pu,"px, ","px)","deg)"),zu=rs(Gu,", ",")",")"),St=0,Ht=0,Tt=0,is=1e3,mn,Bt,gn=0,dt=0,Nn=0,zt=typeof performance=="object"&&performance.now?performance:Date,ls=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Br(){return dt||(ls(qu),dt=zt.now()+Nn)}function qu(){dt=0}function pn(){this._call=this._time=this._next=null}pn.prototype=ss.prototype={constructor:pn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Br():+n)+(t==null?0:+t),!this._next&&Bt!==this&&(Bt?Bt._next=this:mn=this,Bt=this),this._call=e,this._time=n,mr()},stop:function(){this._call&&(this._call=null,this._time=1/0,mr())}};function ss(e,t,n){var r=new pn;return r.restart(e,t,n),r}function Yu(){Br(),++St;for(var e=mn,t;e;)(t=dt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--St}function gi(){dt=(gn=zt.now())+Nn,St=Ht=0;try{Yu()}finally{St=0,Wu(),dt=0}}function Ku(){var e=zt.now(),t=e-gn;t>is&&(Nn-=t,gn=e)}function Wu(){for(var e,t=mn,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:mn=n);Bt=e,mr(r)}function mr(e){if(!St){Ht&&(Ht=clearTimeout(Ht));var t=e-dt;t>24?(e<1/0&&(Ht=setTimeout(gi,e-zt.now()-Nn)),Tt&&(Tt=clearInterval(Tt))):(Tt||(gn=zt.now(),Tt=setInterval(Ku,is)),St=1,ls(gi))}}function pi(e,t,n){var r=new pn;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Xu=Rr("start","end","cancel","interrupt"),Zu=[],os=0,vi=1,gr=2,sn=3,yi=4,pr=5,on=6;function Cn(e,t,n,r,i,s){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;Ju(e,n,{name:t,index:r,group:i,on:Xu,tween:Zu,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:os})}function Pr(e,t){var n=Je(e,t);if(n.state>os)throw new Error("too late; already scheduled");return n}function je(e,t){var n=Je(e,t);if(n.state>sn)throw new Error("too late; already running");return n}function Je(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ju(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=ss(s,0,n.time);function s(a){n.state=vi,n.timer.restart(l,n.delay,n.time),n.delay<=a&&l(a-n.delay)}function l(a){var h,c,f,d;if(n.state!==vi)return u();for(h in r)if(d=r[h],d.name===n.name){if(d.state===sn)return pi(l);d.state===yi?(d.state=on,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[h]):+h<t&&(d.state=on,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[h])}if(pi(function(){n.state===sn&&(n.state=yi,n.timer.restart(o,n.delay,n.time),o(a))}),n.state=gr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===gr){for(n.state=sn,i=new Array(f=n.tween.length),h=0,c=-1;h<f;++h)(d=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(i[++c]=d);i.length=c+1}}function o(a){for(var h=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=pr,1),c=-1,f=i.length;++c<f;)i[c].call(e,h);n.state===pr&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=on,n.timer.stop(),delete r[t];for(var a in r)return;delete e.__transition}}function vr(e,t){var n=e.__transition,r,i,s=!0,l;if(!!n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){s=!1;continue}i=r.state>gr&&r.state<pr,r.state=on,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}s&&delete e.__transition}}function xu(e){return this.each(function(){vr(this,e)})}function Qu(e,t){var n,r;return function(){var i=je(this,e),s=i.tween;if(s!==n){r=n=s;for(var l=0,o=r.length;l<o;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function ju(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=je(this,e),l=s.tween;if(l!==r){i=(r=l).slice();for(var o={name:t,value:n},u=0,a=i.length;u<a;++u)if(i[u].name===t){i[u]=o;break}u===a&&i.push(o)}s.tween=i}}function $u(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Je(this.node(),n).tween,i=0,s=r.length,l;i<s;++i)if((l=r[i]).name===e)return l.value;return null}return this.each((t==null?Qu:ju)(n,e,t))}function Gr(e,t,n){var r=e._id;return e.each(function(){var i=je(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Je(i,r).value[t]}}function as(e,t){var n;return(typeof t=="number"?Ye:t instanceof ht?_n:(n=ht(t))?(t=n,_n):ts)(e,t)}function ef(e){return function(){this.removeAttribute(e)}}function tf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nf(e,t,n){var r,i=n+"",s;return function(){var l=this.getAttribute(e);return l===i?null:l===r?s:s=t(r=l,n)}}function rf(e,t,n){var r,i=n+"",s;return function(){var l=this.getAttributeNS(e.space,e.local);return l===i?null:l===r?s:s=t(r=l,n)}}function lf(e,t,n){var r,i,s;return function(){var l,o=n(this),u;return o==null?void this.removeAttribute(e):(l=this.getAttribute(e),u=o+"",l===u?null:l===r&&u===i?s:(i=u,s=t(r=l,o)))}}function sf(e,t,n){var r,i,s;return function(){var l,o=n(this),u;return o==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),u=o+"",l===u?null:l===r&&u===i?s:(i=u,s=t(r=l,o)))}}function of(e,t){var n=Sn(e),r=n==="transform"?zu:as;return this.attrTween(e,typeof t=="function"?(n.local?sf:lf)(n,r,Gr(this,"attr."+e,t)):t==null?(n.local?tf:ef)(n):(n.local?rf:nf)(n,r,t))}function af(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function uf(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ff(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&uf(e,s)),n}return i._value=t,i}function cf(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&af(e,s)),n}return i._value=t,i}function hf(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Sn(e);return this.tween(n,(r.local?ff:cf)(r,t))}function df(e,t){return function(){Pr(this,e).delay=+t.apply(this,arguments)}}function _f(e,t){return t=+t,function(){Pr(this,e).delay=t}}function mf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?df:_f)(t,e)):Je(this.node(),t).delay}function gf(e,t){return function(){je(this,e).duration=+t.apply(this,arguments)}}function pf(e,t){return t=+t,function(){je(this,e).duration=t}}function vf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gf:pf)(t,e)):Je(this.node(),t).duration}function yf(e,t){if(typeof t!="function")throw new Error;return function(){je(this,e).ease=t}}function wf(e){var t=this._id;return arguments.length?this.each(yf(t,e)):Je(this.node(),t).ease}function bf(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;je(this,e).ease=n}}function kf(e){if(typeof e!="function")throw new Error;return this.each(bf(this._id,e))}function Af(e){typeof e!="function"&&(e=zl(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],l=s.length,o=r[i]=[],u,a=0;a<l;++a)(u=s[a])&&e.call(u,u.__data__,a,s)&&o.push(u);return new nt(r,this._parents,this._name,this._id)}function If(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),l=new Array(r),o=0;o<s;++o)for(var u=t[o],a=n[o],h=u.length,c=l[o]=new Array(h),f,d=0;d<h;++d)(f=u[d]||a[d])&&(c[d]=f);for(;o<r;++o)l[o]=t[o];return new nt(l,this._parents,this._name,this._id)}function Mf(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Sf(e,t,n){var r,i,s=Mf(t)?Pr:je;return function(){var l=s(this,e),o=l.on;o!==r&&(i=(r=o).copy()).on(t,n),l.on=i}}function Ef(e,t){var n=this._id;return arguments.length<2?Je(this.node(),n).on.on(e):this.each(Sf(n,e,t))}function Nf(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Cf(){return this.on("end.remove",Nf(this._id))}function Tf(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Or(e));for(var r=this._groups,i=r.length,s=new Array(i),l=0;l<i;++l)for(var o=r[l],u=o.length,a=s[l]=new Array(u),h,c,f=0;f<u;++f)(h=o[f])&&(c=e.call(h,h.__data__,f,o))&&("__data__"in h&&(c.__data__=h.__data__),a[f]=c,Cn(a[f],t,n,f,a,Je(h,n)));return new nt(s,this._parents,t,n)}function Lf(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ul(e));for(var r=this._groups,i=r.length,s=[],l=[],o=0;o<i;++o)for(var u=r[o],a=u.length,h,c=0;c<a;++c)if(h=u[c]){for(var f=e.call(h,h.__data__,c,u),d,g=Je(h,n),y=0,m=f.length;y<m;++y)(d=f[y])&&Cn(d,t,n,y,f,g);s.push(f),l.push(h)}return new nt(s,l,t,n)}var Df=Kt.prototype.constructor;function Rf(){return new Df(this._groups,this._parents)}function Of(e,t){var n,r,i;return function(){var s=Mt(this,e),l=(this.style.removeProperty(e),Mt(this,e));return s===l?null:s===n&&l===r?i:i=t(n=s,r=l)}}function us(e){return function(){this.style.removeProperty(e)}}function Vf(e,t,n){var r,i=n+"",s;return function(){var l=Mt(this,e);return l===i?null:l===r?s:s=t(r=l,n)}}function Ff(e,t,n){var r,i,s;return function(){var l=Mt(this,e),o=n(this),u=o+"";return o==null&&(u=o=(this.style.removeProperty(e),Mt(this,e))),l===u?null:l===r&&u===i?s:(i=u,s=t(r=l,o))}}function Hf(e,t){var n,r,i,s="style."+t,l="end."+s,o;return function(){var u=je(this,e),a=u.on,h=u.value[s]==null?o||(o=us(t)):void 0;(a!==n||i!==h)&&(r=(n=a).copy()).on(l,i=h),u.on=r}}function Bf(e,t,n){var r=(e+="")=="transform"?Uu:as;return t==null?this.styleTween(e,Of(e,r)).on("end.style."+e,us(e)):typeof t=="function"?this.styleTween(e,Ff(e,r,Gr(this,"style."+e,t))).each(Hf(this._id,e)):this.styleTween(e,Vf(e,r,t),n).on("end.style."+e,null)}function Pf(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Gf(e,t,n){var r,i;function s(){var l=t.apply(this,arguments);return l!==i&&(r=(i=l)&&Pf(e,l,n)),r}return s._value=t,s}function Uf(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Gf(e,t,n==null?"":n))}function zf(e){return function(){this.textContent=e}}function qf(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Yf(e){return this.tween("text",typeof e=="function"?qf(Gr(this,"text",e)):zf(e==null?"":e+""))}function Kf(e){return function(t){this.textContent=e.call(this,t)}}function Wf(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Kf(i)),t}return r._value=e,r}function Xf(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Wf(e))}function Zf(){for(var e=this._name,t=this._id,n=fs(),r=this._groups,i=r.length,s=0;s<i;++s)for(var l=r[s],o=l.length,u,a=0;a<o;++a)if(u=l[a]){var h=Je(u,t);Cn(u,e,n,a,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new nt(r,this._parents,e,n)}function Jf(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,l){var o={value:l},u={value:function(){--i===0&&s()}};n.each(function(){var a=je(this,r),h=a.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(u)),a.on=t}),i===0&&s()})}var xf=0;function nt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function fs(){return++xf}var et=Kt.prototype;nt.prototype={constructor:nt,select:Tf,selectAll:Lf,selectChild:et.selectChild,selectChildren:et.selectChildren,filter:Af,merge:If,selection:Rf,transition:Zf,call:et.call,nodes:et.nodes,node:et.node,size:et.size,empty:et.empty,each:et.each,on:Ef,attr:of,attrTween:hf,style:Bf,styleTween:Uf,text:Yf,textTween:Xf,remove:Cf,tween:$u,delay:mf,duration:vf,ease:wf,easeVarying:kf,end:Jf,[Symbol.iterator]:et[Symbol.iterator]};function Qf(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var jf={time:null,delay:0,duration:250,ease:Qf};function $f(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ec(e){var t,n;e instanceof nt?(t=e._id,e=e._name):(t=fs(),(n=jf).time=Br(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var l=r[s],o=l.length,u,a=0;a<o;++a)(u=l[a])&&Cn(u,e,t,a,l,n||$f(u,t));return new nt(r,this._parents,e,t)}Kt.prototype.interrupt=xu;Kt.prototype.transition=ec;const Kn=e=>()=>e;function tc(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function nc(e){e.stopImmediatePropagation()}function Wn(e){e.preventDefault(),e.stopImmediatePropagation()}var wi={name:"drag"},Xn={name:"space"},vt={name:"handle"},yt={name:"center"};const{abs:bi,max:Te,min:Le}=Math;function ki(e){return[+e[0],+e[1]]}function Ai(e){return[ki(e[0]),ki(e[1])]}var an={name:"x",handles:["w","e"].map(vn),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Zn={name:"y",handles:["n","s"].map(vn),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},tt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ii={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Mi={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},rc={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},ic={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function vn(e){return{type:e}}function lc(e){return!e.ctrlKey&&!e.button}function sc(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function oc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Jn(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function ac(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function uc(){return fc(an)}function fc(e){var t=sc,n=lc,r=oc,i=!0,s=Rr("start","brush","end"),l=6,o;function u(m){var b=m.property("__brush",y).selectAll(".overlay").data([vn("overlay")]);b.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",tt.overlay).merge(b).each(function(){var w=Jn(this).extent;Pe(this).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1])}),m.selectAll(".selection").data([vn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",tt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var E=m.selectAll(".handle").data(e.handles,function(w){return w.type});E.exit().remove(),E.enter().append("rect").attr("class",function(w){return"handle handle--"+w.type}).attr("cursor",function(w){return tt[w.type]}),m.each(a).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(r).on("touchstart.brush",f).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(m,b,E){m.tween?m.on("start.brush",function(w){h(this,arguments).beforestart().start(w)}).on("interrupt.brush end.brush",function(w){h(this,arguments).end(w)}).tween("brush",function(){var w=this,v=w.__brush,S=h(w,arguments),U=v.selection,G=e.input(typeof b=="function"?b.apply(this,arguments):b,v.extent),O=En(U,G);function B(k){v.selection=k===1&&G===null?null:O(k),a.call(w),S.brush()}return U!==null&&G!==null?B:B(1)}):m.each(function(){var w=this,v=arguments,S=w.__brush,U=e.input(typeof b=="function"?b.apply(w,v):b,S.extent),G=h(w,v).beforestart();vr(w),S.selection=U===null?null:U,a.call(w),G.start(E).brush(E).end(E)})},u.clear=function(m,b){u.move(m,null,b)};function a(){var m=Pe(this),b=Jn(this).selection;b?(m.selectAll(".selection").style("display",null).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1]),m.selectAll(".handle").style("display",null).attr("x",function(E){return E.type[E.type.length-1]==="e"?b[1][0]-l/2:b[0][0]-l/2}).attr("y",function(E){return E.type[0]==="s"?b[1][1]-l/2:b[0][1]-l/2}).attr("width",function(E){return E.type==="n"||E.type==="s"?b[1][0]-b[0][0]+l:l}).attr("height",function(E){return E.type==="e"||E.type==="w"?b[1][1]-b[0][1]+l:l})):m.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function h(m,b,E){var w=m.__brush.emitter;return w&&(!E||!w.clean)?w:new c(m,b,E)}function c(m,b,E){this.that=m,this.args=b,this.state=m.__brush,this.active=0,this.clean=E}c.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(m,b){return this.starting?(this.starting=!1,this.emit("start",m,b)):this.emit("brush",m),this},brush:function(m,b){return this.emit("brush",m,b),this},end:function(m,b){return--this.active===0&&(delete this.state.emitter,this.emit("end",m,b)),this},emit:function(m,b,E){var w=Pe(this.that).datum();s.call(m,this.that,new tc(m,{sourceEvent:b,target:u,selection:e.output(this.state.selection),mode:E,dispatch:s}),w)}};function f(m){if(o&&!m.touches||!n.apply(this,arguments))return;var b=this,E=m.target.__data__.type,w=(i&&m.metaKey?E="overlay":E)==="selection"?wi:i&&m.altKey?yt:vt,v=e===Zn?null:rc[E],S=e===an?null:ic[E],U=Jn(b),G=U.extent,O=U.selection,B=G[0][0],k,M,T=G[0][1],D,V,I=G[1][0],N,W,ee=G[1][1],L,z,Z=0,C=0,K,ue=v&&S&&i&&m.shiftKey,_e,ce,oe=Array.from(m.touches||[m],X=>{const se=X.identifier;return X=si(X,b),X.point0=X.slice(),X.identifier=se,X});vr(b);var R=h(b,arguments,!0).beforestart();if(E==="overlay"){O&&(K=!0);const X=[oe[0],oe[1]||oe[0]];U.selection=O=[[k=e===Zn?B:Le(X[0][0],X[1][0]),D=e===an?T:Le(X[0][1],X[1][1])],[N=e===Zn?I:Te(X[0][0],X[1][0]),L=e===an?ee:Te(X[0][1],X[1][1])]],oe.length>1&&Y(m)}else k=O[0][0],D=O[0][1],N=O[1][0],L=O[1][1];M=k,V=D,W=N,z=L;var J=Pe(b).attr("pointer-events","none"),fe=J.selectAll(".overlay").attr("cursor",tt[E]);if(m.touches)R.moved=F,R.ended=ie;else{var Ie=Pe(m.view).on("mousemove.brush",F,!0).on("mouseup.brush",ie,!0);i&&Ie.on("keydown.brush",Me,!0).on("keyup.brush",Ce,!0),_u(m.view)}a.call(b),R.start(m,w.name);function F(X){for(const se of X.changedTouches||[X])for(const qe of oe)qe.identifier===se.identifier&&(qe.cur=si(se,b));if(ue&&!_e&&!ce&&oe.length===1){const se=oe[0];bi(se.cur[0]-se[0])>bi(se.cur[1]-se[1])?ce=!0:_e=!0}for(const se of oe)se.cur&&(se[0]=se.cur[0],se[1]=se.cur[1]);K=!0,Wn(X),Y(X)}function Y(X){const se=oe[0],qe=se.point0;var Se;switch(Z=se[0]-qe[0],C=se[1]-qe[1],w){case Xn:case wi:{v&&(Z=Te(B-k,Le(I-N,Z)),M=k+Z,W=N+Z),S&&(C=Te(T-D,Le(ee-L,C)),V=D+C,z=L+C);break}case vt:{oe[1]?(v&&(M=Te(B,Le(I,oe[0][0])),W=Te(B,Le(I,oe[1][0])),v=1),S&&(V=Te(T,Le(ee,oe[0][1])),z=Te(T,Le(ee,oe[1][1])),S=1)):(v<0?(Z=Te(B-k,Le(I-k,Z)),M=k+Z,W=N):v>0&&(Z=Te(B-N,Le(I-N,Z)),M=k,W=N+Z),S<0?(C=Te(T-D,Le(ee-D,C)),V=D+C,z=L):S>0&&(C=Te(T-L,Le(ee-L,C)),V=D,z=L+C));break}case yt:{v&&(M=Te(B,Le(I,k-Z*v)),W=Te(B,Le(I,N+Z*v))),S&&(V=Te(T,Le(ee,D-C*S)),z=Te(T,Le(ee,L+C*S)));break}}W<M&&(v*=-1,Se=k,k=N,N=Se,Se=M,M=W,W=Se,E in Ii&&fe.attr("cursor",tt[E=Ii[E]])),z<V&&(S*=-1,Se=D,D=L,L=Se,Se=V,V=z,z=Se,E in Mi&&fe.attr("cursor",tt[E=Mi[E]])),U.selection&&(O=U.selection),_e&&(M=O[0][0],W=O[1][0]),ce&&(V=O[0][1],z=O[1][1]),(O[0][0]!==M||O[0][1]!==V||O[1][0]!==W||O[1][1]!==z)&&(U.selection=[[M,V],[W,z]],a.call(b),R.brush(X,w.name))}function ie(X){if(nc(X),X.touches){if(X.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else mu(X.view,K),Ie.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);J.attr("pointer-events","all"),fe.attr("cursor",tt.overlay),U.selection&&(O=U.selection),ac(O)&&(U.selection=null,a.call(b)),R.end(X,w.name)}function Me(X){switch(X.keyCode){case 16:{ue=v&&S;break}case 18:{w===vt&&(v&&(N=W-Z*v,k=M+Z*v),S&&(L=z-C*S,D=V+C*S),w=yt,Y(X));break}case 32:{(w===vt||w===yt)&&(v<0?N=W-Z:v>0&&(k=M-Z),S<0?L=z-C:S>0&&(D=V-C),w=Xn,fe.attr("cursor",tt.selection),Y(X));break}default:return}Wn(X)}function Ce(X){switch(X.keyCode){case 16:{ue&&(_e=ce=ue=!1,Y(X));break}case 18:{w===yt&&(v<0?N=W:v>0&&(k=M),S<0?L=z:S>0&&(D=V),w=vt,Y(X));break}case 32:{w===Xn&&(X.altKey?(v&&(N=W-Z*v,k=M+Z*v),S&&(L=z-C*S,D=V+C*S),w=yt):(v<0?N=W:v>0&&(k=M),S<0?L=z:S>0&&(D=V),w=vt),fe.attr("cursor",tt[E]),Y(X));break}default:return}Wn(X)}}function d(m){h(this,arguments).moved(m)}function g(m){h(this,arguments).ended(m)}function y(){var m=this.__brush||{selection:null};return m.extent=Ai(t.apply(this,arguments)),m.dim=e,m}return u.extent=function(m){return arguments.length?(t=typeof m=="function"?m:Kn(Ai(m)),u):t},u.filter=function(m){return arguments.length?(n=typeof m=="function"?m:Kn(!!m),u):n},u.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:Kn(!!m),u):r},u.handleSize=function(m){return arguments.length?(l=+m,u):l},u.keyModifiers=function(m){return arguments.length?(i=!!m,u):i},u.on=function(){var m=s.on.apply(s,arguments);return m===s?u:m},u}const yr=Math.PI,wr=2*yr,ot=1e-6,cc=wr-ot;function br(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function kr(){return new br}br.prototype=kr.prototype={constructor:br,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,s){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var s=this._x1,l=this._y1,o=n-e,u=r-t,a=s-e,h=l-t,c=a*a+h*h;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(c>ot)if(!(Math.abs(h*o-u*a)>ot)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=n-s,d=r-l,g=o*o+u*u,y=f*f+d*d,m=Math.sqrt(g),b=Math.sqrt(c),E=i*Math.tan((yr-Math.acos((g+c-y)/(2*m*b)))/2),w=E/b,v=E/m;Math.abs(w-1)>ot&&(this._+="L"+(e+w*a)+","+(t+w*h)),this._+="A"+i+","+i+",0,0,"+ +(h*f>a*d)+","+(this._x1=e+v*o)+","+(this._y1=t+v*u)}},arc:function(e,t,n,r,i,s){e=+e,t=+t,n=+n,s=!!s;var l=n*Math.cos(r),o=n*Math.sin(r),u=e+l,a=t+o,h=1^s,c=s?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+a:(Math.abs(this._x1-u)>ot||Math.abs(this._y1-a)>ot)&&(this._+="L"+u+","+a),n&&(c<0&&(c=c%wr+wr),c>cc?this._+="A"+n+","+n+",0,1,"+h+","+(e-l)+","+(t-o)+"A"+n+","+n+",0,1,"+h+","+(this._x1=u)+","+(this._y1=a):c>ot&&(this._+="A"+n+","+n+",0,"+ +(c>=yr)+","+h+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Si={},xn={},Qn=34,Lt=10,jn=13;function cs(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function hc(e,t){var n=cs(e);return function(r,i){return t(n(r),i,e)}}function Ei(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Re(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function dc(e){return e<0?"-"+Re(-e,6):e>9999?"+"+Re(e,6):Re(e,4)}function _c(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":dc(e.getUTCFullYear())+"-"+Re(e.getUTCMonth()+1,2)+"-"+Re(e.getUTCDate(),2)+(i?"T"+Re(t,2)+":"+Re(n,2)+":"+Re(r,2)+"."+Re(i,3)+"Z":r?"T"+Re(t,2)+":"+Re(n,2)+":"+Re(r,2)+"Z":n||t?"T"+Re(t,2)+":"+Re(n,2)+"Z":"")}function mc(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(c,f){var d,g,y=i(c,function(m,b){if(d)return d(m,b-1);g=m,d=f?hc(m,f):cs(m)});return y.columns=g||[],y}function i(c,f){var d=[],g=c.length,y=0,m=0,b,E=g<=0,w=!1;c.charCodeAt(g-1)===Lt&&--g,c.charCodeAt(g-1)===jn&&--g;function v(){if(E)return xn;if(w)return w=!1,Si;var U,G=y,O;if(c.charCodeAt(G)===Qn){for(;y++<g&&c.charCodeAt(y)!==Qn||c.charCodeAt(++y)===Qn;);return(U=y)>=g?E=!0:(O=c.charCodeAt(y++))===Lt?w=!0:O===jn&&(w=!0,c.charCodeAt(y)===Lt&&++y),c.slice(G+1,U-1).replace(/""/g,'"')}for(;y<g;){if((O=c.charCodeAt(U=y++))===Lt)w=!0;else if(O===jn)w=!0,c.charCodeAt(y)===Lt&&++y;else if(O!==n)continue;return c.slice(G,U)}return E=!0,c.slice(G,g)}for(;(b=v())!==xn;){for(var S=[];b!==Si&&b!==xn;)S.push(b),b=v();f&&(S=f(S,m++))==null||d.push(S)}return d}function s(c,f){return c.map(function(d){return f.map(function(g){return h(d[g])}).join(e)})}function l(c,f){return f==null&&(f=Ei(c)),[f.map(h).join(e)].concat(s(c,f)).join(`
`)}function o(c,f){return f==null&&(f=Ei(c)),s(c,f).join(`
`)}function u(c){return c.map(a).join(`
`)}function a(c){return c.map(h).join(e)}function h(c){return c==null?"":c instanceof Date?_c(c):t.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:r,parseRows:i,format:l,formatBody:o,formatRows:u,formatRow:a,formatValue:h}}var gc=mc(","),pc=gc.parse;function vc(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function yc(e,t){return fetch(e,t).then(vc)}function wc(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),yc(t,n).then(function(i){return e(i,r)})}}var jt=wc(pc);function bc(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Et(e){return e=yn(Math.abs(e)),e?e[1]:NaN}function kc(e,t){return function(n,r){for(var i=n.length,s=[],l=0,o=e[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),s.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=e[l=(l+1)%e.length];return s.reverse().join(t)}}function Ac(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ic=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wn(e){if(!(t=Ic.exec(e)))throw new Error("invalid format: "+e);var t;return new Ur({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}wn.prototype=Ur.prototype;function Ur(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ur.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Mc(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var hs;function Sc(e,t){var n=yn(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(hs=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+yn(e,Math.max(0,t+s-1))[0]}function Ni(e,t){var n=yn(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ci={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bc,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ni(e*100,t),r:Ni,s:Sc,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ti(e){return e}var Li=Array.prototype.map,Di=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Ec(e){var t=e.grouping===void 0||e.thousands===void 0?Ti:kc(Li.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Ti:Ac(Li.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function a(c){c=wn(c);var f=c.fill,d=c.align,g=c.sign,y=c.symbol,m=c.zero,b=c.width,E=c.comma,w=c.precision,v=c.trim,S=c.type;S==="n"?(E=!0,S="g"):Ci[S]||(w===void 0&&(w=12),v=!0,S="g"),(m||f==="0"&&d==="=")&&(m=!0,f="0",d="=");var U=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",G=y==="$"?r:/[%p]/.test(S)?l:"",O=Ci[S],B=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function k(M){var T=U,D=G,V,I,N;if(S==="c")D=O(M)+D,M="";else{M=+M;var W=M<0||1/M<0;if(M=isNaN(M)?u:O(Math.abs(M),w),v&&(M=Mc(M)),W&&+M==0&&g!=="+"&&(W=!1),T=(W?g==="("?g:o:g==="-"||g==="("?"":g)+T,D=(S==="s"?Di[8+hs/3]:"")+D+(W&&g==="("?")":""),B){for(V=-1,I=M.length;++V<I;)if(N=M.charCodeAt(V),48>N||N>57){D=(N===46?i+M.slice(V+1):M.slice(V))+D,M=M.slice(0,V);break}}}E&&!m&&(M=t(M,1/0));var ee=T.length+M.length+D.length,L=ee<b?new Array(b-ee+1).join(f):"";switch(E&&m&&(M=t(L+M,L.length?b-D.length:1/0),L=""),d){case"<":M=T+M+D+L;break;case"=":M=T+L+M+D;break;case"^":M=L.slice(0,ee=L.length>>1)+T+M+D+L.slice(ee);break;default:M=L+T+M+D;break}return s(M)}return k.toString=function(){return c+""},k}function h(c,f){var d=a((c=wn(c),c.type="f",c)),g=Math.max(-8,Math.min(8,Math.floor(Et(f)/3)))*3,y=Math.pow(10,-g),m=Di[8+g/3];return function(b){return d(y*b)+m}}return{format:a,formatPrefix:h}}var $t,Nt,ds;Nc({thousands:",",grouping:[3],currency:["$",""]});function Nc(e){return $t=Ec(e),Nt=$t.format,ds=$t.formatPrefix,$t}function Cc(e){return Math.max(0,-Et(Math.abs(e)))}function Tc(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Et(t)/3)))*3-Et(Math.abs(e)))}function Lc(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Et(t)-Et(e))+1}function Dc(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Rc(){return this.eachAfter(Dc)}function Oc(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Vc(e,t){for(var n=this,r=[n],i,s,l=-1;n=r.pop();)if(e.call(t,n,++l,this),i=n.children)for(s=i.length-1;s>=0;--s)r.push(i[s]);return this}function Fc(e,t){for(var n=this,r=[n],i=[],s,l,o,u=-1;n=r.pop();)if(i.push(n),s=n.children)for(l=0,o=s.length;l<o;++l)r.push(s[l]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function Hc(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Bc(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Pc(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Gc(e){for(var t=this,n=Uc(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function Uc(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function zc(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function qc(){return Array.from(this)}function Yc(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Kc(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Wc(){var e=this,t,n=[e],r,i,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,s=r.length;i<s;++i)n.push(r[i]);while(n.length)}function _s(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Jc)):t===void 0&&(t=Zc);for(var n=new qt(e),r,i=[n],s,l,o,u;r=i.pop();)if((l=t(r.data))&&(u=(l=Array.from(l)).length))for(r.children=l,o=u-1;o>=0;--o)i.push(s=l[o]=new qt(l[o])),s.parent=r,s.depth=r.depth+1;return n.eachBefore(ms)}function Xc(){return _s(this).eachBefore(xc)}function Zc(e){return e.children}function Jc(e){return Array.isArray(e)?e[1]:null}function xc(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function ms(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function qt(e){this.data=e,this.depth=this.height=0,this.parent=null}qt.prototype=_s.prototype={constructor:qt,count:Rc,each:Oc,eachAfter:Fc,eachBefore:Vc,find:Hc,sum:Bc,sort:Pc,path:Gc,ancestors:zc,descendants:qc,leaves:Yc,links:Kc,copy:Xc,[Symbol.iterator]:Wc};function $n(e){return e==null?null:gs(e)}function gs(e){if(typeof e!="function")throw new Error;return e}function Dt(){return 0}function Rt(e){return function(){return e}}function Qc(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function ps(e,t,n,r,i){for(var s=e.children,l,o=-1,u=s.length,a=e.value&&(r-t)/e.value;++o<u;)l=s[o],l.y0=n,l.y1=i,l.x0=t,l.x1=t+=l.value*a}var jc={depth:-1},Ri={},er={};function $c(e){return e.id}function eh(e){return e.parentId}function th(){var e=$c,t=eh,n;function r(i){var s=Array.from(i),l=e,o=t,u,a,h,c,f,d,g,y,m=new Map;if(n!=null){const b=s.map((v,S)=>nh(n(v,S,i))),E=b.map(Oi),w=new Set(b).add("");for(const v of E)w.has(v)||(w.add(v),b.push(v),E.push(Oi(v)),s.push(er));l=(v,S)=>b[S],o=(v,S)=>E[S]}for(h=0,u=s.length;h<u;++h)a=s[h],d=s[h]=new qt(a),(g=l(a,h,i))!=null&&(g+="")&&(y=d.id=g,m.set(y,m.has(y)?Ri:d)),(g=o(a,h,i))!=null&&(g+="")&&(d.parent=g);for(h=0;h<u;++h)if(d=s[h],g=d.parent){if(f=m.get(g),!f)throw new Error("missing: "+g);if(f===Ri)throw new Error("ambiguous: "+g);f.children?f.children.push(d):f.children=[d],d.parent=f}else{if(c)throw new Error("multiple roots");c=d}if(!c)throw new Error("no root");if(n!=null){for(;c.data===er&&c.children.length===1;)c=c.children[0],--u;for(let b=s.length-1;b>=0&&(d=s[b],d.data===er);--b)d.data=null}if(c.parent=jc,c.eachBefore(function(b){b.depth=b.parent.depth+1,--u}).eachBefore(ms),c.parent=null,u>0)throw new Error("cycle");return c}return r.id=function(i){return arguments.length?(e=$n(i),r):e},r.parentId=function(i){return arguments.length?(t=$n(i),r):t},r.path=function(i){return arguments.length?(n=$n(i),r):n},r}function nh(e){e=`${e}`;let t=e.length;return Ar(e,t-1)&&!Ar(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function Oi(e){let t=e.length;if(t<2)return"";for(;--t>1&&!Ar(e,t););return e.slice(0,t)}function Ar(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function vs(e,t,n,r,i){for(var s=e.children,l,o=-1,u=s.length,a=e.value&&(i-n)/e.value;++o<u;)l=s[o],l.x0=t,l.x1=r,l.y0=n,l.y1=n+=l.value*a}var ys=(1+Math.sqrt(5))/2;function ws(e,t,n,r,i,s){for(var l=[],o=t.children,u,a,h=0,c=0,f=o.length,d,g,y=t.value,m,b,E,w,v,S,U;h<f;){d=i-n,g=s-r;do m=o[c++].value;while(!m&&c<f);for(b=E=m,S=Math.max(g/d,d/g)/(y*e),U=m*m*S,v=Math.max(E/U,U/b);c<f;++c){if(m+=a=o[c].value,a<b&&(b=a),a>E&&(E=a),U=m*m*S,w=Math.max(E/U,U/b),w>v){m-=a;break}v=w}l.push(u={value:m,dice:d<g,children:o.slice(h,c)}),u.dice?ps(u,n,r,i,y?r+=g*m/y:s):vs(u,n,r,y?n+=d*m/y:i,s),y-=m,h=c}return l}const rh=function e(t){function n(r,i,s,l,o){ws(t,r,i,s,l,o)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(ys);function ih(){var e=rh,t=!1,n=1,r=1,i=[0],s=Dt,l=Dt,o=Dt,u=Dt,a=Dt;function h(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(c),i=[0],t&&f.eachBefore(Qc),f}function c(f){var d=i[f.depth],g=f.x0+d,y=f.y0+d,m=f.x1-d,b=f.y1-d;m<g&&(g=m=(g+m)/2),b<y&&(y=b=(y+b)/2),f.x0=g,f.y0=y,f.x1=m,f.y1=b,f.children&&(d=i[f.depth+1]=s(f)/2,g+=a(f)-d,y+=l(f)-d,m-=o(f)-d,b-=u(f)-d,m<g&&(g=m=(g+m)/2),b<y&&(y=b=(y+b)/2),e(f,g,y,m,b))}return h.round=function(f){return arguments.length?(t=!!f,h):t},h.size=function(f){return arguments.length?(n=+f[0],r=+f[1],h):[n,r]},h.tile=function(f){return arguments.length?(e=gs(f),h):e},h.padding=function(f){return arguments.length?h.paddingInner(f).paddingOuter(f):h.paddingInner()},h.paddingInner=function(f){return arguments.length?(s=typeof f=="function"?f:Rt(+f),h):s},h.paddingOuter=function(f){return arguments.length?h.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):h.paddingTop()},h.paddingTop=function(f){return arguments.length?(l=typeof f=="function"?f:Rt(+f),h):l},h.paddingRight=function(f){return arguments.length?(o=typeof f=="function"?f:Rt(+f),h):o},h.paddingBottom=function(f){return arguments.length?(u=typeof f=="function"?f:Rt(+f),h):u},h.paddingLeft=function(f){return arguments.length?(a=typeof f=="function"?f:Rt(+f),h):a},h}const lh=function e(t){function n(r,i,s,l,o){if((u=r._squarify)&&u.ratio===t)for(var u,a,h,c,f=-1,d,g=u.length,y=r.value;++f<g;){for(a=u[f],h=a.children,c=a.value=0,d=h.length;c<d;++c)a.value+=h[c].value;a.dice?ps(a,i,s,l,y?s+=(o-s)*a.value/y:o):vs(a,i,s,y?i+=(l-i)*a.value/y:l,o),y-=a.value}else r._squarify=u=ws(t,r,i,s,l,o),u.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(ys);function bs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Vi=Symbol("implicit");function Ir(){var e=new nr,t=[],n=[],r=Vi;function i(s){let l=e.get(s);if(l===void 0){if(r!==Vi)return r;e.set(s,l=t.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new nr;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Ir(t,n).unknown(r)},bs.apply(i,arguments),i}function sh(e){return function(){return e}}function oh(e){return+e}var Fi=[0,1];function wt(e){return e}function Mr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:sh(isNaN(t)?NaN:.5)}function ah(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function uh(e,t,n){var r=e[0],i=e[1],s=t[0],l=t[1];return i<r?(r=Mr(i,r),s=n(l,s)):(r=Mr(r,i),s=n(s,l)),function(o){return s(r(o))}}function fh(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=Mr(e[l],e[l+1]),s[l]=n(t[l],t[l+1]);return function(o){var u=vo(e,o,1,r)-1;return s[u](i[u](o))}}function ch(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hh(){var e=Fi,t=Fi,n=En,r,i,s,l=wt,o,u,a;function h(){var f=Math.min(e.length,t.length);return l!==wt&&(l=ah(e[0],e[f-1])),o=f>2?fh:uh,u=a=null,c}function c(f){return f==null||isNaN(f=+f)?s:(u||(u=o(e.map(r),t,n)))(r(l(f)))}return c.invert=function(f){return l(i((a||(a=o(t,e.map(r),Ye)))(f)))},c.domain=function(f){return arguments.length?(e=Array.from(f,oh),h()):e.slice()},c.range=function(f){return arguments.length?(t=Array.from(f),h()):t.slice()},c.rangeRound=function(f){return t=Array.from(f),n=Bu,h()},c.clamp=function(f){return arguments.length?(l=f?!0:wt,h()):l!==wt},c.interpolate=function(f){return arguments.length?(n=f,h()):n},c.unknown=function(f){return arguments.length?(s=f,c):s},function(f,d){return r=f,i=d,h()}}function dh(){return hh()(wt,wt)}function _h(e,t,n,r){var i=Io(e,t,n),s;switch(r=wn(r==null?",f":r),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Tc(i,l))&&(r.precision=s),ds(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Lc(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Cc(i))&&(r.precision=s-(r.type==="%")*2);break}}return Nt(r)}function mh(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ao(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return _h(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,l=r[i],o=r[s],u,a,h=10;for(o<l&&(a=l,l=o,o=a,a=i,i=s,s=a);h-- >0;){if(a=Hl(l,o,n),a===u)return r[i]=l,r[s]=o,t(r);if(a>0)l=Math.floor(l/a)*a,o=Math.ceil(o/a)*a;else if(a<0)l=Math.ceil(l*a)/a,o=Math.floor(o*a)/a;else break;u=a}return e},e}function bn(){var e=dh();return e.copy=function(){return ch(e,bn())},bs.apply(e,arguments),mh(e)}function gh(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Hi=gh("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function bt(e,t,n){this.k=e,this.x=t,this.y=n}bt.prototype={constructor:bt,scale:function(e){return e===1?this:new bt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new bt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new bt(1,0,0);bt.prototype;const kt=Rl([2020]),ct=Rl(new Set),ph=new Map([["AFG","AF"],["ALA","AX"],["ALB","AL"],["DZA","DZ"],["ASM","AS"],["AND","AD"],["AGO","AO"],["AIA","AI"],["ATA","AQ"],["ATG","AG"],["ARG","AR"],["ARM","AM"],["ABW","AW"],["AUS","AU"],["AUT","AT"],["AZE","AZ"],["BHS","BS"],["BHR","BH"],["BGD","BD"],["BRB","BB"],["BLR","BY"],["BEL","BE"],["BLZ","BZ"],["BEN","BJ"],["BMU","BM"],["BTN","BT"],["BOL","BO"],["BIH","BA"],["BWA","BW"],["BVT","BV"],["BRA","BR"],["VGB","VG"],["IOT","IO"],["BRN","BN"],["BGR","BG"],["BFA","BF"],["BDI","BI"],["KHM","KH"],["CMR","CM"],["CAN","CA"],["CPV","CV"],["CYM","KY"],["CAF","CF"],["TCD","TD"],["CHL","CL"],["CHN","CN"],["HKG","HK"],["MAC","MO"],["CXR","CX"],["CCK","CC"],["COL","CO"],["COM","KM"],["COG","CG"],["COD","CD"],["COK","CK"],["CRI","CR"],["CIV","CI"],["HRV","HR"],["CUB","CU"],["CYP","CY"],["CZE","CZ"],["DNK","DK"],["DJI","DJ"],["DMA","DM"],["DOM","DO"],["ECU","EC"],["EGY","EG"],["SLV","SV"],["GNQ","GQ"],["ERI","ER"],["EST","EE"],["ETH","ET"],["FLK","FK"],["FRO","FO"],["FJI","FJ"],["FIN","FI"],["FRA","FR"],["GUF","GF"],["PYF","PF"],["ATF","TF"],["GAB","GA"],["GMB","GM"],["GEO","GE"],["DEU","DE"],["GHA","GH"],["GIB","GI"],["GRC","GR"],["GRL","GL"],["GRD","GD"],["GLP","GP"],["GUM","GU"],["GTM","GT"],["GGY","GG"],["GIN","GN"],["GNB","GW"],["GUY","GY"],["HTI","HT"],["HMD","HM"],["VAT","VA"],["HND","HN"],["HUN","HU"],["ISL","IS"],["IND","IN"],["IDN","ID"],["IRN","IR"],["IRQ","IQ"],["IRL","IE"],["IMN","IM"],["ISR","IL"],["ITA","IT"],["JAM","JM"],["JPN","JP"],["JEY","JE"],["JOR","JO"],["KAZ","KZ"],["KEN","KE"],["KIR","KI"],["PRK","KP"],["KOR","KR"],["KWT","KW"],["KGZ","KG"],["LAO","LA"],["LVA","LV"],["LBN","LB"],["LSO","LS"],["LBR","LR"],["LBY","LY"],["LIE","LI"],["LTU","LT"],["LUX","LU"],["MKD","MK"],["MDG","MG"],["MWI","MW"],["MYS","MY"],["MDV","MV"],["MLI","ML"],["MLT","MT"],["MHL","MH"],["MTQ","MQ"],["MRT","MR"],["MUS","MU"],["MYT","YT"],["MEX","MX"],["FSM","FM"],["MDA","MD"],["MCO","MC"],["MNG","MN"],["MNE","ME"],["MSR","MS"],["MAR","MA"],["MOZ","MZ"],["MMR","MM"],["NAM","NA"],["NRU","NR"],["NPL","NP"],["NLD","NL"],["ANT","AN"],["NCL","NC"],["NZL","NZ"],["NIC","NI"],["NER","NE"],["NGA","NG"],["NIU","NU"],["NFK","NF"],["MNP","MP"],["NOR","NO"],["OMN","OM"],["PAK","PK"],["PLW","PW"],["PSE","PS"],["PAN","PA"],["PNG","PG"],["PRY","PY"],["PER","PE"],["PHL","PH"],["PCN","PN"],["POL","PL"],["PRT","PT"],["PRI","PR"],["QAT","QA"],["REU","RE"],["ROU","RO"],["RUS","RU"],["RWA","RW"],["BLM","BL"],["SHN","SH"],["KNA","KN"],["LCA","LC"],["MAF","MF"],["SPM","PM"],["VCT","VC"],["WSM","WS"],["SMR","SM"],["STP","ST"],["SAU","SA"],["SEN","SN"],["SRB","RS"],["SYC","SC"],["SLE","SL"],["SGP","SG"],["SVK","SK"],["SVN","SI"],["SLB","SB"],["SOM","SO"],["ZAF","ZA"],["SGS","GS"],["SSD","SS"],["ESP","ES"],["LKA","LK"],["SDN","SD"],["SUR","SR"],["SJM","SJ"],["SWZ","SZ"],["SWE","SE"],["CHE","CH"],["SYR","SY"],["TWN","TW"],["TJK","TJ"],["TZA","TZ"],["THA","TH"],["TLS","TL"],["TGO","TG"],["TKL","TK"],["TON","TO"],["TTO","TT"],["TUN","TN"],["TUR","TR"],["TKM","TM"],["TCA","TC"],["TUV","TV"],["UGA","UG"],["UKR","UA"],["ARE","AE"],["GBR","GB"],["USA","US"],["UMI","UM"],["URY","UY"],["UZB","UZ"],["VUT","VU"],["VEN","VE"],["VNM","VN"],["VIR","VI"],["WLF","WF"],["ESH","EH"],["YEM","YE"],["ZMB","ZM"],["ZWE","ZW"],["XKX","XK"]]),en=e=>{var t,n;return`https://cdn.jsdelivr.net/npm/flag-icons@6.3.0/flags/4x3/${(n=(t=ph.get(e.toUpperCase()))==null?void 0:t.toLowerCase())!=null?n:"aq"}.svg`};class vh{constructor(t){Ae(this,"id");Ae(this,"code");Ae(this,"name");Ae(this,"level");this.id=+t.location_id,this.code=t.location_code,this.name=t.location_name_short_en,this.level=t.level}}class un{constructor(t){Ae(this,"id");Ae(this,"code");Ae(this,"name");Ae(this,"level");Ae(this,"parent_id");Ae(this,"parent");this.id=+t.product_id,this.code=+t.hs_product_code,this.name=t.hs_product_name_short_en,this.level=t.level,this.parent_id=+t.parent_id,this.parent=null}}class it{constructor(t,n,r){Ae(this,"location_id");Ae(this,"location");Ae(this,"partner_id");Ae(this,"partner");Ae(this,"product_id");Ae(this,"product");Ae(this,"year");Ae(this,"export_value");Ae(this,"import_value");this.location_id=+r.location_id,this.location=t.get(this.location_id),this.partner_id=+r.partner_id,this.partner=t.get(this.partner_id),this.product_id=+r.product_id,this.product=n.get(this.product_id),this.year=+r.year,this.export_value=+r.export_value,this.import_value=+r.import_value}}function yh(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i={};return i.top=n.top<0,i.left=n.left<0,i.bottom=n.bottom+r.height>(window.innerHeight||document.documentElement.clientHeight),i.right=n.right>(window.innerWidth||document.documentElement.clientWidth),i.any=i.top||i.left||i.bottom||i.right,i}function wh(e){let t,n=e[0](e[1],e[2])+"",r;return{c(){t=te("div"),this.h()},l(i){t=ne(i,"DIV",{class:!0});var s=P(t);s.forEach(A),this.h()},h(){_(t,"class",r="item "+e[3]+" svelte-3e0qet")},m(i,s){q(i,t,s),t.innerHTML=n},p(i,[s]){s&7&&n!==(n=i[0](i[1],i[2])+"")&&(t.innerHTML=n),s&8&&r!==(r="item "+i[3]+" svelte-3e0qet")&&_(t,"class",r)},i:ye,o:ye,d(i){i&&A(t)}}}function bh(e,t,n){let{isActive:r=!1}=t,{isFirst:i=!1}=t,{isHover:s=!1}=t,{isSelectable:l=!1}=t,{getOptionLabel:o=void 0}=t,{item:u=void 0}=t,{filterText:a=""}=t,h="";return e.$$set=c=>{"isActive"in c&&n(4,r=c.isActive),"isFirst"in c&&n(5,i=c.isFirst),"isHover"in c&&n(6,s=c.isHover),"isSelectable"in c&&n(7,l=c.isSelectable),"getOptionLabel"in c&&n(0,o=c.getOptionLabel),"item"in c&&n(1,u=c.item),"filterText"in c&&n(2,a=c.filterText)},e.$$.update=()=>{if(e.$$.dirty&242){const c=[];r&&c.push("active"),i&&c.push("first"),s&&c.push("hover"),u.isGroupHeader&&c.push("groupHeader"),u.isGroupItem&&c.push("groupItem"),l||c.push("notSelectable"),n(3,h=c.join(" "))}},[o,u,a,h,r,i,s,l]}class ks extends We{constructor(t){super(),Xe(this,t,bh,wh,Ze,{isActive:4,isFirst:5,isHover:6,isSelectable:7,getOptionLabel:0,item:1,filterText:2})}}function Bi(e,t,n){const r=e.slice();return r[41]=t[n],r[42]=n,r}function kh(e){let t,n,r=e[1],i=[];for(let o=0;o<r.length;o+=1)i[o]=Ui(Bi(e,r,o));const s=o=>re(i[o],1,1,()=>{i[o]=null});let l=null;return r.length||(l=Pi(e)),{c(){for(let o=0;o<i.length;o+=1)i[o].c();t=le(),l&&l.c()},l(o){for(let u=0;u<i.length;u+=1)i[u].l(o);t=le(),l&&l.l(o)},m(o,u){for(let a=0;a<i.length;a+=1)i[a].m(o,u);q(o,t,u),l&&l.m(o,u),n=!0},p(o,u){if(u[0]&114390){r=o[1];let a;for(a=0;a<r.length;a+=1){const h=Bi(o,r,a);i[a]?(i[a].p(h,u),Q(i[a],1)):(i[a]=Ui(h),i[a].c(),Q(i[a],1),i[a].m(t.parentNode,t))}for(Ee(),a=r.length;a<i.length;a+=1)s(a);Ne(),!r.length&&l?l.p(o,u):r.length?l&&(l.d(1),l=null):(l=Pi(o),l.c(),l.m(t.parentNode,t))}},i(o){if(!n){for(let u=0;u<r.length;u+=1)Q(i[u]);n=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)re(i[u]);n=!1},d(o){Nr(i,o),o&&A(t),l&&l.d(o)}}}function Ah(e){let t,n,r;var i=e[3];function s(l){return{props:{items:l[1],itemHeight:l[8],$$slots:{default:[Sh,({item:o,i:u})=>({41:o,42:u}),({item:o,i:u})=>[0,(o?1024:0)|(u?2048:0)]]},$$scope:{ctx:l}}}}return i&&(t=De(i,s(e))),{c(){t&&we(t.$$.fragment),n=le()},l(l){t&&Oe(t.$$.fragment,l),n=le()},m(l,o){t&&be(t,l,o),q(l,n,o),r=!0},p(l,o){const u={};if(o[0]&2&&(u.items=l[1]),o[0]&256&&(u.itemHeight=l[8]),o[0]&9814|o[1]&11264&&(u.$$scope={dirty:o,ctx:l}),i!==(i=l[3])){if(t){Ee();const a=t;re(a.$$.fragment,1,0,()=>{ke(a,1)}),Ne()}i?(t=De(i,s(l)),we(t.$$.fragment),Q(t.$$.fragment,1),be(t,n.parentNode,n)):t=null}else i&&t.$set(u)},i(l){r||(t&&Q(t.$$.fragment,l),r=!0)},o(l){t&&re(t.$$.fragment,l),r=!1},d(l){l&&A(n),t&&ke(t,l)}}}function Pi(e){let t,n=!e[11]&&Gi(e);return{c(){n&&n.c(),t=le()},l(r){n&&n.l(r),t=le()},m(r,i){n&&n.m(r,i),q(r,t,i)},p(r,i){r[11]?n&&(n.d(1),n=null):n?n.p(r,i):(n=Gi(r),n.c(),n.m(t.parentNode,t))},d(r){n&&n.d(r),r&&A(t)}}}function Gi(e){let t,n;return{c(){t=te("div"),n=ge(e[12]),this.h()},l(r){t=ne(r,"DIV",{class:!0});var i=P(t);n=pe(i,e[12]),i.forEach(A),this.h()},h(){_(t,"class","empty svelte-1uyqfml")},m(r,i){q(r,t,i),H(t,n)},p(r,i){i[0]&4096&&Ve(n,r[12])},d(r){r&&A(t)}}}function Ih(e){let t,n,r,i,s,l;var o=e[4];function u(f){return{props:{item:f[41],filterText:f[13],getOptionLabel:f[6],isFirst:Sr(f[42]),isActive:kn(f[41],f[9],f[10]),isHover:An(f[2],f[41],f[42],f[1]),isSelectable:_t(f[41])}}}o&&(n=De(o,u(e)));function a(){return e[29](e[42])}function h(){return e[30](e[42])}function c(...f){return e[31](e[41],e[42],...f)}return{c(){t=te("div"),n&&we(n.$$.fragment),r=he(),this.h()},l(f){t=ne(f,"DIV",{class:!0,tabindex:!0});var d=P(t);n&&Oe(n.$$.fragment,d),r=de(d),d.forEach(A),this.h()},h(){_(t,"class","listItem"),_(t,"tabindex","-1")},m(f,d){q(f,t,d),n&&be(n,t,null),H(t,r),i=!0,s||(l=[ae(t,"mouseover",a),ae(t,"focus",h),ae(t,"click",c)],s=!0)},p(f,d){e=f;const g={};if(d[0]&2&&(g.item=e[41]),d[0]&8192&&(g.filterText=e[13]),d[0]&64&&(g.getOptionLabel=e[6]),d[0]&1538&&(g.isActive=kn(e[41],e[9],e[10])),d[0]&6&&(g.isHover=An(e[2],e[41],e[42],e[1])),d[0]&2&&(g.isSelectable=_t(e[41])),o!==(o=e[4])){if(n){Ee();const y=n;re(y.$$.fragment,1,0,()=>{ke(y,1)}),Ne()}o?(n=De(o,u(e)),we(n.$$.fragment),Q(n.$$.fragment,1),be(n,t,r)):n=null}else o&&n.$set(g)},i(f){i||(n&&Q(n.$$.fragment,f),i=!0)},o(f){n&&re(n.$$.fragment,f),i=!1},d(f){f&&A(t),n&&ke(n),s=!1,rt(l)}}}function Mh(e){let t,n=e[7](e[41])+"",r;return{c(){t=te("div"),r=ge(n),this.h()},l(i){t=ne(i,"DIV",{class:!0});var s=P(t);r=pe(s,n),s.forEach(A),this.h()},h(){_(t,"class","listGroupTitle svelte-1uyqfml")},m(i,s){q(i,t,s),H(t,r)},p(i,s){s[0]&130&&n!==(n=i[7](i[41])+"")&&Ve(r,n)},i:ye,o:ye,d(i){i&&A(t)}}}function Ui(e){let t,n,r,i;const s=[Mh,Ih],l=[];function o(u,a){return u[41].isGroupHeader&&!u[41].isSelectable?0:1}return t=o(e),n=l[t]=s[t](e),{c(){n.c(),r=le()},l(u){n.l(u),r=le()},m(u,a){l[t].m(u,a),q(u,r,a),i=!0},p(u,a){let h=t;t=o(u),t===h?l[t].p(u,a):(Ee(),re(l[h],1,1,()=>{l[h]=null}),Ne(),n=l[t],n?n.p(u,a):(n=l[t]=s[t](u),n.c()),Q(n,1),n.m(r.parentNode,r))},i(u){i||(Q(n),i=!0)},o(u){re(n),i=!1},d(u){l[t].d(u),u&&A(r)}}}function Sh(e){let t,n,r,i,s;var l=e[4];function o(c){return{props:{item:c[41],filterText:c[13],getOptionLabel:c[6],isFirst:Sr(c[42]),isActive:kn(c[41],c[9],c[10]),isHover:An(c[2],c[41],c[42],c[1]),isSelectable:_t(c[41])}}}l&&(n=De(l,o(e)));function u(){return e[26](e[42])}function a(){return e[27](e[42])}function h(...c){return e[28](e[41],e[42],...c)}return{c(){t=te("div"),n&&we(n.$$.fragment),this.h()},l(c){t=ne(c,"DIV",{class:!0});var f=P(t);n&&Oe(n.$$.fragment,f),f.forEach(A),this.h()},h(){_(t,"class","listItem")},m(c,f){q(c,t,f),n&&be(n,t,null),r=!0,i||(s=[ae(t,"mouseover",u),ae(t,"focus",a),ae(t,"click",h)],i=!0)},p(c,f){e=c;const d={};if(f[1]&1024&&(d.item=e[41]),f[0]&8192&&(d.filterText=e[13]),f[0]&64&&(d.getOptionLabel=e[6]),f[1]&2048&&(d.isFirst=Sr(e[42])),f[0]&1536|f[1]&1024&&(d.isActive=kn(e[41],e[9],e[10])),f[0]&6|f[1]&3072&&(d.isHover=An(e[2],e[41],e[42],e[1])),f[1]&1024&&(d.isSelectable=_t(e[41])),l!==(l=e[4])){if(n){Ee();const g=n;re(g.$$.fragment,1,0,()=>{ke(g,1)}),Ne()}l?(n=De(l,o(e)),we(n.$$.fragment),Q(n.$$.fragment,1),be(n,t,null)):n=null}else l&&n.$set(d)},i(c){r||(n&&Q(n.$$.fragment,c),r=!0)},o(c){n&&re(n.$$.fragment,c),r=!1},d(c){c&&A(t),n&&ke(n),i=!1,rt(s)}}}function Eh(e){let t,n,r,i,s,l;const o=[Ah,kh],u=[];function a(h,c){return h[5]?0:1}return n=a(e),r=u[n]=o[n](e),{c(){t=te("div"),r.c(),this.h()},l(h){t=ne(h,"DIV",{class:!0,style:!0});var c=P(t);r.l(c),c.forEach(A),this.h()},h(){_(t,"class","listContainer svelte-1uyqfml"),_(t,"style",e[14]),ze(t,"virtualList",e[5])},m(h,c){q(h,t,c),u[n].m(t,null),e[32](t),i=!0,s||(l=[ae(window,"keydown",e[17]),ae(window,"resize",e[18])],s=!0)},p(h,c){let f=n;n=a(h),n===f?u[n].p(h,c):(Ee(),re(u[f],1,1,()=>{u[f]=null}),Ne(),r=u[n],r?r.p(h,c):(r=u[n]=o[n](h),r.c()),Q(r,1),r.m(t,null)),(!i||c[0]&16384)&&_(t,"style",h[14]),(!i||c[0]&32)&&ze(t,"virtualList",h[5])},i(h){i||(Q(r),i=!0)},o(h){re(r),i=!1},d(h){h&&A(t),u[n].d(),e[32](null),s=!1,rt(l)}}}function kn(e,t,n){return t&&t[n]===e[n]}function Sr(e){return e===0}function An(e,t,n,r){return _t(t)&&(e===n||r.length===1)}function _t(e){return e.isGroupHeader&&e.isSelectable||e.selectable||!e.hasOwnProperty("selectable")}function Nh(e,t,n){const r=Er();let{container:i=void 0}=t,{VirtualList:s=null}=t,{Item:l=ks}=t,{isVirtualList:o=!1}=t,{items:u=[]}=t,{labelIdentifier:a="label"}=t,{getOptionLabel:h=(R,J)=>{if(R)return R.isCreator?`Create "${J}"`:R[a]}}=t,{getGroupHeaderLabel:c=null}=t,{itemHeight:f=40}=t,{hoverItemIndex:d=0}=t,{value:g=void 0}=t,{optionIdentifier:y="value"}=t,{hideEmptyState:m=!1}=t,{noOptionsMessage:b="No options"}=t,{isMulti:E=!1}=t,{activeItemIndex:w=0}=t,{filterText:v=""}=t,{parent:S=null}=t,{listPlacement:U=null}=t,{listAutoWidth:G=null}=t,{listOffset:O=5}=t,B=0,k=!1,M;In(()=>{if(u.length>0&&!E&&g){const R=u.findIndex(J=>J[y]===g[y]);R&&n(2,d=R)}ee("active"),i.addEventListener("scroll",()=>{clearTimeout(B),B=setTimeout(()=>{k=!1},100)},!1)}),Ll(()=>{u||n(1,u=[]),u!==M&&u.length>0&&n(2,d=0),M=u});function T(R){R.isCreator||r("itemSelected",R)}function D(R){k||n(2,d=R)}function V(R){const{item:J,i:fe,event:Ie}=R;if(Ie.stopPropagation(),g&&!E&&g[y]===J[y])return I();J.isCreator?r("itemCreated",v):_t(J)&&(n(19,w=fe),n(2,d=fe),T(J))}function I(){r("closeList")}async function N(R){if(o)return;let J=!0;for(;J;)R>0&&d===u.length-1?n(2,d=0):R<0&&d===0?n(2,d=u.length-1):n(2,d=d+R),J=!_t(u[d]);await nn(),ee("hover")}function W(R){switch(R.key){case"Escape":R.preventDefault(),I();break;case"ArrowDown":R.preventDefault(),u.length&&N(1);break;case"ArrowUp":R.preventDefault(),u.length&&N(-1);break;case"Enter":if(R.preventDefault(),u.length===0)break;const J=u[d];if(g&&!E&&g[y]===J[y]){I();break}J.isCreator?r("itemCreated",v):(n(19,w=d),T(u[d]));break;case"Tab":if(R.preventDefault(),u.length===0||g&&g[y]===u[d][y])return I();n(19,w=d),T(u[d]);break}}function ee(R){if(o||!i)return;let J;const fe=i.querySelector(`.listItem .${R}`);fe&&(J=i.getBoundingClientRect().bottom-fe.getBoundingClientRect().bottom),n(0,i.scrollTop-=J,i)}let L;function z(){const{height:R,width:J}=S.getBoundingClientRect();n(14,L=""),n(14,L+=`min-width:${J}px;width:${G?"auto":"100%"};`),U==="top"||U==="auto"&&yh(S,i).bottom?n(14,L+=`bottom:${R+O}px;`):n(14,L+=`top:${R+O}px;`)}const Z=R=>D(R),C=R=>D(R),K=(R,J,fe)=>V({item:R,i:J,event:fe}),ue=R=>D(R),_e=R=>D(R),ce=(R,J,fe)=>V({item:R,i:J,event:fe});function oe(R){Fe[R?"unshift":"push"](()=>{i=R,n(0,i)})}return e.$$set=R=>{"container"in R&&n(0,i=R.container),"VirtualList"in R&&n(3,s=R.VirtualList),"Item"in R&&n(4,l=R.Item),"isVirtualList"in R&&n(5,o=R.isVirtualList),"items"in R&&n(1,u=R.items),"labelIdentifier"in R&&n(20,a=R.labelIdentifier),"getOptionLabel"in R&&n(6,h=R.getOptionLabel),"getGroupHeaderLabel"in R&&n(7,c=R.getGroupHeaderLabel),"itemHeight"in R&&n(8,f=R.itemHeight),"hoverItemIndex"in R&&n(2,d=R.hoverItemIndex),"value"in R&&n(9,g=R.value),"optionIdentifier"in R&&n(10,y=R.optionIdentifier),"hideEmptyState"in R&&n(11,m=R.hideEmptyState),"noOptionsMessage"in R&&n(12,b=R.noOptionsMessage),"isMulti"in R&&n(21,E=R.isMulti),"activeItemIndex"in R&&n(19,w=R.activeItemIndex),"filterText"in R&&n(13,v=R.filterText),"parent"in R&&n(22,S=R.parent),"listPlacement"in R&&n(23,U=R.listPlacement),"listAutoWidth"in R&&n(24,G=R.listAutoWidth),"listOffset"in R&&n(25,O=R.listOffset)},e.$$.update=()=>{e.$$.dirty[0]&4194305&&S&&i&&z()},[i,u,d,s,l,o,h,c,f,g,y,m,b,v,L,D,V,W,z,w,a,E,S,U,G,O,Z,C,K,ue,_e,ce,oe]}class Ch extends We{constructor(t){super(),Xe(this,t,Nh,Eh,Ze,{container:0,VirtualList:3,Item:4,isVirtualList:5,items:1,labelIdentifier:20,getOptionLabel:6,getGroupHeaderLabel:7,itemHeight:8,hoverItemIndex:2,value:9,optionIdentifier:10,hideEmptyState:11,noOptionsMessage:12,isMulti:21,activeItemIndex:19,filterText:13,parent:22,listPlacement:23,listAutoWidth:24,listOffset:25},null,[-1,-1])}}function Th(e){let t,n=e[0](e[1])+"";return{c(){t=te("div"),this.h()},l(r){t=ne(r,"DIV",{class:!0});var i=P(t);i.forEach(A),this.h()},h(){_(t,"class","selection svelte-pu1q1n")},m(r,i){q(r,t,i),t.innerHTML=n},p(r,[i]){i&3&&n!==(n=r[0](r[1])+"")&&(t.innerHTML=n)},i:ye,o:ye,d(r){r&&A(t)}}}function Lh(e,t,n){let{getSelectionLabel:r=void 0}=t,{item:i=void 0}=t;return e.$$set=s=>{"getSelectionLabel"in s&&n(0,r=s.getSelectionLabel),"item"in s&&n(1,i=s.item)},[r,i]}class Dh extends We{constructor(t){super(),Xe(this,t,Lh,Th,Ze,{getSelectionLabel:0,item:1})}}function zi(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function qi(e){let t,n,r,i,s;function l(...o){return e[6](e[11],...o)}return{c(){t=te("div"),n=j("svg"),r=j("path"),this.h()},l(o){t=ne(o,"DIV",{class:!0});var u=P(t);n=$(u,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0,class:!0});var a=P(n);r=$(a,"path",{d:!0}),P(r).forEach(A),a.forEach(A),u.forEach(A),this.h()},h(){_(r,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),_(n,"width","100%"),_(n,"height","100%"),_(n,"viewBox","-2 -2 50 50"),_(n,"focusable","false"),_(n,"aria-hidden","true"),_(n,"role","presentation"),_(n,"class","svelte-liu9pa"),_(t,"class","multiSelectItem_clear svelte-liu9pa")},m(o,u){q(o,t,u),H(t,n),H(n,r),i||(s=ae(t,"click",l),i=!0)},p(o,u){e=o},d(o){o&&A(t),i=!1,s()}}}function Yi(e){let t,n,r=e[4](e[9])+"",i,s,l,o,u,a=!e[2]&&!e[3]&&qi(e);function h(...c){return e[7](e[11],...c)}return{c(){t=te("div"),n=te("div"),i=he(),a&&a.c(),s=he(),this.h()},l(c){t=ne(c,"DIV",{class:!0});var f=P(t);n=ne(f,"DIV",{class:!0});var d=P(n);d.forEach(A),i=de(f),a&&a.l(f),s=de(f),f.forEach(A),this.h()},h(){_(n,"class","multiSelectItem_label svelte-liu9pa"),_(t,"class",l="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")},m(c,f){q(c,t,f),H(t,n),n.innerHTML=r,H(t,i),a&&a.m(t,null),H(t,s),o||(u=ae(t,"click",h),o=!0)},p(c,f){e=c,f&17&&r!==(r=e[4](e[9])+"")&&(n.innerHTML=r),!e[2]&&!e[3]?a?a.p(e,f):(a=qi(e),a.c(),a.m(t,s)):a&&(a.d(1),a=null),f&6&&l!==(l="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")&&_(t,"class",l)},d(c){c&&A(t),a&&a.d(),o=!1,u()}}}function Rh(e){let t,n=e[0],r=[];for(let i=0;i<n.length;i+=1)r[i]=Yi(zi(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=le()},l(i){for(let s=0;s<r.length;s+=1)r[s].l(i);t=le()},m(i,s){for(let l=0;l<r.length;l+=1)r[l].m(i,s);q(i,t,s)},p(i,[s]){if(s&63){n=i[0];let l;for(l=0;l<n.length;l+=1){const o=zi(i,n,l);r[l]?r[l].p(o,s):(r[l]=Yi(o),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},i:ye,o:ye,d(i){Nr(r,i),i&&A(t)}}}function Oh(e,t,n){const r=Er();let{value:i=[]}=t,{activeValue:s=void 0}=t,{isDisabled:l=!1}=t,{multiFullItemClearable:o=!1}=t,{getSelectionLabel:u=void 0}=t;function a(f,d){d.stopPropagation(),r("multiItemClear",{i:f})}const h=(f,d)=>a(f,d),c=(f,d)=>o?a(f,d):{};return e.$$set=f=>{"value"in f&&n(0,i=f.value),"activeValue"in f&&n(1,s=f.activeValue),"isDisabled"in f&&n(2,l=f.isDisabled),"multiFullItemClearable"in f&&n(3,o=f.multiFullItemClearable),"getSelectionLabel"in f&&n(4,u=f.getSelectionLabel)},[i,s,l,o,u,a,h,c]}class Vh extends We{constructor(t){super(),Xe(this,t,Oh,Rh,Ze,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4})}}function Ki(e,t,n){const r=e.slice();return r[23]=t[n],r}const Fh=e=>({item:e&32,i:e&32,hoverItemIndex:e&2}),Wi=e=>({item:e[23].data,i:e[23].index,hoverItemIndex:e[1]});function Hh(e){let t;return{c(){t=ge("Missing template")},l(n){t=pe(n,"Missing template")},m(n,r){q(n,t,r)},d(n){n&&A(t)}}}function Xi(e,t){let n,r,i;const s=t[15].default,l=Qs(s,t,t[14],Wi),o=l||Hh();return{key:e,first:null,c(){n=te("svelte-virtual-list-row"),o&&o.c(),r=he(),this.h()},l(u){n=ne(u,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var a=P(n);o&&o.l(a),r=de(a),a.forEach(A),this.h()},h(){tr(n,"class","svelte-g2cagw"),this.first=n},m(u,a){q(u,n,a),o&&o.m(n,null),H(n,r),i=!0},p(u,a){t=u,l&&l.p&&(!i||a&16418)&&js(l,s,t,t[14],i?eo(s,t[14],a,Fh):$s(t[14]),Wi)},i(u){i||(Q(o,u),i=!0)},o(u){re(o,u),i=!1},d(u){u&&A(n),o&&o.d(u)}}}function Bh(e){let t,n,r=[],i=new Map,s,l,o,u,a=e[5];const h=c=>c[23].index;for(let c=0;c<a.length;c+=1){let f=Ki(e,a,c),d=h(f);i.set(d,r[c]=Xi(d,f))}return{c(){t=te("svelte-virtual-list-viewport"),n=te("svelte-virtual-list-contents");for(let c=0;c<r.length;c+=1)r[c].c();this.h()},l(c){t=ne(c,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var f=P(t);n=ne(f,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var d=P(n);for(let g=0;g<r.length;g+=1)r[g].l(d);d.forEach(A),f.forEach(A),this.h()},h(){pt(n,"padding-top",e[6]+"px"),pt(n,"padding-bottom",e[7]+"px"),tr(n,"class","svelte-g2cagw"),pt(t,"height",e[0]),tr(t,"class","svelte-g2cagw"),Yt(()=>e[18].call(t))},m(c,f){q(c,t,f),H(t,n);for(let d=0;d<r.length;d+=1)r[d].m(n,null);e[16](n),e[17](t),s=Mn(t,e[18].bind(t)),l=!0,o||(u=ae(t,"scroll",e[8]),o=!0)},p(c,[f]){f&16418&&(a=c[5],Ee(),r=ut(r,f,h,1,c,a,i,n,xs,Xi,null,Ki),Ne()),(!l||f&64)&&pt(n,"padding-top",c[6]+"px"),(!l||f&128)&&pt(n,"padding-bottom",c[7]+"px"),(!l||f&1)&&pt(t,"height",c[0])},i(c){if(!l){for(let f=0;f<a.length;f+=1)Q(r[f]);l=!0}},o(c){for(let f=0;f<r.length;f+=1)re(r[f]);l=!1},d(c){c&&A(t);for(let f=0;f<r.length;f+=1)r[f].d();e[16](null),e[17](null),s(),o=!1,u()}}}function Ph(e,t,n){let{$$slots:r={},$$scope:i}=t,{items:s=void 0}=t,{height:l="100%"}=t,{itemHeight:o=40}=t,{hoverItemIndex:u=0}=t,{start:a=0}=t,{end:h=0}=t,c=[],f,d,g,y=0,m,b,E=0,w=0,v;async function S(k,M,T){const{scrollTop:D}=d;await nn();let V=E-D,I=a;for(;V<M&&I<k.length;){let W=f[I-a];W||(n(10,h=I+1),await nn(),W=f[I-a]);const ee=c[I]=T||W.offsetHeight;V+=ee,I+=1}n(10,h=I);const N=k.length-h;v=(E+V)/h,n(7,w=N*v),c.length=k.length,d&&n(3,d.scrollTop=0,d)}async function U(){const{scrollTop:k}=d,M=a;for(let I=0;I<f.length;I+=1)c[a+I]=o||f[I].offsetHeight;let T=0,D=0;for(;T<s.length;){const I=c[T]||v;if(D+I>k){n(9,a=T),n(6,E=D);break}D+=I,T+=1}for(;T<s.length&&(D+=c[T]||v,T+=1,!(D>k+y)););n(10,h=T);const V=s.length-h;for(v=D/h;T<s.length;)c[T++]=v;if(n(7,w=V*v),a<M){await nn();let I=0,N=0;for(let ee=a;ee<M;ee+=1)f[ee-a]&&(I+=c[ee],N+=o||f[ee-a].offsetHeight);const W=N-I;d.scrollTo(0,k+W)}}In(()=>{f=g.getElementsByTagName("svelte-virtual-list-row"),n(13,b=!0)});function G(k){Fe[k?"unshift":"push"](()=>{g=k,n(4,g)})}function O(k){Fe[k?"unshift":"push"](()=>{d=k,n(3,d)})}function B(){y=this.offsetHeight,n(2,y)}return e.$$set=k=>{"items"in k&&n(11,s=k.items),"height"in k&&n(0,l=k.height),"itemHeight"in k&&n(12,o=k.itemHeight),"hoverItemIndex"in k&&n(1,u=k.hoverItemIndex),"start"in k&&n(9,a=k.start),"end"in k&&n(10,h=k.end),"$$scope"in k&&n(14,i=k.$$scope)},e.$$.update=()=>{e.$$.dirty&3584&&n(5,m=s.slice(a,h).map((k,M)=>({index:M+a,data:k}))),e.$$.dirty&14340&&b&&S(s,y,o)},[l,u,y,d,g,m,E,w,U,a,h,s,o,b,i,r,G,O,B]}class Gh extends We{constructor(t){super(),Xe(this,t,Ph,Bh,Ze,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10})}}function Uh(e){let t,n;return{c(){t=j("svg"),n=j("path"),this.h()},l(r){t=$(r,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0});var i=P(t);n=$(i,"path",{fill:!0,d:!0}),P(n).forEach(A),i.forEach(A),this.h()},h(){_(n,"fill","currentColor"),_(n,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),_(t,"width","100%"),_(t,"height","100%"),_(t,"viewBox","-2 -2 50 50"),_(t,"focusable","false"),_(t,"aria-hidden","true"),_(t,"role","presentation")},m(r,i){q(r,t,i),H(t,n)},p:ye,i:ye,o:ye,d(r){r&&A(t)}}}class zh extends We{constructor(t){super(),Xe(this,t,null,Uh,Ze,{})}}function qh(e,t,n){let r;return function(){let s=this,l=arguments,o=function(){r=null,n||e.apply(s,l)},u=n&&!r;clearTimeout(r),r=setTimeout(o,t),u&&e.apply(s,l)}}function Zi(e,t,n){const r=e.slice();return r[103]=t[n],r}function Ji(e){let t,n,r,i,s;return{c(){t=te("span"),n=ge(e[33]),r=he(),i=te("span"),s=ge(e[32]),this.h()},l(l){t=ne(l,"SPAN",{id:!0});var o=P(t);n=pe(o,e[33]),o.forEach(A),r=de(l),i=ne(l,"SPAN",{id:!0});var u=P(i);s=pe(u,e[32]),u.forEach(A),this.h()},h(){_(t,"id","aria-selection"),_(i,"id","aria-context")},m(l,o){q(l,t,o),H(t,n),q(l,r,o),q(l,i,o),H(i,s)},p(l,o){o[1]&4&&Ve(n,l[33]),o[1]&2&&Ve(s,l[32])},d(l){l&&A(t),l&&A(r),l&&A(i)}}}function xi(e){let t,n,r;const i=[e[18]];var s=e[17];function l(o){let u={};for(let a=0;a<i.length;a+=1)u=Cr(u,i[a]);return{props:u}}return s&&(t=De(s,l())),{c(){t&&we(t.$$.fragment),n=le()},l(o){t&&Oe(t.$$.fragment,o),n=le()},m(o,u){t&&be(t,o,u),q(o,n,u),r=!0},p(o,u){const a=u[0]&262144?Tr(i,[Dl(o[18])]):{};if(s!==(s=o[17])){if(t){Ee();const h=t;re(h.$$.fragment,1,0,()=>{ke(h,1)}),Ne()}s?(t=De(s,l()),we(t.$$.fragment),Q(t.$$.fragment,1),be(t,n.parentNode,n)):t=null}else s&&t.$set(a)},i(o){r||(t&&Q(t.$$.fragment,o),r=!0)},o(o){t&&re(t.$$.fragment,o),r=!1},d(o){o&&A(n),t&&ke(t,o)}}}function Qi(e){let t,n,r;var i=e[26];function s(l){return{props:{value:l[2],getSelectionLabel:l[12],activeValue:l[30],isDisabled:l[9],multiFullItemClearable:l[8]}}}return i&&(t=De(i,s(e)),t.$on("multiItemClear",e[38]),t.$on("focus",e[40])),{c(){t&&we(t.$$.fragment),n=le()},l(l){t&&Oe(t.$$.fragment,l),n=le()},m(l,o){t&&be(t,l,o),q(l,n,o),r=!0},p(l,o){const u={};if(o[0]&4&&(u.value=l[2]),o[0]&4096&&(u.getSelectionLabel=l[12]),o[0]&1073741824&&(u.activeValue=l[30]),o[0]&512&&(u.isDisabled=l[9]),o[0]&256&&(u.multiFullItemClearable=l[8]),i!==(i=l[26])){if(t){Ee();const a=t;re(a.$$.fragment,1,0,()=>{ke(a,1)}),Ne()}i?(t=De(i,s(l)),t.$on("multiItemClear",l[38]),t.$on("focus",l[40]),we(t.$$.fragment),Q(t.$$.fragment,1),be(t,n.parentNode,n)):t=null}else i&&t.$set(u)},i(l){r||(t&&Q(t.$$.fragment,l),r=!0)},o(l){t&&re(t.$$.fragment,l),r=!1},d(l){l&&A(n),t&&ke(t,l)}}}function ji(e){let t,n,r,i,s;var l=e[25];function o(u){return{props:{item:u[2],getSelectionLabel:u[12]}}}return l&&(n=De(l,o(e))),{c(){t=te("div"),n&&we(n.$$.fragment),this.h()},l(u){t=ne(u,"DIV",{class:!0});var a=P(t);n&&Oe(n.$$.fragment,a),a.forEach(A),this.h()},h(){_(t,"class","selectedItem svelte-17l1npl")},m(u,a){q(u,t,a),n&&be(n,t,null),r=!0,i||(s=ae(t,"focus",e[40]),i=!0)},p(u,a){const h={};if(a[0]&4&&(h.item=u[2]),a[0]&4096&&(h.getSelectionLabel=u[12]),l!==(l=u[25])){if(n){Ee();const c=n;re(c.$$.fragment,1,0,()=>{ke(c,1)}),Ne()}l?(n=De(l,o(u)),we(n.$$.fragment),Q(n.$$.fragment,1),be(n,t,null)):n=null}else l&&n.$set(h)},i(u){r||(n&&Q(n.$$.fragment,u),r=!0)},o(u){n&&re(n.$$.fragment,u),r=!1},d(u){u&&A(t),n&&ke(n),i=!1,s()}}}function $i(e){let t,n,r,i,s;var l=e[23];function o(u){return{}}return l&&(n=De(l,o())),{c(){t=te("div"),n&&we(n.$$.fragment),this.h()},l(u){t=ne(u,"DIV",{class:!0,"aria-hidden":!0});var a=P(t);n&&Oe(n.$$.fragment,a),a.forEach(A),this.h()},h(){_(t,"class","clearSelect svelte-17l1npl"),_(t,"aria-hidden","true")},m(u,a){q(u,t,a),n&&be(n,t,null),r=!0,i||(s=ae(t,"click",to(e[27])),i=!0)},p(u,a){if(l!==(l=u[23])){if(n){Ee();const h=n;re(h.$$.fragment,1,0,()=>{ke(h,1)}),Ne()}l?(n=De(l,o()),we(n.$$.fragment),Q(n.$$.fragment,1),be(n,t,null)):n=null}},i(u){r||(n&&Q(n.$$.fragment,u),r=!0)},o(u){n&&re(n.$$.fragment,u),r=!1},d(u){u&&A(t),n&&ke(n),i=!1,s()}}}function el(e){let t;function n(s,l){return s[22]?Kh:Yh}let r=n(e),i=r(e);return{c(){t=te("div"),i.c(),this.h()},l(s){t=ne(s,"DIV",{class:!0,"aria-hidden":!0});var l=P(t);i.l(l),l.forEach(A),this.h()},h(){_(t,"class","indicator svelte-17l1npl"),_(t,"aria-hidden","true")},m(s,l){q(s,t,l),i.m(t,null)},p(s,l){r===(r=n(s))&&i?i.p(s,l):(i.d(1),i=r(s),i&&(i.c(),i.m(t,null)))},d(s){s&&A(t),i.d()}}}function Yh(e){let t,n;return{c(){t=j("svg"),n=j("path"),this.h()},l(r){t=$(r,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,class:!0});var i=P(t);n=$(i,"path",{d:!0}),P(n).forEach(A),i.forEach(A),this.h()},h(){_(n,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),_(t,"width","100%"),_(t,"height","100%"),_(t,"viewBox","0 0 20 20"),_(t,"focusable","false"),_(t,"aria-hidden","true"),_(t,"class","svelte-17l1npl")},m(r,i){q(r,t,i),H(t,n)},p:ye,d(r){r&&A(t)}}}function Kh(e){let t,n;return{c(){t=new ro(!1),n=le(),this.h()},l(r){t=io(r,!1),n=le(),this.h()},h(){t.a=n},m(r,i){t.m(e[22],r,i),q(r,n,i)},p(r,i){i[0]&4194304&&t.p(r[22])},d(r){r&&A(n),r&&t.d()}}}function tl(e){let t,n,r;return{c(){t=te("div"),n=j("svg"),r=j("circle"),this.h()},l(i){t=ne(i,"DIV",{class:!0});var s=P(t);n=$(s,"svg",{class:!0,viewBox:!0});var l=P(n);r=$(l,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),P(r).forEach(A),l.forEach(A),s.forEach(A),this.h()},h(){_(r,"class","spinner_path svelte-17l1npl"),_(r,"cx","50"),_(r,"cy","50"),_(r,"r","20"),_(r,"fill","none"),_(r,"stroke","currentColor"),_(r,"stroke-width","5"),_(r,"stroke-miterlimit","10"),_(n,"class","spinner_icon svelte-17l1npl"),_(n,"viewBox","25 25 50 50"),_(t,"class","spinner svelte-17l1npl")},m(i,s){q(i,t,s),H(t,n),H(n,r)},d(i){i&&A(t)}}}function nl(e){let t,n,r,i;const s=[e[34]];function l(a){e[84](a)}var o=e[24];function u(a){let h={};for(let c=0;c<s.length;c+=1)h=Cr(h,s[c]);return a[28]!==void 0&&(h.hoverItemIndex=a[28]),{props:h}}return o&&(t=De(o,u(e)),Fe.push(()=>ei(t,"hoverItemIndex",l)),t.$on("itemSelected",e[43]),t.$on("itemCreated",e[44]),t.$on("closeList",e[45])),{c(){t&&we(t.$$.fragment),r=le()},l(a){t&&Oe(t.$$.fragment,a),r=le()},m(a,h){t&&be(t,a,h),q(a,r,h),i=!0},p(a,h){const c=h[1]&8?Tr(s,[Dl(a[34])]):{};if(!n&&h[0]&268435456&&(n=!0,c.hoverItemIndex=a[28],no(()=>n=!1)),o!==(o=a[24])){if(t){Ee();const f=t;re(f.$$.fragment,1,0,()=>{ke(f,1)}),Ne()}o?(t=De(o,u(a)),Fe.push(()=>ei(t,"hoverItemIndex",l)),t.$on("itemSelected",a[43]),t.$on("itemCreated",a[44]),t.$on("closeList",a[45]),we(t.$$.fragment),Q(t.$$.fragment,1),be(t,r.parentNode,r)):t=null}else o&&t.$set(c)},i(a){i||(t&&Q(t.$$.fragment,a),i=!0)},o(a){t&&re(t.$$.fragment,a),i=!1},d(a){a&&A(r),t&&ke(t,a)}}}function rl(e){let t,n,r;return{c(){t=te("input"),this.h()},l(i){t=ne(i,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){_(t,"name",n=e[16].name),_(t,"type","hidden"),t.value=r=e[2]?e[12](e[2]):null,_(t,"class","svelte-17l1npl")},m(i,s){q(i,t,s)},p(i,s){s[0]&65536&&n!==(n=i[16].name)&&_(t,"name",n),s[0]&4100&&r!==(r=i[2]?i[12](i[2]):null)&&(t.value=r)},d(i){i&&A(t)}}}function il(e){let t,n=e[2],r=[];for(let i=0;i<n.length;i+=1)r[i]=ll(Zi(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=le()},l(i){for(let s=0;s<r.length;s+=1)r[s].l(i);t=le()},m(i,s){for(let l=0;l<r.length;l+=1)r[l].m(i,s);q(i,t,s)},p(i,s){if(s[0]&69636){n=i[2];let l;for(l=0;l<n.length;l+=1){const o=Zi(i,n,l);r[l]?r[l].p(o,s):(r[l]=ll(o),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){Nr(r,i),i&&A(t)}}}function ll(e){let t,n,r;return{c(){t=te("input"),this.h()},l(i){t=ne(i,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){_(t,"name",n=e[16].name),_(t,"type","hidden"),t.value=r=e[103]?e[12](e[103]):null,_(t,"class","svelte-17l1npl")},m(i,s){q(i,t,s)},p(i,s){s[0]&65536&&n!==(n=i[16].name)&&_(t,"name",n),s[0]&4100&&r!==(r=i[103]?i[12](i[103]):null)&&(t.value=r)},d(i){i&&A(t)}}}function Wh(e){let t,n,r,i,s,l,o,u,a,h,c,f,d,g,y,m,b,E,w=e[1]&&Ji(e),v=e[17]&&xi(e),S=e[35]&&Qi(e),U=[{readOnly:o=!e[13]},e[31],{placeholder:e[36]},{style:e[14]},{disabled:e[9]}],G={};for(let I=0;I<U.length;I+=1)G=Cr(G,U[I]);let O=!e[7]&&e[29]&&ji(e),B=e[37]&&$i(e),k=!e[37]&&(e[20]||e[19]&&!e[2]||!e[13]&&!e[9]&&!e[4]&&(e[29]&&!e[15]||!e[29]))&&el(e),M=e[4]&&tl(),T=e[5]&&nl(e),D=(!e[7]||e[7]&&!e[35])&&rl(e),V=e[7]&&e[35]&&il(e);return{c(){t=te("div"),n=te("span"),w&&w.c(),r=he(),v&&v.c(),i=he(),S&&S.c(),s=he(),l=te("input"),u=he(),O&&O.c(),a=he(),B&&B.c(),h=he(),k&&k.c(),c=he(),M&&M.c(),f=he(),T&&T.c(),d=he(),D&&D.c(),g=he(),V&&V.c(),this.h()},l(I){t=ne(I,"DIV",{class:!0,style:!0});var N=P(t);n=ne(N,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var W=P(n);w&&w.l(W),W.forEach(A),r=de(N),v&&v.l(N),i=de(N),S&&S.l(N),s=de(N),l=ne(N,"INPUT",{placeholder:!0,style:!0}),u=de(N),O&&O.l(N),a=de(N),B&&B.l(N),h=de(N),k&&k.l(N),c=de(N),M&&M.l(N),f=de(N),T&&T.l(N),d=de(N),D&&D.l(N),g=de(N),V&&V.l(N),N.forEach(A),this.h()},h(){_(n,"aria-live","polite"),_(n,"aria-atomic","false"),_(n,"aria-relevant","additions text"),_(n,"class","a11yText svelte-17l1npl"),jr(l,G),ze(l,"svelte-17l1npl",!0),_(t,"class",y="selectContainer "+e[21]+" svelte-17l1npl"),_(t,"style",e[11]),ze(t,"hasError",e[10]),ze(t,"multiSelect",e[7]),ze(t,"disabled",e[9]),ze(t,"focused",e[1])},m(I,N){q(I,t,N),H(t,n),w&&w.m(n,null),H(t,r),v&&v.m(t,null),H(t,i),S&&S.m(t,null),H(t,s),H(t,l),l.autofocus&&l.focus(),e[82](l),$r(l,e[3]),H(t,u),O&&O.m(t,null),H(t,a),B&&B.m(t,null),H(t,h),k&&k.m(t,null),H(t,c),M&&M.m(t,null),H(t,f),T&&T.m(t,null),H(t,d),D&&D.m(t,null),H(t,g),V&&V.m(t,null),e[85](t),m=!0,b||(E=[ae(window,"click",e[41]),ae(window,"focusin",e[41]),ae(window,"keydown",e[39]),ae(l,"focus",e[40]),ae(l,"input",e[83]),ae(t,"click",e[42])],b=!0)},p(I,N){I[1]?w?w.p(I,N):(w=Ji(I),w.c(),w.m(n,null)):w&&(w.d(1),w=null),I[17]?v?(v.p(I,N),N[0]&131072&&Q(v,1)):(v=xi(I),v.c(),Q(v,1),v.m(t,i)):v&&(Ee(),re(v,1,1,()=>{v=null}),Ne()),I[35]?S?(S.p(I,N),N[1]&16&&Q(S,1)):(S=Qi(I),S.c(),Q(S,1),S.m(t,s)):S&&(Ee(),re(S,1,1,()=>{S=null}),Ne()),jr(l,G=Tr(U,[(!m||N[0]&8192&&o!==(o=!I[13]))&&{readOnly:o},N[1]&1&&I[31],(!m||N[1]&32)&&{placeholder:I[36]},(!m||N[0]&16384)&&{style:I[14]},(!m||N[0]&512)&&{disabled:I[9]}])),N[0]&8&&l.value!==I[3]&&$r(l,I[3]),ze(l,"svelte-17l1npl",!0),!I[7]&&I[29]?O?(O.p(I,N),N[0]&536871040&&Q(O,1)):(O=ji(I),O.c(),Q(O,1),O.m(t,a)):O&&(Ee(),re(O,1,1,()=>{O=null}),Ne()),I[37]?B?(B.p(I,N),N[1]&64&&Q(B,1)):(B=$i(I),B.c(),Q(B,1),B.m(t,h)):B&&(Ee(),re(B,1,1,()=>{B=null}),Ne()),!I[37]&&(I[20]||I[19]&&!I[2]||!I[13]&&!I[9]&&!I[4]&&(I[29]&&!I[15]||!I[29]))?k?k.p(I,N):(k=el(I),k.c(),k.m(t,c)):k&&(k.d(1),k=null),I[4]?M||(M=tl(),M.c(),M.m(t,f)):M&&(M.d(1),M=null),I[5]?T?(T.p(I,N),N[0]&32&&Q(T,1)):(T=nl(I),T.c(),Q(T,1),T.m(t,d)):T&&(Ee(),re(T,1,1,()=>{T=null}),Ne()),!I[7]||I[7]&&!I[35]?D?D.p(I,N):(D=rl(I),D.c(),D.m(t,g)):D&&(D.d(1),D=null),I[7]&&I[35]?V?V.p(I,N):(V=il(I),V.c(),V.m(t,null)):V&&(V.d(1),V=null),(!m||N[0]&2097152&&y!==(y="selectContainer "+I[21]+" svelte-17l1npl"))&&_(t,"class",y),(!m||N[0]&2048)&&_(t,"style",I[11]),(!m||N[0]&2098176)&&ze(t,"hasError",I[10]),(!m||N[0]&2097280)&&ze(t,"multiSelect",I[7]),(!m||N[0]&2097664)&&ze(t,"disabled",I[9]),(!m||N[0]&2097154)&&ze(t,"focused",I[1])},i(I){m||(Q(v),Q(S),Q(O),Q(B),Q(T),m=!0)},o(I){re(v),re(S),re(O),re(B),re(T),m=!1},d(I){I&&A(t),w&&w.d(),v&&v.d(),S&&S.d(),e[82](null),O&&O.d(),B&&B.d(),k&&k.d(),M&&M.d(),T&&T.d(),D&&D.d(),V&&V.d(),e[85](null),b=!1,rt(E)}}}function sl(e){return e.map((t,n)=>({index:n,value:t,label:`${t}`}))}function Xh(e,t,n){let r,i,s,l,o,u,a,h;const c=Er();let{id:f=null}=t,{container:d=void 0}=t,{input:g=void 0}=t,{isMulti:y=!1}=t,{multiFullItemClearable:m=!1}=t,{isDisabled:b=!1}=t,{isCreatable:E=!1}=t,{isFocused:w=!1}=t,{value:v=null}=t,{filterText:S=""}=t,{placeholder:U="Select..."}=t,{placeholderAlwaysShow:G=!1}=t,{items:O=null}=t,{itemFilter:B=(p,x,me)=>`${p}`.toLowerCase().includes(x.toLowerCase())}=t,{groupBy:k=void 0}=t,{groupFilter:M=p=>p}=t,{isGroupHeaderSelectable:T=!1}=t,{getGroupHeaderLabel:D=p=>p[V]||p.id}=t,{labelIdentifier:V="label"}=t,{getOptionLabel:I=(p,x)=>p.isCreator?`Create "${x}"`:p[V]}=t,{optionIdentifier:N="value"}=t,{loadOptions:W=void 0}=t,{hasError:ee=!1}=t,{containerStyles:L=""}=t,{getSelectionLabel:z=p=>p?p[V]:null}=t,{createGroupHeaderItem:Z=p=>({value:p,label:p})}=t,{createItem:C=p=>({value:p,label:p})}=t;const K=()=>r;let{isSearchable:ue=!0}=t,{inputStyles:_e=""}=t,{isClearable:ce=!0}=t,{isWaiting:oe=!1}=t,{listPlacement:R="auto"}=t,{listOpen:J=!1}=t,{isVirtualList:fe=!1}=t,{loadOptionsInterval:Ie=300}=t,{noOptionsMessage:F="No options"}=t,{hideEmptyState:Y=!1}=t,{inputAttributes:ie={}}=t,{listAutoWidth:Me=!0}=t,{itemHeight:Ce=40}=t,{Icon:X=void 0}=t,{iconProps:se={}}=t,{showChevron:qe=!1}=t,{showIndicator:Se=!1}=t,{containerClasses:zr=""}=t,{indicatorSvg:qr=void 0}=t,{listOffset:Tn=5}=t,{ClearIcon:Yr=zh}=t,{Item:Ln=ks}=t,{List:Kr=Ch}=t,{Selection:Wr=Dh}=t,{MultiSelection:Xr=Vh}=t,{VirtualList:Dn=Gh}=t;function Is(p){if(p.loadOptions&&p.filterText.length>0)return;if(!p.items)return[];p.items&&p.items.length>0&&typeof p.items[0]!="object"&&(p.items=sl(p.items));let x=p.items.filter(me=>{let Ue=B(I(me,p.filterText),p.filterText,me);return Ue&&p.isMulti&&p.value&&Array.isArray(p.value)&&(Ue=!p.value.some(st=>st[p.optionIdentifier]===me[p.optionIdentifier])),Ue});return p.groupBy&&(x=Ns(x)),p.isCreatable&&(x=Zr(x,p.filterText)),x}function Zr(p,x){if(x.length===0)return p;const me=C(x);return p[0]&&x===p[0][V]?p:(me.isCreator=!0,[...p,me])}let{selectedValue:Rn=null}=t,ve,mt,On,Vn,Fn,Xt;const Ms=qh(async()=>{n(4,oe=!0);let p=await W(S).catch(x=>{console.warn("svelte-select loadOptions error :>> ",x),c("error",{type:"loadOptions",details:x})});p&&!p.cancelled&&(p?(p&&p.length>0&&typeof p[0]!="object"&&(p=sl(p)),n(81,r=[...p]),c("loaded",{items:r})):n(81,r=[]),E&&n(81,r=Zr(r,S)),n(4,oe=!1),n(1,w=!0),n(5,J=!0))},Ie);function Ss(){typeof v=="string"?n(2,v={[N]:v,label:v}):y&&Array.isArray(v)&&v.length>0&&n(2,v=v.map(p=>typeof p=="string"?{value:p,label:p}:p))}let gt;function Es(){n(31,gt=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},ie)),f&&n(31,gt.id=f,gt),ue||n(31,gt.readonly=!0,gt)}function Ns(p){const x=[],me={};p.forEach(st=>{const $e=k(st);x.includes($e)||(x.push($e),me[$e]=[],$e&&me[$e].push(Object.assign(Z($e,st),{id:$e,isGroupHeader:!0,isSelectable:T}))),me[$e].push(Object.assign({isGroupItem:!!$e},st))});const Ue=[];return M(x).forEach(st=>{Ue.push(...me[st])}),Ue}function Cs(){if(y){JSON.stringify(v)!==JSON.stringify(mt)&&Jr()&&c("select",v);return}(!mt||JSON.stringify(v[N])!==JSON.stringify(mt[N]))&&c("select",v)}function Ts(){w||J?Hn():g&&g.blur()}function Ls(){v&&(Array.isArray(v)?n(2,v=[...v]):n(2,v=[v]))}function Ds(){v&&n(2,v=null)}function Rs(){S.length!==0&&(n(1,w=!0),n(5,J=!0),W?Ms():(n(5,J=!0),y&&n(30,ve=void 0)))}Ll(async()=>{n(77,mt=v),n(78,On=S),n(79,Vn=w),n(80,Fn=y)});function Jr(){let p=!0;if(v){const x=[],me=[];v.forEach(Ue=>{x.includes(Ue[N])?p=!1:(x.push(Ue[N]),me.push(Ue))}),p||n(2,v=me)}return p}function xr(p){let x=p?p[N]:v[N];return O.find(me=>me[N]===x)}function Os(p){!p||p.length===0||p.some(x=>typeof x!="object")||!v||(y?v.some(x=>!x||!x[N]):!v[N])||(Array.isArray(v)?n(2,v=v.map(x=>xr(x)||x)):n(2,v=xr()||v))}function Qr(p){const{detail:x}=p,me=v[x?x.i:v.length-1];v.length===1?n(2,v=void 0):n(2,v=v.filter(Ue=>Ue!==me)),c("clear",me)}function Vs(p){if(!!w)switch(p.key){case"ArrowDown":p.preventDefault(),n(5,J=!0),n(30,ve=void 0);break;case"ArrowUp":p.preventDefault(),n(5,J=!0),n(30,ve=void 0);break;case"Tab":J||n(1,w=!1);break;case"Backspace":if(!y||S.length>0)return;if(y&&v&&v.length>0){if(Qr(ve!==void 0?ve:v.length-1),ve===0||ve===void 0)break;n(30,ve=v.length>ve?ve-1:void 0)}break;case"ArrowLeft":if(!y||S.length>0)return;ve===void 0?n(30,ve=v.length-1):v.length>ve&&ve!==0&&n(30,ve-=1);break;case"ArrowRight":if(!y||S.length>0||ve===void 0)return;ve===v.length-1?n(30,ve=void 0):ve<v.length-1&&n(30,ve+=1);break}}function Hn(){n(1,w=!0),g&&g.focus()}function Fs(p){if(!d)return;const x=p.path&&p.path.length>0?p.path[0]:p.target;d.contains(x)||d.contains(p.relatedTarget)||(n(1,w=!1),n(5,J=!1),n(30,ve=void 0),g&&g.blur())}function Hs(){b||(n(1,w=!0),n(5,J=!J))}function Bs(){n(2,v=void 0),n(5,J=!1),c("clear",v),Hn()}In(()=>{w&&g&&g.focus()});function Ps(p){const{detail:x}=p;if(x){n(3,S="");const me=Object.assign({},x);(!me.isGroupHeader||me.isSelectable)&&(y?n(2,v=v?v.concat([me]):[me]):n(2,v=me),n(2,v),setTimeout(()=>{n(5,J=!1),n(30,ve=void 0)}))}}function Gs(p){const{detail:x}=p;y?(n(2,v=v||[]),n(2,v=[...v,C(x)])):n(2,v=C(x)),c("itemCreated",x),n(3,S=""),n(5,J=!1),n(30,ve=void 0)}function Us(){n(3,S=""),n(5,J=!1)}let{ariaValues:Bn=p=>`Option ${p}, selected.`}=t,{ariaListOpen:Pn=(p,x)=>`You are currently focused on option ${p}. There are ${x} results available.`}=t,{ariaFocused:Gn=()=>"Select is focused, type to refine list, press down to open the menu."}=t;function zs(){let p;return y&&v.length>0?p=v.map(x=>z(x)).join(", "):p=z(v),Bn(p)}function qs(){if(!w||!r||r.length===0)return"";let p=r[Xt];if(J&&p){let x=z(p),me=r?r.length:0;return Pn(x,me)}else return Gn()}function Ys(p){Fe[p?"unshift":"push"](()=>{g=p,n(6,g)})}function Ks(){S=this.value,n(3,S)}function Ws(p){Xt=p,n(28,Xt)}function Xs(p){Fe[p?"unshift":"push"](()=>{d=p,n(0,d)})}return e.$$set=p=>{"id"in p&&n(46,f=p.id),"container"in p&&n(0,d=p.container),"input"in p&&n(6,g=p.input),"isMulti"in p&&n(7,y=p.isMulti),"multiFullItemClearable"in p&&n(8,m=p.multiFullItemClearable),"isDisabled"in p&&n(9,b=p.isDisabled),"isCreatable"in p&&n(47,E=p.isCreatable),"isFocused"in p&&n(1,w=p.isFocused),"value"in p&&n(2,v=p.value),"filterText"in p&&n(3,S=p.filterText),"placeholder"in p&&n(48,U=p.placeholder),"placeholderAlwaysShow"in p&&n(49,G=p.placeholderAlwaysShow),"items"in p&&n(50,O=p.items),"itemFilter"in p&&n(51,B=p.itemFilter),"groupBy"in p&&n(52,k=p.groupBy),"groupFilter"in p&&n(53,M=p.groupFilter),"isGroupHeaderSelectable"in p&&n(54,T=p.isGroupHeaderSelectable),"getGroupHeaderLabel"in p&&n(55,D=p.getGroupHeaderLabel),"labelIdentifier"in p&&n(56,V=p.labelIdentifier),"getOptionLabel"in p&&n(57,I=p.getOptionLabel),"optionIdentifier"in p&&n(58,N=p.optionIdentifier),"loadOptions"in p&&n(59,W=p.loadOptions),"hasError"in p&&n(10,ee=p.hasError),"containerStyles"in p&&n(11,L=p.containerStyles),"getSelectionLabel"in p&&n(12,z=p.getSelectionLabel),"createGroupHeaderItem"in p&&n(60,Z=p.createGroupHeaderItem),"createItem"in p&&n(61,C=p.createItem),"isSearchable"in p&&n(13,ue=p.isSearchable),"inputStyles"in p&&n(14,_e=p.inputStyles),"isClearable"in p&&n(15,ce=p.isClearable),"isWaiting"in p&&n(4,oe=p.isWaiting),"listPlacement"in p&&n(63,R=p.listPlacement),"listOpen"in p&&n(5,J=p.listOpen),"isVirtualList"in p&&n(64,fe=p.isVirtualList),"loadOptionsInterval"in p&&n(65,Ie=p.loadOptionsInterval),"noOptionsMessage"in p&&n(66,F=p.noOptionsMessage),"hideEmptyState"in p&&n(67,Y=p.hideEmptyState),"inputAttributes"in p&&n(16,ie=p.inputAttributes),"listAutoWidth"in p&&n(68,Me=p.listAutoWidth),"itemHeight"in p&&n(69,Ce=p.itemHeight),"Icon"in p&&n(17,X=p.Icon),"iconProps"in p&&n(18,se=p.iconProps),"showChevron"in p&&n(19,qe=p.showChevron),"showIndicator"in p&&n(20,Se=p.showIndicator),"containerClasses"in p&&n(21,zr=p.containerClasses),"indicatorSvg"in p&&n(22,qr=p.indicatorSvg),"listOffset"in p&&n(70,Tn=p.listOffset),"ClearIcon"in p&&n(23,Yr=p.ClearIcon),"Item"in p&&n(71,Ln=p.Item),"List"in p&&n(24,Kr=p.List),"Selection"in p&&n(25,Wr=p.Selection),"MultiSelection"in p&&n(26,Xr=p.MultiSelection),"VirtualList"in p&&n(72,Dn=p.VirtualList),"selectedValue"in p&&n(73,Rn=p.selectedValue),"ariaValues"in p&&n(74,Bn=p.ariaValues),"ariaListOpen"in p&&n(75,Pn=p.ariaListOpen),"ariaFocused"in p&&n(76,Gn=p.ariaFocused)},e.$$.update=()=>{e.$$.dirty[0]&140|e.$$.dirty[1]&405340160&&n(81,r=Is({loadOptions:W,filterText:S,items:O,value:v,isMulti:y,optionIdentifier:N,groupBy:k,isCreatable:E})),e.$$.dirty[2]&2048&&Rn&&console.warn("selectedValue is no longer used. Please use value instead."),e.$$.dirty[1]&524288&&Os(O),e.$$.dirty[0]&4&&v&&Ss(),e.$$.dirty[0]&73728&&(ie||!ue)&&Es(),e.$$.dirty[0]&128|e.$$.dirty[2]&262144&&(y&&Ls(),Fn&&!y&&Ds()),e.$$.dirty[0]&132&&y&&v&&v.length>1&&Jr(),e.$$.dirty[0]&4&&v&&Cs(),e.$$.dirty[0]&132|e.$$.dirty[2]&32768&&!v&&y&&mt&&c("select",v),e.$$.dirty[0]&2|e.$$.dirty[2]&131072&&w!==Vn&&Ts(),e.$$.dirty[0]&8|e.$$.dirty[2]&65536&&S!==On&&Rs(),e.$$.dirty[0]&12&&n(29,i=v&&S.length===0),e.$$.dirty[0]&536904208&&n(37,s=i&&ce&&!b&&!oe),e.$$.dirty[0]&132|e.$$.dirty[1]&393216&&n(36,l=G&&y?U:v?"":U),e.$$.dirty[0]&132&&n(35,o=y&&v&&v.length>0),e.$$.dirty[0]&141|e.$$.dirty[1]&218103808|e.$$.dirty[2]&526326&&n(34,u={Item:Ln,filterText:S,optionIdentifier:N,noOptionsMessage:F,hideEmptyState:Y,isVirtualList:fe,VirtualList:Dn,value:v,isMulti:y,getGroupHeaderLabel:D,items:r,itemHeight:Ce,getOptionLabel:I,listPlacement:R,parent:d,listAutoWidth:Me,listOffset:Tn}),e.$$.dirty[0]&132&&n(33,a=v?zs():""),e.$$.dirty[0]&268435490|e.$$.dirty[2]&524288&&n(32,h=qs())},[d,w,v,S,oe,J,g,y,m,b,ee,L,z,ue,_e,ce,ie,X,se,qe,Se,zr,qr,Yr,Kr,Wr,Xr,Bs,Xt,i,ve,gt,h,a,u,o,l,s,Qr,Vs,Hn,Fs,Hs,Ps,Gs,Us,f,E,U,G,O,B,k,M,T,D,V,I,N,W,Z,C,K,R,fe,Ie,F,Y,Me,Ce,Tn,Ln,Dn,Rn,Bn,Pn,Gn,mt,On,Vn,Fn,r,Ys,Ks,Ws,Xs]}class ol extends We{constructor(t){super(),Xe(this,t,Xh,Wh,Ze,{id:46,container:0,input:6,isMulti:7,multiFullItemClearable:8,isDisabled:9,isCreatable:47,isFocused:1,value:2,filterText:3,placeholder:48,placeholderAlwaysShow:49,items:50,itemFilter:51,groupBy:52,groupFilter:53,isGroupHeaderSelectable:54,getGroupHeaderLabel:55,labelIdentifier:56,getOptionLabel:57,optionIdentifier:58,loadOptions:59,hasError:10,containerStyles:11,getSelectionLabel:12,createGroupHeaderItem:60,createItem:61,getFilteredItems:62,isSearchable:13,inputStyles:14,isClearable:15,isWaiting:4,listPlacement:63,listOpen:5,isVirtualList:64,loadOptionsInterval:65,noOptionsMessage:66,hideEmptyState:67,inputAttributes:16,listAutoWidth:68,itemHeight:69,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,listOffset:70,ClearIcon:23,Item:71,List:24,Selection:25,MultiSelection:26,VirtualList:72,selectedValue:73,handleClear:27,ariaValues:74,ariaListOpen:75,ariaFocused:76},null,[-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[62]}get handleClear(){return this.$$.ctx[27]}}function al(e,t,n){const r=e.slice();return r[28]=t[n],r}function ul(e,t,n){const r=e.slice();return r[28]=t[n],r}function fl(e){let t,n,r;return{c(){t=j("rect"),this.h()},l(i){t=$(i,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),P(t).forEach(A),this.h()},h(){_(t,"class","timebar"),_(t,"x",n=e[10](e[14][0])-12),_(t,"y",35),_(t,"width","24"),_(t,"height",r=e[3]-35-lt),_(t,"fill","rgba(0,0,0,0.2)")},m(i,s){q(i,t,s)},p(i,s){s[0]&17408&&n!==(n=i[10](i[14][0])-12)&&_(t,"x",n),s[0]&8&&r!==(r=i[3]-35-lt)&&_(t,"height",r)},d(i){i&&A(t)}}}function cl(e,t){let n,r,i,s,l,o,u;return{key:e,first:null,c(){n=j("circle"),this.h()},l(a){n=$(a,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),P(n).forEach(A),this.h()},h(){_(n,"class","circ1 svelte-wx1vup"),_(n,"cx",r=t[10](t[28].year)),_(n,"cy",i=t[9](t[28].export_value)),_(n,"r","5"),_(n,"fill",s=t[12](t[0])),_(n,"stroke",l=t[14].includes(t[28].year)?"rgba(0,0,0,1)":"rgba(0,0,0,0)"),_(n,"stroke-width","2"),this.first=n},m(a,h){q(a,n,h),o||(u=[ae(n,"click",function(){Lr(t[15](t[28].year))&&t[15](t[28].year).apply(this,arguments)}),ae(n,"keydown",xh)],o=!0)},p(a,h){t=a,h[0]&3072&&r!==(r=t[10](t[28].year))&&_(n,"cx",r),h[0]&2560&&i!==(i=t[9](t[28].export_value))&&_(n,"cy",i),h[0]&4097&&s!==(s=t[12](t[0]))&&_(n,"fill",s),h[0]&18432&&l!==(l=t[14].includes(t[28].year)?"rgba(0,0,0,1)":"rgba(0,0,0,0)")&&_(n,"stroke",l)},d(a){a&&A(n),o=!1,rt(u)}}}function hl(e,t){let n,r,i,s,l,o,u;return{key:e,first:null,c(){n=j("circle"),this.h()},l(a){n=$(a,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),P(n).forEach(A),this.h()},h(){_(n,"cx",r=t[10](t[28].year)),_(n,"cy",i=t[9](t[28].import_value)),_(n,"r","5"),_(n,"fill",s=t[12](t[1])),_(n,"stroke",l=t[14].includes(t[28].year)?"rgba(0,0,0,1)":"rgba(0,0,0,0)"),_(n,"stroke-width","2"),_(n,"class","svelte-wx1vup"),this.first=n},m(a,h){q(a,n,h),o||(u=[ae(n,"click",function(){Lr(t[15](t[28].year))&&t[15](t[28].year).apply(this,arguments)}),ae(n,"keydown",Qh)],o=!0)},p(a,h){t=a,h[0]&3072&&r!==(r=t[10](t[28].year))&&_(n,"cx",r),h[0]&2560&&i!==(i=t[9](t[28].import_value))&&_(n,"cy",i),h[0]&4098&&s!==(s=t[12](t[1]))&&_(n,"fill",s),h[0]&18432&&l!==(l=t[14].includes(t[28].year)?"rgba(0,0,0,1)":"rgba(0,0,0,0)")&&_(n,"stroke",l)},d(a){a&&A(n),o=!1,rt(u)}}}function Zh(e){let t,n,r,i,s,l,o,u,a,h,c,f,d=[],g=new Map,y,m,b,E=[],w=new Map,v,S=!e[13]&&fl(e),U=e[11];const G=k=>k[28].year;for(let k=0;k<U.length;k+=1){let M=ul(e,U,k),T=G(M);g.set(T,d[k]=cl(T,M))}let O=e[11];const B=k=>k[28].year;for(let k=0;k<O.length;k+=1){let M=al(e,O,k),T=B(M);w.set(T,E[k]=hl(T,M))}return{c(){t=te("div"),n=j("svg"),r=j("text"),i=ge("Total Trade Over Time"),l=j("g"),S&&S.c(),o=j("g"),a=j("g"),h=j("g"),c=j("path");for(let k=0;k<d.length;k+=1)d[k].c();y=j("g"),m=j("path");for(let k=0;k<E.length;k+=1)E[k].c();this.h()},l(k){t=ne(k,"DIV",{id:!0,class:!0});var M=P(t);n=$(M,"svg",{width:!0,height:!0});var T=P(n);r=$(T,"text",{class:!0,x:!0,y:!0,"text-anchor":!0});var D=P(r);i=pe(D,"Total Trade Over Time"),D.forEach(A),l=$(T,"g",{class:!0}),P(l).forEach(A),S&&S.l(T),o=$(T,"g",{id:!0,transform:!0}),P(o).forEach(A),a=$(T,"g",{id:!0,transform:!0}),P(a).forEach(A),h=$(T,"g",{class:!0});var V=P(h);c=$(V,"path",{fill:!0,stroke:!0,"stroke-width":!0}),P(c).forEach(A);for(let N=0;N<d.length;N+=1)d[N].l(V);V.forEach(A),y=$(T,"g",{class:!0});var I=P(y);m=$(I,"path",{fill:!0,stroke:!0,"stroke-width":!0}),P(m).forEach(A);for(let N=0;N<E.length;N+=1)E[N].l(I);I.forEach(A),T.forEach(A),M.forEach(A),this.h()},h(){_(r,"class","chart-header"),_(r,"x",s=e[2]/2),_(r,"y",lt-5),_(r,"text-anchor","middle"),_(l,"class","brush"),_(o,"id","xAxis"),_(o,"transform",u=`translate(${0},${e[3]-lt})`),_(a,"id","yAis"),_(a,"transform",`translate(${As},${0})`),_(c,"fill","none"),_(c,"stroke",f=e[12](e[0])),_(c,"stroke-width","2"),_(h,"class","country1-group country-group svelte-wx1vup"),_(m,"fill","none"),_(m,"stroke",b=e[12](e[1])),_(m,"stroke-width","2"),_(y,"class","country2-group country-group svelte-wx1vup"),_(n,"width",e[2]),_(n,"height",e[3]),_(t,"id","line-chart"),_(t,"class","viz-section"),Yt(()=>e[26].call(t))},m(k,M){q(k,t,M),H(t,n),H(n,r),H(r,i),H(n,l),e[21](l),S&&S.m(n,null),H(n,o),e[22](o),H(n,a),e[23](a),H(n,h),H(h,c),e[24](c);for(let T=0;T<d.length;T+=1)d[T].m(h,null);H(n,y),H(y,m),e[25](m);for(let T=0;T<E.length;T+=1)E[T].m(y,null);v=Mn(t,e[26].bind(t))},p(k,M){M[0]&4&&s!==(s=k[2]/2)&&_(r,"x",s),k[13]?S&&(S.d(1),S=null):S?S.p(k,M):(S=fl(k),S.c(),S.m(n,o)),M[0]&8&&u!==(u=`translate(${0},${k[3]-lt})`)&&_(o,"transform",u),M[0]&4097&&f!==(f=k[12](k[0]))&&_(c,"stroke",f),M[0]&56833&&(U=k[11],d=ut(d,M,G,1,k,U,g,h,Pt,cl,null,ul)),M[0]&4098&&b!==(b=k[12](k[1]))&&_(m,"stroke",b),M[0]&56834&&(O=k[11],E=ut(E,M,B,1,k,O,w,y,Pt,hl,null,al)),M[0]&4&&_(n,"width",k[2]),M[0]&8&&_(n,"height",k[3])},i:ye,o:ye,d(k){k&&A(t),e[21](null),S&&S.d(),e[22](null),e[23](null),e[24](null);for(let M=0;M<d.length;M+=1)d[M].d();e[25](null);for(let M=0;M<E.length;M+=1)E[M].d();v()}}}const lt=35,Jh=15,As=50,xh=()=>{},Qh=()=>{};function jh(e,t,n){let r,i,s,l,o;It(e,ct,I=>n(20,l=I)),It(e,kt,I=>n(14,o=I));let{data:u}=t,{bilateralData:a,locationData:h,productData:c,country1_id:f,country2_id:d,countryColorScale:g}=u,y=800,m=400;const b=I=>Nt("$.2s")(I).replace(/G/,"B");let E,w,v,S,U,G=!1;function O(I){return()=>kt.set([I])}function B(I){Fe[I?"unshift":"push"](()=>{v=I,n(6,v)})}function k(I){Fe[I?"unshift":"push"](()=>{E=I,n(4,E)})}function M(I){Fe[I?"unshift":"push"](()=>{w=I,n(5,w)})}function T(I){Fe[I?"unshift":"push"](()=>{S=I,n(7,S)})}function D(I){Fe[I?"unshift":"push"](()=>{U=I,n(8,U)})}function V(){y=this.clientWidth,m=this.clientHeight,n(2,y),n(3,m)}return e.$$set=I=>{"data"in I&&n(16,u=I.data)},e.$$.update=()=>{var I,N,W,ee;if(e.$$.dirty[0]&65536&&n(17,{bilateralData:a,locationData:h,productData:c,country1_id:f,country2_id:d,countryColorScale:g}=u,a,(n(18,h),n(16,u)),(n(19,c),n(16,u)),(n(0,f),n(16,u)),(n(1,d),n(16,u)),(n(12,g),n(16,u))),e.$$.dirty[0]&1966083&&n(11,r=Array.from((W=(N=(I=a==null?void 0:a.get(f))==null?void 0:I.get(d))==null?void 0:N.entries())!=null?W:new Array).map(L=>{let z=L[0],Z=L[1];return Z=l.size==0?Z:Z.filter(C=>l.has(C.product_id)),Z.reduce((C,K)=>(C.export_value+=K.export_value,C.import_value+=K.import_value,C),new it(h,c,{location_id:f,partner_id:d,product_id:0,year:z,export_value:0,import_value:0}))}).sort((L,z)=>L.year-z.year)),e.$$.dirty[0]&2052&&n(10,s=bn().domain(Vl(r,L=>L.year)).range([As,y-lt])),e.$$.dirty[0]&1088){let L=uc().on("start brush end",z=>{if((z==null?void 0:z.selection)===null||(z==null?void 0:z.selection[1])-(z==null?void 0:z.selection[0])<5)kt.set([2020]),n(13,G=!1);else{n(13,G=!0);let Z=z.selection;const C=Z[0],K=Z[1];let ue=Math.ceil(s.invert(C)),_e=Math.floor(s.invert(K)),ce=[];for(let oe=ue;oe<=_e;oe++)ce.push(oe);kt.set(ce)}});Pe(v).call(L)}if(e.$$.dirty[0]&2048&&console.log(r),e.$$.dirty[0]&2056&&n(9,i=bn().domain([0,(ee=or(r,L=>Math.max(L.export_value,L.import_value)))!=null?ee:0]).range([m-lt,lt+Jh])),e.$$.dirty[0]&1584){let L=Pl(s).tickFormat(Nt("d"));Pe(E).transition().call(L);let z=Lo(i).tickFormat(Z=>b(Z));Pe(w).transition().call(z)}if(e.$$.dirty[0]&3712){let L=kr();r.length>0&&(r.sort(z=>z.year),L.moveTo(s(r[0].year),i(r[0].export_value))),r.forEach(z=>{L.lineTo(s(z.year),i(z.export_value))}),Pe(S).transition().attr("d",L.toString())}if(e.$$.dirty[0]&3840){let L=kr();r.length>0&&L.moveTo(s(r[0].year),i(r[0].import_value)),r.forEach(z=>{L.lineTo(s(z.year),i(z.import_value))}),Pe(U).transition().attr("d",L.toString())}},[f,d,y,m,E,w,v,S,U,i,s,r,g,G,o,O,u,a,h,c,l,B,k,M,T,D,V]}class $h extends We{constructor(t){super(),Xe(this,t,jh,Zh,Ze,{data:16},null,[-1,-1])}}function e0(e){const t=e-1;return t*t*t+1}function t0(e,{delay:t=0,duration:n=400,easing:r=lo}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:s=>`opacity: ${s*i}`}}function n0(e,{from:t,to:n},r={}){const i=getComputedStyle(e),s=i.transform==="none"?"":i.transform,[l,o]=i.transformOrigin.split(" ").map(parseFloat),u=t.left+t.width*l/n.width-(n.left+l),a=t.top+t.height*o/n.height-(n.top+o),{delay:h=0,duration:c=d=>Math.sqrt(d)*120,easing:f=e0}=r;return{delay:h,duration:Lr(c)?c(Math.sqrt(u*u+a*a)):c,easing:f,css:(d,g)=>{const y=g*u,m=g*a,b=d+g*t.width/n.width,E=d+g*t.height/n.height;return`transform: ${s} translate(${y}px, ${m}px) scale(${b}, ${E});`}}}function dl(e,t,n){const r=e.slice();return r[33]=t[n],r[35]=n,r}function _l(e,t,n){const r=e.slice();return r[33]=t[n],r[35]=n,r}function ml(e,t,n){const r=e.slice();return r[33]=t[n],r[35]=n,r}function r0(e){let t,n,r,i,s;return{c(){t=j("text"),n=ge("No valid data for this pair."),this.h()},l(l){t=$(l,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var o=P(t);n=pe(o,"No valid data for this pair."),o.forEach(A),this.h()},h(){_(t,"x",r=e[4]/2),_(t,"y",i=e[10]/2),_(t,"alignment-baseline","central"),_(t,"text-anchor","middle")},m(l,o){q(l,t,o),H(t,n)},p(l,o){o[0]&16&&r!==(r=l[4]/2)&&_(t,"x",r),o[0]&1024&&i!==(i=l[10]/2)&&_(t,"y",i)},i(l){s||Yt(()=>{s=so(t,t0,{}),s.start()})},o:ye,d(l){l&&A(t)}}}function i0(e){var fe,Ie;let t,n,r=e[1]==e[0].AlphaUp?"\u2191":e[1]==e[0].AlphaDown?"\u2193":" ",i,s,l,o=e[1]==e[0].Up?"\u2191":e[1]==e[0].Down?"\u2193":" ",u,a,h,c,f=((fe=e[2])==null?void 0:fe.name)+" ",d,g=e[1]==e[0].LeftUp?"\u2191":e[1]==e[0].LeftDown?"\u2193":" ",y,m,b=e[1]==e[0].RightUp?"\u2191":e[1]==e[0].RightDown?"\u2193":" ",E,w,v=((Ie=e[3])==null?void 0:Ie.name)+"",S,U,G,O=[],B=new Map,k,M=[],T=new Map,D,V=[],I=new Map,N,W,ee,L,z,Z,C,K,ue=e[11];const _e=F=>F[33].product_id;for(let F=0;F<ue.length;F+=1){let Y=ml(e,ue,F),ie=_e(Y);B.set(ie,O[F]=pl(ie,Y))}let ce=e[11];const oe=F=>F[35];for(let F=0;F<ce.length;F+=1){let Y=_l(e,ce,F),ie=oe(Y);T.set(ie,M[F]=vl(ie,Y))}let R=e[11];const J=F=>F[33].product_id;for(let F=0;F<R.length;F+=1){let Y=dl(e,R,F),ie=J(Y);I.set(ie,V[F]=yl(ie,Y))}return{c(){t=j("text"),n=ge("Sector "),i=ge(r),s=j("text"),l=ge("Trade Flow "),u=ge(o),h=j("text"),c=ge("From "),d=ge(f),y=ge(g),m=j("text"),E=ge(b),w=ge("\xA0From "),S=ge(v),G=j("g");for(let F=0;F<O.length;F+=1)O[F].c();k=le();for(let F=0;F<M.length;F+=1)M[F].c();D=le();for(let F=0;F<V.length;F+=1)V[F].c();N=j("line"),L=j("line"),Z=j("g"),this.h()},l(F){t=$(F,"text",{"text-anchor":!0,class:!0,x:!0,y:!0,"alignment-baseline":!0});var Y=P(t);n=pe(Y,"Sector "),i=pe(Y,r),Y.forEach(A),s=$(F,"text",{"text-anchor":!0,class:!0,x:!0,y:!0,"alignment-baseline":!0});var ie=P(s);l=pe(ie,"Trade Flow "),u=pe(ie,o),ie.forEach(A),h=$(F,"text",{class:!0,x:!0,y:!0,"alignment-baseline":!0,"font-size":!0});var Me=P(h);c=pe(Me,"From "),d=pe(Me,f),y=pe(Me,g),Me.forEach(A),m=$(F,"text",{class:!0,x:!0,y:!0,"text-anchor":!0,"alignment-baseline":!0,"font-size":!0});var Ce=P(m);E=pe(Ce,b),w=pe(Ce,"\xA0From "),S=pe(Ce,v),Ce.forEach(A),G=$(F,"g",{id:!0,transform:!0});var X=P(G);for(let se=0;se<O.length;se+=1)O[se].l(X);k=le();for(let se=0;se<M.length;se+=1)M[se].l(X);D=le();for(let se=0;se<V.length;se+=1)V[se].l(X);N=$(X,"line",{id:!0,transform:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,class:!0}),P(N).forEach(A),L=$(X,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),P(L).forEach(A),Z=$(X,"g",{id:!0}),P(Z).forEach(A),X.forEach(A),this.h()},h(){var F,Y,ie,Me;_(t,"text-anchor","start"),_(t,"class","chart-header sortable svelte-1dlqwym"),_(t,"x",15),_(t,"y",Ot/2),_(t,"alignment-baseline","hanging"),_(s,"text-anchor","middle"),_(s,"class","chart-header sortable svelte-1dlqwym"),_(s,"x",a=(e[4]-xe)/2+xe),_(s,"y",Ot/2-7),_(s,"alignment-baseline","hanging"),_(h,"class","from-label sortable svelte-1dlqwym"),_(h,"x",xe+20),_(h,"y",Ot/2-5),_(h,"alignment-baseline","hanging"),_(h,"font-size","13"),_(m,"class","from-label sortable svelte-1dlqwym"),_(m,"x",U=e[4]-20),_(m,"y",Ot/2-5),_(m,"text-anchor","end"),_(m,"alignment-baseline","hanging"),_(m,"font-size","13"),_(N,"id","midline"),_(N,"transform",W=`translate(${e[6](0)},0)`),_(N,"y1",20),_(N,"y2",ee=(((Y=(F=e[11])==null?void 0:F.length)!=null?Y:0)+1)*He),_(N,"stroke","rgba(0,0,0,0.7)"),_(N,"stroke-width","1"),_(N,"class","svelte-1dlqwym"),_(L,"x1",xe),_(L,"y1",0),_(L,"x2",xe),_(L,"y2",z=(((Me=(ie=e[11])==null?void 0:ie.length)!=null?Me:0)+1)*He),_(L,"stroke","rgba(0,0,0,0.1)"),_(L,"stroke-width","1"),_(Z,"id","axis"),_(G,"id","bar-content"),_(G,"transform",`translate(${0},${Ot})`)},m(F,Y){q(F,t,Y),H(t,n),H(t,i),q(F,s,Y),H(s,l),H(s,u),q(F,h,Y),H(h,c),H(h,d),H(h,y),q(F,m,Y),H(m,E),H(m,w),H(m,S),q(F,G,Y);for(let ie=0;ie<O.length;ie+=1)O[ie].m(G,null);H(G,k);for(let ie=0;ie<M.length;ie+=1)M[ie].m(G,null);H(G,D);for(let ie=0;ie<V.length;ie+=1)V[ie].m(G,null);H(G,N),H(G,L),H(G,Z),e[29](Z),C||(K=[ae(t,"click",e[24]),ae(t,"keydown",o0),ae(s,"click",e[25]),ae(s,"keydown",a0),ae(h,"keydown",u0),ae(h,"click",e[26]),ae(m,"click",e[27]),ae(m,"keydown",f0)],C=!0)},p(F,Y){var ie,Me,Ce,X,se,qe;if(Y[0]&3&&r!==(r=F[1]==F[0].AlphaUp?"\u2191":F[1]==F[0].AlphaDown?"\u2193":" ")&&Ve(i,r),Y[0]&3&&o!==(o=F[1]==F[0].Up?"\u2191":F[1]==F[0].Down?"\u2193":" ")&&Ve(u,o),Y[0]&16&&a!==(a=(F[4]-xe)/2+xe)&&_(s,"x",a),Y[0]&4&&f!==(f=((ie=F[2])==null?void 0:ie.name)+" ")&&Ve(d,f),Y[0]&3&&g!==(g=F[1]==F[0].LeftUp?"\u2191":F[1]==F[0].LeftDown?"\u2193":" ")&&Ve(y,g),Y[0]&3&&b!==(b=F[1]==F[0].RightUp?"\u2191":F[1]==F[0].RightDown?"\u2193":" ")&&Ve(E,b),Y[0]&8&&v!==(v=((Me=F[3])==null?void 0:Me.name)+"")&&Ve(S,v),Y[0]&16&&U!==(U=F[4]-20)&&_(m,"x",U),Y[0]&2064&&(ue=F[11],O=ut(O,Y,_e,1,F,ue,B,G,Pt,pl,k,ml)),Y[0]&6592&&(ce=F[11],M=ut(M,Y,oe,1,F,ce,T,G,Pt,vl,D,_l)),Y[0]&6144){R=F[11];for(let Se=0;Se<V.length;Se+=1)V[Se].r();V=ut(V,Y,J,1,F,R,I,G,oo,yl,N,dl);for(let Se=0;Se<V.length;Se+=1)V[Se].a()}Y[0]&64&&W!==(W=`translate(${F[6](0)},0)`)&&_(N,"transform",W),Y[0]&2048&&ee!==(ee=(((X=(Ce=F[11])==null?void 0:Ce.length)!=null?X:0)+1)*He)&&_(N,"y2",ee),Y[0]&2048&&z!==(z=(((qe=(se=F[11])==null?void 0:se.length)!=null?qe:0)+1)*He)&&_(L,"y2",z)},i:ye,o:ye,d(F){F&&A(t),F&&A(s),F&&A(h),F&&A(m),F&&A(G);for(let Y=0;Y<O.length;Y+=1)O[Y].d();for(let Y=0;Y<M.length;Y+=1)M[Y].d();for(let Y=0;Y<V.length;Y+=1)V[Y].d();e[29](null),C=!1,rt(K)}}}function gl(e){let t,n;return{c(){t=j("rect"),this.h()},l(r){t=$(r,"rect",{x:!0,y:!0,height:!0,width:!0,fill:!0,class:!0}),P(t).forEach(A),this.h()},h(){_(t,"x","0"),_(t,"y",n=e[35]*He+Ct),_(t,"height",He),_(t,"width",e[4]),_(t,"fill","rgba(0,0,0,0.04)"),_(t,"class","svelte-1dlqwym")},m(r,i){q(r,t,i)},p(r,i){i[0]&2048&&n!==(n=r[35]*He+Ct)&&_(t,"y",n),i[0]&16&&_(t,"width",r[4])},d(r){r&&A(t)}}}function pl(e,t){let n,r,i=t[35]%2==0&&gl(t);return{key:e,first:null,c(){n=le(),i&&i.c(),r=le(),this.h()},l(s){n=le(),i&&i.l(s),r=le(),this.h()},h(){this.first=n},m(s,l){q(s,n,l),i&&i.m(s,l),q(s,r,l)},p(s,l){t=s,t[35]%2==0?i?i.p(t,l):(i=gl(t),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(s){s&&A(n),i&&i.d(s),s&&A(r)}}}function vl(e,t){let n,r,i,s,l,o,u,a,h,c,f,d,g;return{key:e,first:null,c(){n=j("g"),r=j("rect"),l=j("rect"),h=j("rect"),this.h()},l(y){n=$(y,"g",{class:!0,transform:!0});var m=P(n);r=$(m,"rect",{class:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),P(r).forEach(A),l=$(m,"rect",{class:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),P(l).forEach(A),h=$(m,"rect",{class:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),P(h).forEach(A),m.forEach(A),this.h()},h(){_(r,"class","tab svelte-1dlqwym"),_(r,"x","0"),_(r,"y","2"),_(r,"height",He-4),_(r,"width",i=t[12].size>0&&t[12].has(t[33].product_id)?xe-1:6),_(r,"fill",s=t[7]?t[7](t[33].product.name):"white"),_(l,"class","country1-bar svelte-1dlqwym"),_(l,"x",o=t[6](-t[33].export_value)),_(l,"y",tn/2),_(l,"height",He-tn),_(l,"width",u=t[6](0)-t[6](-t[33].export_value)),_(l,"fill",a=t[8](t[33].location_id)),_(h,"class","country2-bar svelte-1dlqwym"),_(h,"x",c=t[6](0)),_(h,"y",tn/2),_(h,"height",He-tn),_(h,"width",f=t[6](t[33].import_value)-t[6](0)),_(h,"fill",d=t[8](t[33].partner_id)),_(n,"class","bar-row"),_(n,"transform",g=`translate(0, ${t[35]*He+Ct})`),this.first=n},m(y,m){q(y,n,m),H(n,r),H(n,l),H(n,h)},p(y,m){t=y,m[0]&6144&&i!==(i=t[12].size>0&&t[12].has(t[33].product_id)?xe-1:6)&&_(r,"width",i),m[0]&2176&&s!==(s=t[7]?t[7](t[33].product.name):"white")&&_(r,"fill",s),m[0]&2112&&o!==(o=t[6](-t[33].export_value))&&_(l,"x",o),m[0]&2112&&u!==(u=t[6](0)-t[6](-t[33].export_value))&&_(l,"width",u),m[0]&2304&&a!==(a=t[8](t[33].location_id))&&_(l,"fill",a),m[0]&64&&c!==(c=t[6](0))&&_(h,"x",c),m[0]&2112&&f!==(f=t[6](t[33].import_value)-t[6](0))&&_(h,"width",f),m[0]&2304&&d!==(d=t[8](t[33].partner_id))&&_(h,"fill",d),m[0]&2048&&g!==(g=`translate(0, ${t[35]*He+Ct})`)&&_(n,"transform",g)},d(y){y&&A(n)}}}function yl(e,t){let n,r=t[33].product.name+"",i,s,l,o=ye,u,a;function h(){return t[28](t[33])}return{key:e,first:null,c(){n=j("text"),i=ge(r),this.h()},l(c){n=$(c,"text",{class:!0,"alignment-baseline":!0,x:!0,y:!0});var f=P(n);i=pe(f,r),f.forEach(A),this.h()},h(){_(n,"class","product-text svelte-1dlqwym"),_(n,"alignment-baseline","hanging"),_(n,"x","10"),_(n,"y",s=t[35]*He+Ct+6),this.first=n},m(c,f){q(c,n,f),H(n,i),u||(a=[ae(n,"click",h),ae(n,"keydown",c0)],u=!0)},p(c,f){t=c,f[0]&2048&&r!==(r=t[33].product.name+"")&&Ve(i,r),f[0]&2048&&s!==(s=t[35]*He+Ct+6)&&_(n,"y",s)},r(){l=n.getBoundingClientRect()},f(){ao(n),o()},a(){o(),o=uo(n,l,n0,{duration:400,delay:20})},d(c){c&&A(n),u=!1,rt(a)}}}function wl(e){let t,n,r,i,s;return{c(){t=j("rect"),n=j("text"),r=ge("Loading..."),this.h()},l(l){t=$(l,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,class:!0}),P(t).forEach(A),n=$(l,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var o=P(n);r=pe(o,"Loading..."),o.forEach(A),this.h()},h(){_(t,"x","0"),_(t,"y","0"),_(t,"width",e[4]),_(t,"height",e[10]),_(t,"fill","rgba(255,255,255,0.9)"),_(t,"class","svelte-1dlqwym"),_(n,"x",i=e[4]/2),_(n,"y",s=e[10]/2),_(n,"alignment-baseline","central"),_(n,"text-anchor","middle")},m(l,o){q(l,t,o),q(l,n,o),H(n,r)},p(l,o){o[0]&16&&_(t,"width",l[4]),o[0]&1024&&_(t,"height",l[10]),o[0]&16&&i!==(i=l[4]/2)&&_(n,"x",i),o[0]&1024&&s!==(s=l[10]/2)&&_(n,"y",s)},d(l){l&&A(t),l&&A(n)}}}function l0(e){let t,n,r,i;function s(a,h){return a[11]&&a[11].length>0?i0:r0}let l=s(e),o=l(e),u=e[9]&&wl(e);return{c(){t=te("div"),n=j("svg"),o.c(),r=le(),u&&u.c(),this.h()},l(a){t=ne(a,"DIV",{id:!0,class:!0});var h=P(t);n=$(h,"svg",{class:!0});var c=P(n);o.l(c),r=le(),u&&u.l(c),c.forEach(A),h.forEach(A),this.h()},h(){_(n,"class","svelte-1dlqwym"),_(t,"id","bar-chart"),_(t,"class","viz-section svelte-1dlqwym"),Yt(()=>e[30].call(t))},m(a,h){q(a,t,h),H(t,n),o.m(n,null),H(n,r),u&&u.m(n,null),i=Mn(t,e[30].bind(t))},p(a,h){l===(l=s(a))&&o?o.p(a,h):(o.d(1),o=l(a),o&&(o.c(),Q(o,1),o.m(n,r))),a[9]?u?u.p(a,h):(u=wl(a),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i(a){Q(o)},o:ye,d(a){a&&A(t),o.d(),u&&u.d(),i()}}}const Ot=40,He=30,bl=0,s0=10,Ct=30,xe=100,tn=4,o0=()=>{},a0=()=>{},u0=()=>{},f0=()=>{},c0=()=>{};function h0(e,t,n){let r,i,s,l,o,u,a,h,c,f;It(e,kt,L=>n(23,c=L)),It(e,ct,L=>n(12,f=L));let{data:d}=t;var g;(function(L){L[L.LeftUp=0]="LeftUp",L[L.LeftDown=1]="LeftDown",L[L.RightUp=2]="RightUp",L[L.RightDown=3]="RightDown",L[L.Up=4]="Up",L[L.Down=5]="Down",L[L.AlphaUp=6]="AlphaUp",L[L.AlphaDown=7]="AlphaDown"})(g||(g={}));let y=g.AlphaDown,{bilateralData:m,productColorScale:b,countryColorScale:E,country1:w,country2:v,loadingDrilldown:S,productData:U,locationData:G}=d,O=800,B=500,k;const M=L=>Nt("$.2s")(L).replace(/G/,"B"),T=()=>{y==g.AlphaDown?n(1,y=g.AlphaUp):n(1,y=g.AlphaDown)},D=()=>{y==g.Down?n(1,y=g.Up):n(1,y=g.Down)},V=()=>{y==g.LeftDown?n(1,y=g.LeftUp):n(1,y=g.LeftDown)},I=()=>{y==g.RightDown?n(1,y=g.RightUp):n(1,y=g.RightDown)},N=L=>{f.has(L.product_id)?ct.update(z=>(z.delete(L.product_id),z)):ct.update(z=>(z.add(L.product_id),z))};function W(L){Fe[L?"unshift":"push"](()=>{k=L,n(5,k)})}function ee(){O=this.clientWidth,B=this.clientHeight,n(4,O),n(10,B)}return e.$$set=L=>{"data"in L&&n(13,d=L.data)},e.$$.update=()=>{var L,z,Z;if(e.$$.dirty[0]&8192&&n(14,{bilateralData:m,productColorScale:b,countryColorScale:E,country1:w,country2:v,loadingDrilldown:S,productData:U,locationData:G}=d,m,(n(7,b),n(13,d)),(n(8,E),n(13,d)),(n(2,w),n(13,d)),(n(3,v),n(13,d)),(n(9,S),n(13,d)),(n(15,U),n(13,d)),(n(16,G),n(13,d))),e.$$.dirty[0]&16396&&n(22,r=(Z=m==null?void 0:m.get((L=w==null?void 0:w.id)!=null?L:0))==null?void 0:Z.get((z=v==null?void 0:v.id)!=null?z:0)),e.$$.dirty[0]&12582912&&n(21,i=c.map(C=>{var K;return(K=r==null?void 0:r.get(C))!=null?K:new Array}).flat()),e.$$.dirty[0]&2195468&&n(19,s=Array.from(Fl(i,C=>{var K,ue;return C.reduce((_e,ce)=>(_e.export_value+=ce.export_value,_e.import_value+=ce.import_value,_e),new it(G,U,{location_id:(K=w==null?void 0:w.id)!=null?K:0,partner_id:(ue=v==null?void 0:v.id)!=null?ue:0,product_id:C[0].product_id,year:0,export_value:0,import_value:0}))},C=>C.product_id).values())),e.$$.dirty[0]&524288&&n(20,l=s.filter(C=>C.product.level=="section")),e.$$.dirty[0]&1048579&&n(11,o=l.sort((C,K)=>{switch(y){case g.LeftUp:return C.export_value-K.export_value;case g.LeftDown:return K.export_value-C.export_value;case g.RightUp:return C.import_value-K.import_value;case g.RightDown:return K.import_value-C.import_value;case g.Up:return C.import_value+C.export_value-(K.import_value+K.export_value);case g.Down:return K.import_value+K.export_value-(C.import_value+C.export_value);case g.AlphaDown:return C.product.name.localeCompare(K.product.name);case g.AlphaUp:return K.product.name.localeCompare(C.product.name);default:return 0}})),e.$$.dirty[0]&524288&&n(18,u=or(s,C=>C.export_value)),e.$$.dirty[0]&524288&&n(17,a=or(s,C=>C.import_value)),e.$$.dirty[0]&393216,e.$$.dirty[0]&393232&&n(6,h=bn().domain([-u,a]).range([xe+bl,O-bl-s0])),e.$$.dirty[0]&96){let C=Pl(h).tickFormat(K=>M(Math.abs(K)));Pe(k).transition().call(C)}},[g,y,w,v,O,k,h,b,E,S,B,o,f,d,m,U,G,a,u,s,l,i,r,c,T,D,V,I,N,W,ee]}class d0 extends We{constructor(t){super(),Xe(this,t,h0,l0,Ze,{data:13},null,[-1,-1])}}const{Map:_0}=fo;function kl(e,t,n){const r=e.slice();return r[22]=t[n],r}function Al(e){let t,n,r,i,s,l,o,u,a;function h(){return e[19](e[22])}let c=e[22].x1-e[22].x0>40&&e[22].y1-e[22].y0>10&&Il(e),f=e[22].x1-e[22].x0>40&&e[22].y1-e[22].y0>30&&Ml(e);return{c(){t=j("rect"),c&&c.c(),l=le(),f&&f.c(),o=le(),this.h()},l(d){t=$(d,"rect",{class:!0,transform:!0,width:!0,height:!0,fill:!0}),P(t).forEach(A),c&&c.l(d),l=le(),f&&f.l(d),o=le(),this.h()},h(){var d,g,y,m;_(t,"class","leaf svelte-sixlpg"),_(t,"transform",n=`translate(${e[22].x0},${e[22].y0})`),_(t,"width",r=e[22].x1-e[22].x0),_(t,"height",i=e[22].y1-e[22].y0),_(t,"fill",s=e[6]?e[6]((m=(y=(g=(d=e[22].data)==null?void 0:d.product)==null?void 0:g.parent)==null?void 0:y.name)!=null?m:""):"white")},m(d,g){q(d,t,g),c&&c.m(d,g),q(d,l,g),f&&f.m(d,g),q(d,o,g),u||(a=[ae(t,"keydown",g0),ae(t,"click",h)],u=!0)},p(d,g){var y,m,b,E;e=d,g&512&&n!==(n=`translate(${e[22].x0},${e[22].y0})`)&&_(t,"transform",n),g&512&&r!==(r=e[22].x1-e[22].x0)&&_(t,"width",r),g&512&&i!==(i=e[22].y1-e[22].y0)&&_(t,"height",i),g&576&&s!==(s=e[6]?e[6]((E=(b=(m=(y=e[22].data)==null?void 0:y.product)==null?void 0:m.parent)==null?void 0:b.name)!=null?E:""):"white")&&_(t,"fill",s),e[22].x1-e[22].x0>40&&e[22].y1-e[22].y0>10?c?c.p(e,g):(c=Il(e),c.c(),c.m(l.parentNode,l)):c&&(c.d(1),c=null),e[22].x1-e[22].x0>40&&e[22].y1-e[22].y0>30?f?f.p(e,g):(f=Ml(e),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null)},d(d){d&&A(t),c&&c.d(d),d&&A(l),f&&f.d(d),d&&A(o),u=!1,rt(a)}}}function Il(e){var l,o,u;let t,n=((u=(o=(l=e[22].data)==null?void 0:l.product.name)==null?void 0:o.substring(0,40))!=null?u:"")+"",r,i,s;return{c(){t=j("text"),r=ge(n),this.h()},l(a){t=$(a,"text",{class:!0,transform:!0,"alignment-baseline":!0,"font-size":!0});var h=P(t);r=pe(h,n),h.forEach(A),this.h()},h(){_(t,"class","label svelte-sixlpg"),_(t,"transform",i=`translate(${e[22].x0+3},${e[22].y0+3})`),_(t,"alignment-baseline","hanging"),_(t,"font-size",s=Math.max((e[22].x1-e[22].x0)/15,8))},m(a,h){q(a,t,h),H(t,r)},p(a,h){var c,f,d;h&512&&n!==(n=((d=(f=(c=a[22].data)==null?void 0:c.product.name)==null?void 0:f.substring(0,40))!=null?d:"")+"")&&Ve(r,n),h&512&&i!==(i=`translate(${a[22].x0+3},${a[22].y0+3})`)&&_(t,"transform",i),h&512&&s!==(s=Math.max((a[22].x1-a[22].x0)/15,8))&&_(t,"font-size",s)},d(a){a&&A(t)}}}function Ml(e){let t,n=e[10](e[0]==="export_value"?e[22].data.export_value:e[22].data.import_value)+"",r,i,s;return{c(){t=j("text"),r=ge(n),this.h()},l(l){t=$(l,"text",{class:!0,transform:!0,"alignment-baseline":!0,"font-size":!0,"font-weight":!0});var o=P(t);r=pe(o,n),o.forEach(A),this.h()},h(){_(t,"class","label-num svelte-sixlpg"),_(t,"transform",i=`translate(${e[22].x0+5},${e[22].y0+1+Math.max((e[22].x1-e[22].x0)/10,8)})`),_(t,"alignment-baseline","hanging"),_(t,"font-size",s=Math.max((e[22].x1-e[22].x0)/15,8)-1),_(t,"font-weight","300")},m(l,o){q(l,t,o),H(t,r)},p(l,o){o&513&&n!==(n=l[10](l[0]==="export_value"?l[22].data.export_value:l[22].data.import_value)+"")&&Ve(r,n),o&512&&i!==(i=`translate(${l[22].x0+5},${l[22].y0+1+Math.max((l[22].x1-l[22].x0)/10,8)})`)&&_(t,"transform",i),o&512&&s!==(s=Math.max((l[22].x1-l[22].x0)/15,8)-1)&&_(t,"font-size",s)},d(l){l&&A(t)}}}function Sl(e,t){let n,r,i=t[5].length>0&&t[22].x1!=NaN&&t[22].x0!=NaN&&t[22].y0!=NaN&&t[22].y1!=NaN&&Al(t);return{key:e,first:null,c(){n=le(),i&&i.c(),r=le(),this.h()},l(s){n=le(),i&&i.l(s),r=le(),this.h()},h(){this.first=n},m(s,l){q(s,n,l),i&&i.m(s,l),q(s,r,l)},p(s,l){t=s,t[5].length>0&&t[22].x1!=NaN&&t[22].x0!=NaN&&t[22].y0!=NaN&&t[22].y1!=NaN?i?i.p(t,l):(i=Al(t),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(s){s&&A(n),i&&i.d(s),s&&A(r)}}}function El(e){let t,n,r,i=e[7]?"Loading...":"No Data",s,l,o;return{c(){t=j("rect"),r=j("text"),s=ge(i),this.h()},l(u){t=$(u,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),P(t).forEach(A),r=$(u,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var a=P(r);s=pe(a,i),a.forEach(A),this.h()},h(){_(t,"x","0"),_(t,"y","0"),_(t,"width",e[1]),_(t,"height",e[2]),_(t,"fill",n=e[7]?"rgba(255,255,255, 0.9)":"rgba(255,255,255,1)"),_(r,"x",l=e[1]/2),_(r,"y",o=e[2]/2),_(r,"alignment-baseline","central"),_(r,"text-anchor","middle")},m(u,a){q(u,t,a),q(u,r,a),H(r,s)},p(u,a){a&2&&_(t,"width",u[1]),a&4&&_(t,"height",u[2]),a&128&&n!==(n=u[7]?"rgba(255,255,255, 0.9)":"rgba(255,255,255,1)")&&_(t,"fill",n),a&128&&i!==(i=u[7]?"Loading...":"No Data")&&Ve(s,i),a&2&&l!==(l=u[1]/2)&&_(r,"x",l),a&4&&o!==(o=u[2]/2)&&_(r,"y",o)},d(u){u&&A(t),u&&A(r)}}}function m0(e){var h,c;let t,n,r,i=[],s=new _0,l,o=e[9];const u=f=>f[22].data.product_id;for(let f=0;f<o.length;f+=1){let d=kl(e,o,f),g=u(d);s.set(g,i[f]=Sl(g,d))}let a=((c=(h=e[3])==null?void 0:h.length)!=null?c:0)===0&&El(e);return{c(){t=te("div"),n=j("svg"),r=j("g");for(let f=0;f<i.length;f+=1)i[f].c();a&&a.c(),this.h()},l(f){t=ne(f,"DIV",{class:!0});var d=P(t);n=$(d,"svg",{class:!0});var g=P(n);r=$(g,"g",{class:!0});var y=P(r);for(let m=0;m<i.length;m+=1)i[m].l(y);y.forEach(A),a&&a.l(g),g.forEach(A),d.forEach(A),this.h()},h(){_(r,"class","treemap svelte-sixlpg"),_(n,"class","svelte-sixlpg"),_(t,"class","viz-section"),Yt(()=>e[21].call(t))},m(f,d){q(f,t,d),H(t,n),H(n,r);for(let g=0;g<i.length;g+=1)i[g].m(r,null);e[20](r),a&&a.m(n,null),l=Mn(t,e[21].bind(t))},p(f,[d]){var g,y;d&1649&&(o=f[9],i=ut(i,d,u,1,f,o,s,r,Pt,Sl,null,kl)),((y=(g=f[3])==null?void 0:g.length)!=null?y:0)===0?a?a.p(f,d):(a=El(f),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i:ye,o:ye,d(f){f&&A(t);for(let d=0;d<i.length;d+=1)i[d].d();e[20](null),a&&a.d(),l()}}}const g0=()=>{};function p0(e,t,n){let r,i,s,l,o;It(e,ct,B=>n(4,l=B)),It(e,kt,B=>n(5,o=B));const u=B=>Nt("$.2s")(B).replace(/G/,"B");let{data:a}=t,{country1:h,country2:c,valueField:f,productColorScale:d,drilldownBilateral:g,loadingDrilldown:y,locationData:m,productData:b}=a,E=0,w=0,v,S=new Array;const U=B=>{var k,M,T,D,V,I,N;((M=(k=B.data)==null?void 0:k.product)==null?void 0:M.parent)&&l.has((V=(D=(T=B.data)==null?void 0:T.product)==null?void 0:D.parent)==null?void 0:V.id)?ct.update(W=>{var ee,L,z,Z;return W.delete((Z=(z=(L=(ee=B.data)==null?void 0:ee.product)==null?void 0:L.parent)==null?void 0:z.id)!=null?Z:-1),W}):((N=(I=B.data)==null?void 0:I.product)==null?void 0:N.parent)!=null&&ct.update(W=>{var ee,L,z,Z;return W.add((Z=(z=(L=(ee=B.data)==null?void 0:ee.product)==null?void 0:L.parent)==null?void 0:z.id)!=null?Z:-1),W})};function G(B){Fe[B?"unshift":"push"](()=>{v=B,n(8,v)})}function O(){E=this.clientWidth,w=this.clientHeight,n(1,E),n(2,w)}return e.$$set=B=>{"data"in B&&n(11,a=B.data)},e.$$.update=()=>{var B;if(e.$$.dirty&2048&&n(14,{drilldownBilateral:g,valueField:f,productColorScale:d,country1:h,country2:c,loadingDrilldown:y,locationData:m,productData:b}=a,g,(n(0,f),n(11,a)),(n(6,d),n(11,a)),(n(12,h),n(11,a)),(n(13,c),n(11,a)),(n(7,y),n(11,a)),(n(15,m),n(11,a)),(n(16,b),n(11,a))),e.$$.dirty&24576&&n(18,r=g==null?void 0:g.get((B=c==null?void 0:c.id)!=null?B:0)),e.$$.dirty&262176&&n(17,i=o.map(k=>{var M;return(M=r==null?void 0:r.get(k))!=null?M:new Array}).flat()),e.$$.dirty&241680&&n(3,s=Array.from(Fl(l.size==0?i:i.filter(k=>l.has(k.product.parent_id)),k=>k.reduce((M,T)=>(M.export_value+=T.export_value,M.import_value+=T.import_value,M),new it(m,b,{location_id:h,partner_id:c,product_id:k[0].product_id,year:0,export_value:0,import_value:0})),k=>k.product_id).values())),e.$$.dirty&12319&&s&&s.length>0){let k=[];if(l.size==1){let T=l.entries().next().value[1];console.log(T);let D=new it(new Map,new Map,{location_id:h,partner_id:c,product_id:T,year:0,export_value:0,import_value:0});D.product=new un({product_id:T,name:"Sector",level:-1,parent_id:-1}),D.product.parent_id=null,k.push(D)}else{let T=new it(new Map,new Map,{location_id:h,partner_id:c,product_id:-1,year:0,export_value:0,import_value:0});T.product=new un({product_id:-1,name:"All",level:-1,parent_id:-1}),T.product.parent_id=null,k.push(T);let D=rr(s,V=>{var I,N;return(N=(I=V.product)==null?void 0:I.parent_id)!=null?N:-1});if(D.size>1)for(let[V,I]of D){let N=new it(new Map,new Map,{location_id:h,partner_id:c,product_id:V,year:0,export_value:0,import_value:0});N.product=new un({product_id:V,name:"Something",level:0,parent_id:-1}),k.push(N)}}k=k.concat(s),console.log(k);let M=th().id(T=>{var D;return(D=T.product)==null?void 0:D.id}).parentId(T=>{var D;return(D=T.product)==null?void 0:D.parent_id})(k);M.sum(T=>Math.max(0,T[f])),ih().tile(lh).size([E,w]).padding(2)(M),n(9,S=M.leaves())}},[f,E,w,s,l,o,d,y,v,S,u,a,h,c,g,m,b,i,r,U,G,O]}class Nl extends We{constructor(t){super(),Xe(this,t,p0,m0,Ze,{data:11})}}function v0(e){let t,n,r,i,s,l;return{c(){t=te("div"),n=te("h3"),r=ge("Loading data..."),i=he(),s=j("svg"),l=j("circle"),this.h()},l(o){t=ne(o,"DIV",{class:!0});var u=P(t);n=ne(u,"H3",{});var a=P(n);r=pe(a,"Loading data..."),a.forEach(A),i=de(u),s=$(u,"svg",{class:!0,viewBox:!0});var h=P(s);l=$(h,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0}),P(l).forEach(A),h.forEach(A),u.forEach(A),this.h()},h(){_(l,"class","path svelte-mkzvnj"),_(l,"cx","25"),_(l,"cy","25"),_(l,"r","20"),_(l,"fill","none"),_(l,"stroke-width","5"),_(s,"class","spinner svelte-mkzvnj"),_(s,"viewBox","0 0 50 50"),_(t,"class","loading svelte-mkzvnj")},m(o,u){q(o,t,u),H(t,n),H(n,r),H(t,i),H(t,s),H(s,l)},p:ye,i:ye,o:ye,d(o){o&&A(t)}}}function y0(e){var ee,L,z,Z;let t,n,r,i,s,l,o,u,a,h,c,f,d,g,y,m,b,E,w,v,S,U,G,O,B,k,M,T,D,V,I,N,W;return a=new ol({props:{optionIdentifier:Cl,labelIdentifier:Tl,items:Array.from(e[0].values()),value:e[2]}}),a.$on("select",e[9]),y=new ol({props:{optionIdentifier:Cl,labelIdentifier:Tl,items:Array.from(e[0].values()),value:e[8]}}),y.$on("select",e[10]),B=new $h({props:{data:{bilateralData:e[5],country1_id:(L=(ee=e[2])==null?void 0:ee.id)!=null?L:0,country2_id:(Z=(z=e[8])==null?void 0:z.id)!=null?Z:0,productData:e[1],locationData:e[0],countryColorScale:e[3]}}}),M=new d0({props:{data:{productData:e[1],locationData:e[0],bilateralData:e[5],loadingDrilldown:e[7],productColorScale:e[4],country1:e[2],country2:e[8],countryColorScale:e[3]}}}),V=new Nl({props:{data:{locationData:e[0],productData:e[1],productColorScale:e[4],country1:e[2],country2:e[8],drilldownBilateral:e[6],loadingDrilldown:e[7],valueField:"export_value"}}}),N=new Nl({props:{data:{locationData:e[0],productData:e[1],productColorScale:e[4],country1:e[2],country2:e[8],drilldownBilateral:e[6],loadingDrilldown:e[7],valueField:"import_value"}}}),{c(){t=te("div"),n=te("img"),i=he(),s=te("div"),l=te("span"),o=ge("Country 1"),u=he(),we(a.$$.fragment),h=he(),c=te("div"),f=te("span"),d=ge("Country 2"),g=he(),we(y.$$.fragment),m=he(),b=te("img"),w=he(),v=te("div"),S=he(),U=te("div"),G=te("div"),O=te("div"),we(B.$$.fragment),k=he(),we(M.$$.fragment),T=he(),D=te("div"),we(V.$$.fragment),I=he(),we(N.$$.fragment),this.h()},l(C){t=ne(C,"DIV",{class:!0});var K=P(t);n=ne(K,"IMG",{class:!0,src:!0}),i=de(K),s=ne(K,"DIV",{class:!0});var ue=P(s);l=ne(ue,"SPAN",{class:!0});var _e=P(l);o=pe(_e,"Country 1"),_e.forEach(A),u=de(ue),Oe(a.$$.fragment,ue),ue.forEach(A),h=de(K),c=ne(K,"DIV",{class:!0});var ce=P(c);f=ne(ce,"SPAN",{class:!0});var oe=P(f);d=pe(oe,"Country 2"),oe.forEach(A),g=de(ce),Oe(y.$$.fragment,ce),ce.forEach(A),m=de(K),b=ne(K,"IMG",{class:!0,src:!0}),K.forEach(A),w=de(C),v=ne(C,"DIV",{class:!0});var R=P(v);R.forEach(A),S=de(C),U=ne(C,"DIV",{id:!0,class:!0});var J=P(U);G=ne(J,"DIV",{id:!0,class:!0});var fe=P(G);O=ne(fe,"DIV",{class:!0});var Ie=P(O);Oe(B.$$.fragment,Ie),k=de(Ie),Oe(M.$$.fragment,Ie),Ie.forEach(A),T=de(fe),D=ne(fe,"DIV",{class:!0});var F=P(D);Oe(V.$$.fragment,F),I=de(F),Oe(N.$$.fragment,F),F.forEach(A),fe.forEach(A),J.forEach(A),this.h()},h(){var C,K,ue,_e;_(n,"class","country-icon svelte-mkzvnj"),Zt(n.src,r=en((K=(C=e[2])==null?void 0:C.code)!=null?K:"ATA"))||_(n,"src",r),_(l,"class","svelte-mkzvnj"),_(s,"class","dropdown svelte-mkzvnj"),_(f,"class","svelte-mkzvnj"),_(c,"class","dropdown svelte-mkzvnj"),_(b,"class","country-icon svelte-mkzvnj"),Zt(b.src,E=en((_e=(ue=e[8])==null?void 0:ue.code)!=null?_e:"ATA"))||_(b,"src",E),_(t,"class","selectors svelte-mkzvnj"),_(v,"class","svelte-mkzvnj"),_(O,"class","viz-row svelte-mkzvnj"),_(D,"class","viz-row svelte-mkzvnj"),_(G,"id","content"),_(G,"class","svelte-mkzvnj"),_(U,"id","container"),_(U,"class","svelte-mkzvnj")},m(C,K){q(C,t,K),H(t,n),H(t,i),H(t,s),H(s,l),H(l,o),H(s,u),be(a,s,null),H(t,h),H(t,c),H(c,f),H(f,d),H(c,g),be(y,c,null),H(t,m),H(t,b),q(C,w,K),q(C,v,K),q(C,S,K),q(C,U,K),H(U,G),H(G,O),be(B,O,null),H(O,k),be(M,O,null),H(G,T),H(G,D),be(V,D,null),H(D,I),be(N,D,null),W=!0},p(C,K){var fe,Ie,F,Y,ie,Me,Ce,X;(!W||K&4&&!Zt(n.src,r=en((Ie=(fe=C[2])==null?void 0:fe.code)!=null?Ie:"ATA")))&&_(n,"src",r);const ue={};K&1&&(ue.items=Array.from(C[0].values())),K&4&&(ue.value=C[2]),a.$set(ue);const _e={};K&1&&(_e.items=Array.from(C[0].values())),K&256&&(_e.value=C[8]),y.$set(_e),(!W||K&256&&!Zt(b.src,E=en((Y=(F=C[8])==null?void 0:F.code)!=null?Y:"ATA")))&&_(b,"src",E);const ce={};K&303&&(ce.data={bilateralData:C[5],country1_id:(Me=(ie=C[2])==null?void 0:ie.id)!=null?Me:0,country2_id:(X=(Ce=C[8])==null?void 0:Ce.id)!=null?X:0,productData:C[1],locationData:C[0],countryColorScale:C[3]}),B.$set(ce);const oe={};K&447&&(oe.data={productData:C[1],locationData:C[0],bilateralData:C[5],loadingDrilldown:C[7],productColorScale:C[4],country1:C[2],country2:C[8],countryColorScale:C[3]}),M.$set(oe);const R={};K&471&&(R.data={locationData:C[0],productData:C[1],productColorScale:C[4],country1:C[2],country2:C[8],drilldownBilateral:C[6],loadingDrilldown:C[7],valueField:"export_value"}),V.$set(R);const J={};K&471&&(J.data={locationData:C[0],productData:C[1],productColorScale:C[4],country1:C[2],country2:C[8],drilldownBilateral:C[6],loadingDrilldown:C[7],valueField:"import_value"}),N.$set(J)},i(C){W||(Q(a.$$.fragment,C),Q(y.$$.fragment,C),Q(B.$$.fragment,C),Q(M.$$.fragment,C),Q(V.$$.fragment,C),Q(N.$$.fragment,C),W=!0)},o(C){re(a.$$.fragment,C),re(y.$$.fragment,C),re(B.$$.fragment,C),re(M.$$.fragment,C),re(V.$$.fragment,C),re(N.$$.fragment,C),W=!1},d(C){C&&A(t),ke(a),ke(y),C&&A(w),C&&A(v),C&&A(S),C&&A(U),ke(B),ke(M),ke(V),ke(N)}}}function w0(e){let t,n,r,i,s,l,o,u,a,h,c,f,d;const g=[y0,v0],y=[];function m(b,E){return b[0]&&b[5]&&b[1]&&b[3]?0:1}return h=m(e),c=y[h]=g[h](e),{c(){t=te("link"),n=he(),r=te("div"),i=te("h1"),s=ge("Commerce Among Nations"),l=he(),o=te("h2"),u=ge("A Bilateral Trade Data Visualization by Andrew Lee & Franklin Yuan"),a=he(),c.c(),f=le(),this.h()},l(b){const E=co("svelte-1ivyzxx",document.head);t=ne(E,"LINK",{rel:!0,href:!0}),E.forEach(A),n=de(b),r=ne(b,"DIV",{class:!0});var w=P(r);i=ne(w,"H1",{class:!0});var v=P(i);s=pe(v,"Commerce Among Nations"),v.forEach(A),l=de(w),o=ne(w,"H2",{class:!0});var S=P(o);u=pe(S,"A Bilateral Trade Data Visualization by Andrew Lee & Franklin Yuan"),S.forEach(A),w.forEach(A),a=de(b),c.l(b),f=le(),this.h()},h(){_(t,"rel","icon"),_(t,"href",`${Vt}/favicon.png`),_(i,"class","svelte-mkzvnj"),_(o,"class","svelte-mkzvnj"),_(r,"class","heading svelte-mkzvnj")},m(b,E){H(document.head,t),q(b,n,E),q(b,r,E),H(r,i),H(i,s),H(r,l),H(r,o),H(o,u),q(b,a,E),y[h].m(b,E),q(b,f,E),d=!0},p(b,[E]){let w=h;h=m(b),h===w?y[h].p(b,E):(Ee(),re(y[w],1,1,()=>{y[w]=null}),Ne(),c=y[h],c?c.p(b,E):(c=y[h]=g[h](b),c.c()),Q(c,1),c.m(f.parentNode,f))},i(b){d||(Q(c),d=!0)},o(b){re(c),d=!1},d(b){A(t),b&&A(n),b&&A(r),b&&A(a),y[h].d(b),b&&A(f)}}}const Cl="id",Tl="name",b0=231,k0=43;function A0(e,t,n){let r,i;const s=g=>{let y=g.detail;n(2,r=a.get(y.id))},l=g=>{let y=g.detail;n(8,i=a.get(y.id))};let o,u,a=new Map,h=new Map,c,f,d=!1;return In(async()=>{Promise.all([jt(`${Vt}/data/location.csv`),jt(`${Vt}/data/hs_product.csv`),jt(`${Vt}/data/hs_2010_to_2020.csv`)]).then(([g,y,m])=>{var E;n(0,a=ni(g.map(w=>new vh(w)).filter(w=>w.level=="country"),w=>w.id)),n(1,h=ni(y.map(w=>new un(w)),w=>w.id));for(let[w,v]of h)v.parent=(E=h.get(v.parent_id))!=null?E:null,h.set(w,v);let b=m.map(w=>new it(a,h,w));n(5,c=rr(b,w=>w.location_id,w=>w.partner_id,w=>w.year)),Vl(m,w=>+w.export_value),n(3,o=Ir(a.keys(),Hi)),n(4,u=Ir(Array.from(h).map(([w,v])=>v.level).filter(w=>w=="section"),Hi))})}),e.$$.update=()=>{var g,y,m,b;e.$$.dirty&1&&n(2,r=(g=a==null?void 0:a.get(b0))!=null?g:null),e.$$.dirty&1&&n(8,i=(y=a==null?void 0:a.get(k0))!=null?y:null),e.$$.dirty&7&&(n(6,f=null),n(7,d=!0),jt(`${Vt}/data/${(m=r==null?void 0:r.code)!=null?m:"USA"}/${(b=r==null?void 0:r.code)!=null?b:"USA"}_hs2_2010_to_2020.csv`).then(E=>{n(6,f=rr(E.map(w=>new it(a,h,w)),w=>w.partner_id,w=>w.year)),n(7,d=!1)}))},[a,h,r,o,u,c,f,d,i,s,l]}class E0 extends We{constructor(t){super(),Xe(this,t,A0,w0,Ze,{})}}export{E0 as default};
