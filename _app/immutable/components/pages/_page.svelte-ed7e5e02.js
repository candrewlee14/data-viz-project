var To=Object.defineProperty;var Mo=(e,t,n)=>t in e?To(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ze=(e,t,n)=>(Mo(e,typeof t!="symbol"?t+"":t,n),n);import{S as pt,i as yt,s as vt,k as se,l as ue,m as V,h as b,n as d,b as j,B as De,I as ht,J as Z,g as Xe,t as pe,d as xe,f as ce,K as ut,L as _i,o as gr,M as ba,N as tt,e as we,O as mi,v as Je,w as Ve,x as ot,y as Be,z as Pe,q as ye,r as ve,G as O,u as Ye,A as Xn,a as Ie,c as Se,P as ne,Q as re,p as Zt,R as zr,T as jt,U as pr,V as Vt,W as No,C as Co,D as Lo,E as Do,F as Oo,X as gi,Y as Ri,Z as Fi,_ as pi,$ as ka,a0 as Ro,a1 as Hi,a2 as Fo,a3 as Ho,a4 as Vo,a5 as Bo,a6 as Ge,H as gt,a7 as lt,a8 as yi,a9 as on,aa as Po,ab as Go,ac as Uo,ad as zo,ae as Yo,af as Ln,ag as Xo}from"../../chunks/index-125f5356.js";import{b as rn}from"../../chunks/paths-6cd3a76e.js";import{w as vi}from"../../chunks/index-92639d49.js";import{f as Vi}from"../../chunks/feather-e249e621.js";function xn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ea(e){let t,n,r;e.length!==2?(t=xn,n=(o,s)=>xn(e(o),s),r=(o,s)=>e(o)-s):(t=e===xn||e===xo?e:Wo,n=e,r=e);function i(o,s,u=0,f=o.length){if(u<f){if(t(s,s)!==0)return f;do{const h=u+f>>>1;n(o[h],s)<0?u=h+1:f=h}while(u<f)}return u}function a(o,s,u=0,f=o.length){if(u<f){if(t(s,s)!==0)return f;do{const h=u+f>>>1;n(o[h],s)<=0?u=h+1:f=h}while(u<f)}return u}function l(o,s,u=0,f=o.length){const h=i(o,s,u,f-1);return h>u&&r(o[h-1],s)>-r(o[h],s)?h-1:h}return{left:i,center:l,right:a}}function Wo(){return 0}function Ko(e){return e===null?NaN:+e}const qo=Ea(xn),jo=qo.right;Ea(Ko).center;const Zo=jo;function Aa(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Yr extends Map{constructor(t,n=$o){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Bi(this,t))}has(t){return super.has(Bi(this,t))}set(t,n){return super.set(Jo(this,t),n)}delete(t){return super.delete(Qo(this,t))}}function Bi({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Jo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Qo({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function $o(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Qn(e){return e}function Xr(e,...t){return wi(e,Qn,Qn,t)}function xr(e,t,...n){return wi(e,Qn,t,n)}function Pi(e,...t){return wi(e,Qn,es,t)}function es(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function wi(e,t,n,r){return function i(a,l){if(l>=r.length)return n(a);const o=new Yr,s=r[l++];let u=-1;for(const f of a){const h=s(f,++u,a),c=o.get(h);c?c.push(f):o.set(h,[f])}for(const[f,h]of o)o.set(f,i(h,l));return t(o)}(e,0)}var Wr=Math.sqrt(50),Kr=Math.sqrt(10),qr=Math.sqrt(2);function ts(e,t,n){var r,i=-1,a,l,o;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),(o=Ia(e,t,n))===0||!isFinite(o))return[];if(o>0){let s=Math.round(e/o),u=Math.round(t/o);for(s*o<e&&++s,u*o>t&&--u,l=new Array(a=u-s+1);++i<a;)l[i]=(s+i)*o}else{o=-o;let s=Math.round(e*o),u=Math.round(t*o);for(s/o<e&&++s,u/o>t&&--u,l=new Array(a=u-s+1);++i<a;)l[i]=(s+i)/o}return r&&l.reverse(),l}function Ia(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Wr?10:a>=Kr?5:a>=qr?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Wr?10:a>=Kr?5:a>=qr?2:1)}function ns(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Wr?i*=10:a>=Kr?i*=5:a>=qr&&(i*=2),t<e?-i:i}function wn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Gi(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function $n(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function rs(e){return e}var Sr=1,Wn=2,jr=3,pn=4,Ui=1e-6;function is(e){return"translate("+e+",0)"}function ls(e){return"translate(0,"+e+")"}function as(e){return t=>+e(t)}function os(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function ss(){return!this.__axis}function bi(e,t){var n=[],r=null,i=null,a=6,l=6,o=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Sr||e===pn?-1:1,f=e===pn||e===Wn?"x":"y",h=e===Sr||e===jr?is:ls;function c(_){var y=r==null?t.ticks?t.ticks.apply(t,n):t.domain():r,w=i==null?t.tickFormat?t.tickFormat.apply(t,n):rs:i,g=Math.max(a,0)+o,k=t.range(),S=+k[0]+s,v=+k[k.length-1]+s,m=(t.bandwidth?os:as)(t.copy(),s),A=_.selection?_.selection():_,z=A.selectAll(".domain").data([null]),Y=A.selectAll(".tick").data(y,t).order(),I=Y.exit(),B=Y.enter().append("g").attr("class","tick"),N=Y.select("line"),L=Y.select("text");z=z.merge(z.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Y=Y.merge(B),N=N.merge(B.append("line").attr("stroke","currentColor").attr(f+"2",u*a)),L=L.merge(B.append("text").attr("fill","currentColor").attr(f,u*g).attr("dy",e===Sr?"0em":e===jr?"0.71em":"0.32em")),_!==A&&(z=z.transition(_),Y=Y.transition(_),N=N.transition(_),L=L.transition(_),I=I.transition(_).attr("opacity",Ui).attr("transform",function(W){return isFinite(W=m(W))?h(W+s):this.getAttribute("transform")}),B.attr("opacity",Ui).attr("transform",function(W){var P=this.parentNode.__axis;return h((P&&isFinite(P=P(W))?P:m(W))+s)})),I.remove(),z.attr("d",e===pn||e===Wn?l?"M"+u*l+","+S+"H"+s+"V"+v+"H"+u*l:"M"+s+","+S+"V"+v:l?"M"+S+","+u*l+"V"+s+"H"+v+"V"+u*l:"M"+S+","+s+"H"+v),Y.attr("opacity",1).attr("transform",function(W){return h(m(W)+s)}),N.attr(f+"2",u*a),L.attr(f,u*g).text(w),A.filter(ss).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Wn?"start":e===pn?"end":"middle"),A.each(function(){this.__axis=m})}return c.scale=function(_){return arguments.length?(t=_,c):t},c.ticks=function(){return n=Array.from(arguments),c},c.tickArguments=function(_){return arguments.length?(n=_==null?[]:Array.from(_),c):n.slice()},c.tickValues=function(_){return arguments.length?(r=_==null?null:Array.from(_),c):r&&r.slice()},c.tickFormat=function(_){return arguments.length?(i=_,c):i},c.tickSize=function(_){return arguments.length?(a=l=+_,c):a},c.tickSizeInner=function(_){return arguments.length?(a=+_,c):a},c.tickSizeOuter=function(_){return arguments.length?(l=+_,c):l},c.tickPadding=function(_){return arguments.length?(o=+_,c):o},c.offset=function(_){return arguments.length?(s=+_,c):s},c}function us(e){return bi(Wn,e)}function Sa(e){return bi(jr,e)}function fs(e){return bi(pn,e)}var cs={value:()=>{}};function ki(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Kn(n)}function Kn(e){this._=e}function hs(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Kn.prototype=ki.prototype={constructor:Kn,on:function(e,t){var n=this._,r=hs(e+"",n),i,a=-1,l=r.length;if(arguments.length<2){for(;++a<l;)if((i=(e=r[a]).type)&&(i=ds(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<l;)if(i=(e=r[a]).type)n[i]=zi(n[i],e.name,t);else if(t==null)for(i in n)n[i]=zi(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Kn(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function ds(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function zi(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=cs,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Zr="http://www.w3.org/1999/xhtml";const Yi={svg:"http://www.w3.org/2000/svg",xhtml:Zr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Yi.hasOwnProperty(t)?{space:Yi[t],local:e}:e}function _s(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Zr&&t.documentElement.namespaceURI===Zr?t.createElement(e):t.createElementNS(n,e)}}function ms(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ta(e){var t=yr(e);return(t.local?ms:_s)(t)}function gs(){}function Ei(e){return e==null?gs:function(){return this.querySelector(e)}}function ps(e){typeof e!="function"&&(e=Ei(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],l=a.length,o=r[i]=new Array(l),s,u,f=0;f<l;++f)(s=a[f])&&(u=e.call(s,s.__data__,f,a))&&("__data__"in s&&(u.__data__=s.__data__),o[f]=u);return new st(r,this._parents)}function ys(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function vs(){return[]}function Ma(e){return e==null?vs:function(){return this.querySelectorAll(e)}}function ws(e){return function(){return ys(e.apply(this,arguments))}}function bs(e){typeof e=="function"?e=ws(e):e=Ma(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var l=t[a],o=l.length,s,u=0;u<o;++u)(s=l[u])&&(r.push(e.call(s,s.__data__,u,l)),i.push(s));return new st(r,i)}function Na(e){return function(){return this.matches(e)}}function Ca(e){return function(t){return t.matches(e)}}var ks=Array.prototype.find;function Es(e){return function(){return ks.call(this.children,e)}}function As(){return this.firstElementChild}function Is(e){return this.select(e==null?As:Es(typeof e=="function"?e:Ca(e)))}var Ss=Array.prototype.filter;function Ts(){return Array.from(this.children)}function Ms(e){return function(){return Ss.call(this.children,e)}}function Ns(e){return this.selectAll(e==null?Ts:Ms(typeof e=="function"?e:Ca(e)))}function Cs(e){typeof e!="function"&&(e=Na(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],l=a.length,o=r[i]=[],s,u=0;u<l;++u)(s=a[u])&&e.call(s,s.__data__,u,a)&&o.push(s);return new st(r,this._parents)}function La(e){return new Array(e.length)}function Ls(){return new st(this._enter||this._groups.map(La),this._parents)}function er(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}er.prototype={constructor:er,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ds(e){return function(){return e}}function Os(e,t,n,r,i,a){for(var l=0,o,s=t.length,u=a.length;l<u;++l)(o=t[l])?(o.__data__=a[l],r[l]=o):n[l]=new er(e,a[l]);for(;l<s;++l)(o=t[l])&&(i[l]=o)}function Rs(e,t,n,r,i,a,l){var o,s,u=new Map,f=t.length,h=a.length,c=new Array(f),_;for(o=0;o<f;++o)(s=t[o])&&(c[o]=_=l.call(s,s.__data__,o,t)+"",u.has(_)?i[o]=s:u.set(_,s));for(o=0;o<h;++o)_=l.call(e,a[o],o,a)+"",(s=u.get(_))?(r[o]=s,s.__data__=a[o],u.delete(_)):n[o]=new er(e,a[o]);for(o=0;o<f;++o)(s=t[o])&&u.get(c[o])===s&&(i[o]=s)}function Fs(e){return e.__data__}function Hs(e,t){if(!arguments.length)return Array.from(this,Fs);var n=t?Rs:Os,r=this._parents,i=this._groups;typeof e!="function"&&(e=Ds(e));for(var a=i.length,l=new Array(a),o=new Array(a),s=new Array(a),u=0;u<a;++u){var f=r[u],h=i[u],c=h.length,_=Vs(e.call(f,f&&f.__data__,u,r)),y=_.length,w=o[u]=new Array(y),g=l[u]=new Array(y),k=s[u]=new Array(c);n(f,h,w,g,k,_,t);for(var S=0,v=0,m,A;S<y;++S)if(m=w[S]){for(S>=v&&(v=S+1);!(A=g[v])&&++v<y;);m._next=A||null}}return l=new st(l,r),l._enter=o,l._exit=s,l}function Vs(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Bs(){return new st(this._exit||this._groups.map(La),this._parents)}function Ps(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function Gs(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,l=Math.min(i,a),o=new Array(i),s=0;s<l;++s)for(var u=n[s],f=r[s],h=u.length,c=o[s]=new Array(h),_,y=0;y<h;++y)(_=u[y]||f[y])&&(c[y]=_);for(;s<i;++s)o[s]=n[s];return new st(o,this._parents)}function Us(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],l;--i>=0;)(l=r[i])&&(a&&l.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(l,a),a=l);return this}function zs(e){e||(e=Ys);function t(h,c){return h&&c?e(h.__data__,c.__data__):!h-!c}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var l=n[a],o=l.length,s=i[a]=new Array(o),u,f=0;f<o;++f)(u=l[f])&&(s[f]=u);s.sort(t)}return new st(i,this._parents).order()}function Ys(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Xs(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function xs(){return Array.from(this)}function Ws(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var l=r[i];if(l)return l}return null}function Ks(){let e=0;for(const t of this)++e;return e}function qs(){return!this.node()}function js(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,l=i.length,o;a<l;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this}function Zs(e){return function(){this.removeAttribute(e)}}function Js(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Qs(e,t){return function(){this.setAttribute(e,t)}}function $s(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function eu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function tu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function nu(e,t){var n=yr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Js:Zs:typeof t=="function"?n.local?tu:eu:n.local?$s:Qs)(n,t))}function Da(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ru(e){return function(){this.style.removeProperty(e)}}function iu(e,t,n){return function(){this.style.setProperty(e,t,n)}}function lu(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function au(e,t,n){return arguments.length>1?this.each((t==null?ru:typeof t=="function"?lu:iu)(e,t,n==null?"":n)):un(this.node(),e)}function un(e,t){return e.style.getPropertyValue(t)||Da(e).getComputedStyle(e,null).getPropertyValue(t)}function ou(e){return function(){delete this[e]}}function su(e,t){return function(){this[e]=t}}function uu(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function fu(e,t){return arguments.length>1?this.each((t==null?ou:typeof t=="function"?uu:su)(e,t)):this.node()[e]}function Oa(e){return e.trim().split(/^|\s+/)}function Ai(e){return e.classList||new Ra(e)}function Ra(e){this._node=e,this._names=Oa(e.getAttribute("class")||"")}Ra.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Fa(e,t){for(var n=Ai(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Ha(e,t){for(var n=Ai(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function cu(e){return function(){Fa(this,e)}}function hu(e){return function(){Ha(this,e)}}function du(e,t){return function(){(t.apply(this,arguments)?Fa:Ha)(this,e)}}function _u(e,t){var n=Oa(e+"");if(arguments.length<2){for(var r=Ai(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?du:t?cu:hu)(n,t))}function mu(){this.textContent=""}function gu(e){return function(){this.textContent=e}}function pu(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function yu(e){return arguments.length?this.each(e==null?mu:(typeof e=="function"?pu:gu)(e)):this.node().textContent}function vu(){this.innerHTML=""}function wu(e){return function(){this.innerHTML=e}}function bu(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function ku(e){return arguments.length?this.each(e==null?vu:(typeof e=="function"?bu:wu)(e)):this.node().innerHTML}function Eu(){this.nextSibling&&this.parentNode.appendChild(this)}function Au(){return this.each(Eu)}function Iu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Su(){return this.each(Iu)}function Tu(e){var t=typeof e=="function"?e:Ta(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Mu(){return null}function Nu(e,t){var n=typeof e=="function"?e:Ta(e),r=t==null?Mu:typeof t=="function"?t:Ei(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Cu(){var e=this.parentNode;e&&e.removeChild(this)}function Lu(){return this.each(Cu)}function Du(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ou(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ru(e){return this.select(e?Ou:Du)}function Fu(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Hu(e){return function(t){e.call(this,t,this.__data__)}}function Vu(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Bu(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function Pu(e,t,n){return function(){var r=this.__on,i,a=Hu(t);if(r){for(var l=0,o=r.length;l<o;++l)if((i=r[l]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Gu(e,t,n){var r=Vu(e+""),i,a=r.length,l;if(arguments.length<2){var o=this.node().__on;if(o){for(var s=0,u=o.length,f;s<u;++s)for(i=0,f=o[s];i<a;++i)if((l=r[i]).type===f.type&&l.name===f.name)return f.value}return}for(o=t?Pu:Bu,i=0;i<a;++i)this.each(o(r[i],t,n));return this}function Va(e,t,n){var r=Da(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Uu(e,t){return function(){return Va(this,e,t)}}function zu(e,t){return function(){return Va(this,e,t.apply(this,arguments))}}function Yu(e,t){return this.each((typeof t=="function"?zu:Uu)(e,t))}function*Xu(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,l;i<a;++i)(l=r[i])&&(yield l)}var Ba=[null];function st(e,t){this._groups=e,this._parents=t}function Mn(){return new st([[document.documentElement]],Ba)}function xu(){return this}st.prototype=Mn.prototype={constructor:st,select:ps,selectAll:bs,selectChild:Is,selectChildren:Ns,filter:Cs,data:Hs,enter:Ls,exit:Bs,join:Ps,merge:Gs,selection:xu,order:Us,sort:zs,call:Xs,nodes:xs,node:Ws,size:Ks,empty:qs,each:js,attr:nu,style:au,property:fu,classed:_u,text:yu,html:ku,raise:Au,lower:Su,append:Tu,insert:Nu,remove:Lu,clone:Ru,datum:Fu,on:Gu,dispatch:Yu,[Symbol.iterator]:Xu};function ke(e){return typeof e=="string"?new st([[document.querySelector(e)]],[document.documentElement]):new st([[e]],Ba)}function Wu(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Xi(e,t){if(e=Wu(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const Jr={capture:!0,passive:!1};function Qr(e){e.preventDefault(),e.stopImmediatePropagation()}function Ku(e){var t=e.document.documentElement,n=ke(e).on("dragstart.drag",Qr,Jr);"onselectstart"in t?n.on("selectstart.drag",Qr,Jr):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function qu(e,t){var n=e.document.documentElement,r=ke(e).on("dragstart.drag",null);t&&(r.on("click.drag",Qr,Jr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ii(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Pa(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Nn(){}var An=.7,tr=1/An,sn="\\s*([+-]?\\d+)\\s*",In="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",At="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ju=/^#([0-9a-f]{3,8})$/,Zu=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),Ju=new RegExp(`^rgb\\(${At},${At},${At}\\)$`),Qu=new RegExp(`^rgba\\(${sn},${sn},${sn},${In}\\)$`),$u=new RegExp(`^rgba\\(${At},${At},${At},${In}\\)$`),ef=new RegExp(`^hsl\\(${In},${At},${At}\\)$`),tf=new RegExp(`^hsla\\(${In},${At},${At},${In}\\)$`),xi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ii(Nn,Wt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Wi,formatHex:Wi,formatHex8:nf,formatHsl:rf,formatRgb:Ki,toString:Ki});function Wi(){return this.rgb().formatHex()}function nf(){return this.rgb().formatHex8()}function rf(){return Ga(this).formatHsl()}function Ki(){return this.rgb().formatRgb()}function Wt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ju.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?qi(t):n===3?new at(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Dn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Dn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Zu.exec(e))?new at(t[1],t[2],t[3],1):(t=Ju.exec(e))?new at(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Qu.exec(e))?Dn(t[1],t[2],t[3],t[4]):(t=$u.exec(e))?Dn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ef.exec(e))?Ji(t[1],t[2]/100,t[3]/100,1):(t=tf.exec(e))?Ji(t[1],t[2]/100,t[3]/100,t[4]):xi.hasOwnProperty(e)?qi(xi[e]):e==="transparent"?new at(NaN,NaN,NaN,0):null}function qi(e){return new at(e>>16&255,e>>8&255,e&255,1)}function Dn(e,t,n,r){return r<=0&&(e=t=n=NaN),new at(e,t,n,r)}function lf(e){return e instanceof Nn||(e=Wt(e)),e?(e=e.rgb(),new at(e.r,e.g,e.b,e.opacity)):new at}function $r(e,t,n,r){return arguments.length===1?lf(e):new at(e,t,n,r==null?1:r)}function at(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ii(at,$r,Pa(Nn,{brighter(e){return e=e==null?tr:Math.pow(tr,e),new at(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?An:Math.pow(An,e),new at(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new at(xt(this.r),xt(this.g),xt(this.b),nr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ji,formatHex:ji,formatHex8:af,formatRgb:Zi,toString:Zi}));function ji(){return`#${Yt(this.r)}${Yt(this.g)}${Yt(this.b)}`}function af(){return`#${Yt(this.r)}${Yt(this.g)}${Yt(this.b)}${Yt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zi(){const e=nr(this.opacity);return`${e===1?"rgb(":"rgba("}${xt(this.r)}, ${xt(this.g)}, ${xt(this.b)}${e===1?")":`, ${e})`}`}function nr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yt(e){return e=xt(e),(e<16?"0":"")+e.toString(16)}function Ji(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mt(e,t,n,r)}function Ga(e){if(e instanceof mt)return new mt(e.h,e.s,e.l,e.opacity);if(e instanceof Nn||(e=Wt(e)),!e)return new mt;if(e instanceof mt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),l=NaN,o=a-i,s=(a+i)/2;return o?(t===a?l=(n-r)/o+(n<r)*6:n===a?l=(r-t)/o+2:l=(t-n)/o+4,o/=s<.5?a+i:2-a-i,l*=60):o=s>0&&s<1?0:l,new mt(l,o,s,e.opacity)}function of(e,t,n,r){return arguments.length===1?Ga(e):new mt(e,t,n,r==null?1:r)}function mt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ii(mt,of,Pa(Nn,{brighter(e){return e=e==null?tr:Math.pow(tr,e),new mt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?An:Math.pow(An,e),new mt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new at(Tr(e>=240?e-240:e+120,i,r),Tr(e,i,r),Tr(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new mt(Qi(this.h),On(this.s),On(this.l),nr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nr(this.opacity);return`${e===1?"hsl(":"hsla("}${Qi(this.h)}, ${On(this.s)*100}%, ${On(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Qi(e){return e=(e||0)%360,e<0?e+360:e}function On(e){return Math.max(0,Math.min(1,e||0))}function Tr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Si=e=>()=>e;function sf(e,t){return function(n){return e+n*t}}function uf(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ff(e){return(e=+e)==1?Ua:function(t,n){return n-t?uf(t,n,e):Si(isNaN(t)?n:t)}}function Ua(e,t){var n=t-e;return n?sf(e,n):Si(isNaN(e)?t:e)}const rr=function e(t){var n=ff(t);function r(i,a){var l=n((i=$r(i)).r,(a=$r(a)).r),o=n(i.g,a.g),s=n(i.b,a.b),u=Ua(i.opacity,a.opacity);return function(f){return i.r=l(f),i.g=o(f),i.b=s(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function cf(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function hf(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function df(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=vr(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(o){for(l=0;l<r;++l)a[l]=i[l](o);return a}}function _f(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function _t(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function mf(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=vr(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var ei=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mr=new RegExp(ei.source,"g");function gf(e){return function(){return e}}function pf(e){return function(t){return e(t)+""}}function za(e,t){var n=ei.lastIndex=Mr.lastIndex=0,r,i,a,l=-1,o=[],s=[];for(e=e+"",t=t+"";(r=ei.exec(e))&&(i=Mr.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[l]?o[l]+=a:o[++l]=a),(r=r[0])===(i=i[0])?o[l]?o[l]+=i:o[++l]=i:(o[++l]=null,s.push({i:l,x:_t(r,i)})),n=Mr.lastIndex;return n<t.length&&(a=t.slice(n),o[l]?o[l]+=a:o[++l]=a),o.length<2?s[0]?pf(s[0].x):gf(t):(t=s.length,function(u){for(var f=0,h;f<t;++f)o[(h=s[f]).i]=h.x(u);return o.join("")})}function vr(e,t){var n=typeof t,r;return t==null||n==="boolean"?Si(t):(n==="number"?_t:n==="string"?(r=Wt(t))?(t=r,rr):za:t instanceof Wt?rr:t instanceof Date?_f:hf(t)?cf:Array.isArray(t)?df:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?mf:_t)(e,t)}function yf(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var $i=180/Math.PI,ti={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ya(e,t,n,r,i,a){var l,o,s;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,s/=o),e*r<t*n&&(e=-e,t=-t,s=-s,l=-l),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*$i,skewX:Math.atan(s)*$i,scaleX:l,scaleY:o}}var Rn;function vf(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ti:Ya(t.a,t.b,t.c,t.d,t.e,t.f)}function wf(e){return e==null||(Rn||(Rn=document.createElementNS("http://www.w3.org/2000/svg","g")),Rn.setAttribute("transform",e),!(e=Rn.transform.baseVal.consolidate()))?ti:(e=e.matrix,Ya(e.a,e.b,e.c,e.d,e.e,e.f))}function Xa(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,f,h,c,_,y){if(u!==h||f!==c){var w=_.push("translate(",null,t,null,n);y.push({i:w-4,x:_t(u,h)},{i:w-2,x:_t(f,c)})}else(h||c)&&_.push("translate("+h+t+c+n)}function l(u,f,h,c){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),c.push({i:h.push(i(h)+"rotate(",null,r)-2,x:_t(u,f)})):f&&h.push(i(h)+"rotate("+f+r)}function o(u,f,h,c){u!==f?c.push({i:h.push(i(h)+"skewX(",null,r)-2,x:_t(u,f)}):f&&h.push(i(h)+"skewX("+f+r)}function s(u,f,h,c,_,y){if(u!==h||f!==c){var w=_.push(i(_)+"scale(",null,",",null,")");y.push({i:w-4,x:_t(u,h)},{i:w-2,x:_t(f,c)})}else(h!==1||c!==1)&&_.push(i(_)+"scale("+h+","+c+")")}return function(u,f){var h=[],c=[];return u=e(u),f=e(f),a(u.translateX,u.translateY,f.translateX,f.translateY,h,c),l(u.rotate,f.rotate,h,c),o(u.skewX,f.skewX,h,c),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,c),u=f=null,function(_){for(var y=-1,w=c.length,g;++y<w;)h[(g=c[y]).i]=g.x(_);return h.join("")}}}var bf=Xa(vf,"px, ","px)","deg)"),kf=Xa(wf,", ",")",")"),fn=0,yn=0,hn=0,xa=1e3,ir,vn,lr=0,Kt=0,wr=0,Sn=typeof performance=="object"&&performance.now?performance:Date,Wa=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ti(){return Kt||(Wa(Ef),Kt=Sn.now()+wr)}function Ef(){Kt=0}function ar(){this._call=this._time=this._next=null}ar.prototype=Ka.prototype={constructor:ar,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ti():+n)+(t==null?0:+t),!this._next&&vn!==this&&(vn?vn._next=this:ir=this,vn=this),this._call=e,this._time=n,ni()},stop:function(){this._call&&(this._call=null,this._time=1/0,ni())}};function Ka(e,t,n){var r=new ar;return r.restart(e,t,n),r}function Af(){Ti(),++fn;for(var e=ir,t;e;)(t=Kt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--fn}function el(){Kt=(lr=Sn.now())+wr,fn=yn=0;try{Af()}finally{fn=0,Sf(),Kt=0}}function If(){var e=Sn.now(),t=e-lr;t>xa&&(wr-=t,lr=e)}function Sf(){for(var e,t=ir,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ir=n);vn=e,ni(r)}function ni(e){if(!fn){yn&&(yn=clearTimeout(yn));var t=e-Kt;t>24?(e<1/0&&(yn=setTimeout(el,e-Sn.now()-wr)),hn&&(hn=clearInterval(hn))):(hn||(lr=Sn.now(),hn=setInterval(If,xa)),fn=1,Wa(el))}}function tl(e,t,n){var r=new ar;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Tf=ki("start","end","cancel","interrupt"),Mf=[],qa=0,nl=1,ri=2,qn=3,rl=4,ii=5,jn=6;function br(e,t,n,r,i,a){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;Nf(e,n,{name:t,index:r,group:i,on:Tf,tween:Mf,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:qa})}function Mi(e,t){var n=wt(e,t);if(n.state>qa)throw new Error("too late; already scheduled");return n}function It(e,t){var n=wt(e,t);if(n.state>qn)throw new Error("too late; already running");return n}function wt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Nf(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Ka(a,0,n.time);function a(u){n.state=nl,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,h,c,_;if(n.state!==nl)return s();for(f in r)if(_=r[f],_.name===n.name){if(_.state===qn)return tl(l);_.state===rl?(_.state=jn,_.timer.stop(),_.on.call("interrupt",e,e.__data__,_.index,_.group),delete r[f]):+f<t&&(_.state=jn,_.timer.stop(),_.on.call("cancel",e,e.__data__,_.index,_.group),delete r[f])}if(tl(function(){n.state===qn&&(n.state=rl,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=ri,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ri){for(n.state=qn,i=new Array(c=n.tween.length),f=0,h=-1;f<c;++f)(_=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=_);i.length=h+1}}function o(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=ii,1),h=-1,c=i.length;++h<c;)i[h].call(e,f);n.state===ii&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=jn,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function li(e,t){var n=e.__transition,r,i,a=!0,l;if(!!n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){a=!1;continue}i=r.state>ri&&r.state<ii,r.state=jn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}a&&delete e.__transition}}function Cf(e){return this.each(function(){li(this,e)})}function Lf(e,t){var n,r;return function(){var i=It(this,e),a=i.tween;if(a!==n){r=n=a;for(var l=0,o=r.length;l<o;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function Df(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=It(this,e),l=a.tween;if(l!==r){i=(r=l).slice();for(var o={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=o;break}s===u&&i.push(o)}a.tween=i}}function Of(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=wt(this.node(),n).tween,i=0,a=r.length,l;i<a;++i)if((l=r[i]).name===e)return l.value;return null}return this.each((t==null?Lf:Df)(n,e,t))}function Ni(e,t,n){var r=e._id;return e.each(function(){var i=It(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return wt(i,r).value[t]}}function ja(e,t){var n;return(typeof t=="number"?_t:t instanceof Wt?rr:(n=Wt(t))?(t=n,rr):za)(e,t)}function Rf(e){return function(){this.removeAttribute(e)}}function Ff(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Hf(e,t,n){var r,i=n+"",a;return function(){var l=this.getAttribute(e);return l===i?null:l===r?a:a=t(r=l,n)}}function Vf(e,t,n){var r,i=n+"",a;return function(){var l=this.getAttributeNS(e.space,e.local);return l===i?null:l===r?a:a=t(r=l,n)}}function Bf(e,t,n){var r,i,a;return function(){var l,o=n(this),s;return o==null?void this.removeAttribute(e):(l=this.getAttribute(e),s=o+"",l===s?null:l===r&&s===i?a:(i=s,a=t(r=l,o)))}}function Pf(e,t,n){var r,i,a;return function(){var l,o=n(this),s;return o==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),s=o+"",l===s?null:l===r&&s===i?a:(i=s,a=t(r=l,o)))}}function Gf(e,t){var n=yr(e),r=n==="transform"?kf:ja;return this.attrTween(e,typeof t=="function"?(n.local?Pf:Bf)(n,r,Ni(this,"attr."+e,t)):t==null?(n.local?Ff:Rf)(n):(n.local?Vf:Hf)(n,r,t))}function Uf(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function zf(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Yf(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&zf(e,a)),n}return i._value=t,i}function Xf(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&Uf(e,a)),n}return i._value=t,i}function xf(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=yr(e);return this.tween(n,(r.local?Yf:Xf)(r,t))}function Wf(e,t){return function(){Mi(this,e).delay=+t.apply(this,arguments)}}function Kf(e,t){return t=+t,function(){Mi(this,e).delay=t}}function qf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Wf:Kf)(t,e)):wt(this.node(),t).delay}function jf(e,t){return function(){It(this,e).duration=+t.apply(this,arguments)}}function Zf(e,t){return t=+t,function(){It(this,e).duration=t}}function Jf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?jf:Zf)(t,e)):wt(this.node(),t).duration}function Qf(e,t){if(typeof t!="function")throw new Error;return function(){It(this,e).ease=t}}function $f(e){var t=this._id;return arguments.length?this.each(Qf(t,e)):wt(this.node(),t).ease}function ec(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;It(this,e).ease=n}}function tc(e){if(typeof e!="function")throw new Error;return this.each(ec(this._id,e))}function nc(e){typeof e!="function"&&(e=Na(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],l=a.length,o=r[i]=[],s,u=0;u<l;++u)(s=a[u])&&e.call(s,s.__data__,u,a)&&o.push(s);return new Ot(r,this._parents,this._name,this._id)}function rc(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),l=new Array(r),o=0;o<a;++o)for(var s=t[o],u=n[o],f=s.length,h=l[o]=new Array(f),c,_=0;_<f;++_)(c=s[_]||u[_])&&(h[_]=c);for(;o<r;++o)l[o]=t[o];return new Ot(l,this._parents,this._name,this._id)}function ic(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function lc(e,t,n){var r,i,a=ic(t)?Mi:It;return function(){var l=a(this,e),o=l.on;o!==r&&(i=(r=o).copy()).on(t,n),l.on=i}}function ac(e,t){var n=this._id;return arguments.length<2?wt(this.node(),n).on.on(e):this.each(lc(n,e,t))}function oc(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function sc(){return this.on("end.remove",oc(this._id))}function uc(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ei(e));for(var r=this._groups,i=r.length,a=new Array(i),l=0;l<i;++l)for(var o=r[l],s=o.length,u=a[l]=new Array(s),f,h,c=0;c<s;++c)(f=o[c])&&(h=e.call(f,f.__data__,c,o))&&("__data__"in f&&(h.__data__=f.__data__),u[c]=h,br(u[c],t,n,c,u,wt(f,n)));return new Ot(a,this._parents,t,n)}function fc(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ma(e));for(var r=this._groups,i=r.length,a=[],l=[],o=0;o<i;++o)for(var s=r[o],u=s.length,f,h=0;h<u;++h)if(f=s[h]){for(var c=e.call(f,f.__data__,h,s),_,y=wt(f,n),w=0,g=c.length;w<g;++w)(_=c[w])&&br(_,t,n,w,c,y);a.push(c),l.push(f)}return new Ot(a,l,t,n)}var cc=Mn.prototype.constructor;function hc(){return new cc(this._groups,this._parents)}function dc(e,t){var n,r,i;return function(){var a=un(this,e),l=(this.style.removeProperty(e),un(this,e));return a===l?null:a===n&&l===r?i:i=t(n=a,r=l)}}function Za(e){return function(){this.style.removeProperty(e)}}function _c(e,t,n){var r,i=n+"",a;return function(){var l=un(this,e);return l===i?null:l===r?a:a=t(r=l,n)}}function mc(e,t,n){var r,i,a;return function(){var l=un(this,e),o=n(this),s=o+"";return o==null&&(s=o=(this.style.removeProperty(e),un(this,e))),l===s?null:l===r&&s===i?a:(i=s,a=t(r=l,o))}}function gc(e,t){var n,r,i,a="style."+t,l="end."+a,o;return function(){var s=It(this,e),u=s.on,f=s.value[a]==null?o||(o=Za(t)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(l,i=f),s.on=r}}function pc(e,t,n){var r=(e+="")=="transform"?bf:ja;return t==null?this.styleTween(e,dc(e,r)).on("end.style."+e,Za(e)):typeof t=="function"?this.styleTween(e,mc(e,r,Ni(this,"style."+e,t))).each(gc(this._id,e)):this.styleTween(e,_c(e,r,t),n).on("end.style."+e,null)}function yc(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function vc(e,t,n){var r,i;function a(){var l=t.apply(this,arguments);return l!==i&&(r=(i=l)&&yc(e,l,n)),r}return a._value=t,a}function wc(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,vc(e,t,n==null?"":n))}function bc(e){return function(){this.textContent=e}}function kc(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Ec(e){return this.tween("text",typeof e=="function"?kc(Ni(this,"text",e)):bc(e==null?"":e+""))}function Ac(e){return function(t){this.textContent=e.call(this,t)}}function Ic(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Ac(i)),t}return r._value=e,r}function Sc(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ic(e))}function Tc(){for(var e=this._name,t=this._id,n=Ja(),r=this._groups,i=r.length,a=0;a<i;++a)for(var l=r[a],o=l.length,s,u=0;u<o;++u)if(s=l[u]){var f=wt(s,t);br(s,e,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ot(r,this._parents,e,n)}function Mc(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,l){var o={value:l},s={value:function(){--i===0&&a()}};n.each(function(){var u=It(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(s)),u.on=t}),i===0&&a()})}var Nc=0;function Ot(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Ja(){return++Nc}var Tt=Mn.prototype;Ot.prototype={constructor:Ot,select:uc,selectAll:fc,selectChild:Tt.selectChild,selectChildren:Tt.selectChildren,filter:nc,merge:rc,selection:hc,transition:Tc,call:Tt.call,nodes:Tt.nodes,node:Tt.node,size:Tt.size,empty:Tt.empty,each:Tt.each,on:ac,attr:Gf,attrTween:xf,style:pc,styleTween:wc,text:Ec,textTween:Sc,remove:sc,tween:Of,delay:qf,duration:Jf,ease:$f,easeVarying:tc,end:Mc,[Symbol.iterator]:Tt[Symbol.iterator]};function Cc(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Lc={time:null,delay:0,duration:250,ease:Cc};function Dc(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Oc(e){var t,n;e instanceof Ot?(t=e._id,e=e._name):(t=Ja(),(n=Lc).time=Ti(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var l=r[a],o=l.length,s,u=0;u<o;++u)(s=l[u])&&br(s,e,t,u,l,n||Dc(s,t));return new Ot(r,this._parents,e,t)}Mn.prototype.interrupt=Cf;Mn.prototype.transition=Oc;const Nr=e=>()=>e;function Rc(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Fc(e){e.stopImmediatePropagation()}function Cr(e){e.preventDefault(),e.stopImmediatePropagation()}var il={name:"drag"},Lr={name:"space"},Jt={name:"handle"},Qt={name:"center"};const{abs:ll,max:qe,min:je}=Math;function al(e){return[+e[0],+e[1]]}function ol(e){return[al(e[0]),al(e[1])]}var Zn={name:"x",handles:["w","e"].map(or),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Dr={name:"y",handles:["n","s"].map(or),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Mt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},sl={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ul={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Hc={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Vc={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function or(e){return{type:e}}function Bc(e){return!e.ctrlKey&&!e.button}function Pc(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Gc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Or(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Uc(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function zc(){return Yc(Zn)}function Yc(e){var t=Pc,n=Bc,r=Gc,i=!0,a=ki("start","brush","end"),l=6,o;function s(g){var k=g.property("__brush",w).selectAll(".overlay").data([or("overlay")]);k.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Mt.overlay).merge(k).each(function(){var v=Or(this).extent;ke(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),g.selectAll(".selection").data([or("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Mt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var S=g.selectAll(".handle").data(e.handles,function(v){return v.type});S.exit().remove(),S.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return Mt[v.type]}),g.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",c).filter(r).on("touchstart.brush",c).on("touchmove.brush",_).on("touchend.brush touchcancel.brush",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}s.move=function(g,k,S){g.tween?g.on("start.brush",function(v){f(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){f(this,arguments).end(v)}).tween("brush",function(){var v=this,m=v.__brush,A=f(v,arguments),z=m.selection,Y=e.input(typeof k=="function"?k.apply(this,arguments):k,m.extent),I=vr(z,Y);function B(N){m.selection=N===1&&Y===null?null:I(N),u.call(v),A.brush()}return z!==null&&Y!==null?B:B(1)}):g.each(function(){var v=this,m=arguments,A=v.__brush,z=e.input(typeof k=="function"?k.apply(v,m):k,A.extent),Y=f(v,m).beforestart();li(v),A.selection=z===null?null:z,u.call(v),Y.start(S).brush(S).end(S)})},s.clear=function(g,k){s.move(g,null,k)};function u(){var g=ke(this),k=Or(this).selection;k?(g.selectAll(".selection").style("display",null).attr("x",k[0][0]).attr("y",k[0][1]).attr("width",k[1][0]-k[0][0]).attr("height",k[1][1]-k[0][1]),g.selectAll(".handle").style("display",null).attr("x",function(S){return S.type[S.type.length-1]==="e"?k[1][0]-l/2:k[0][0]-l/2}).attr("y",function(S){return S.type[0]==="s"?k[1][1]-l/2:k[0][1]-l/2}).attr("width",function(S){return S.type==="n"||S.type==="s"?k[1][0]-k[0][0]+l:l}).attr("height",function(S){return S.type==="e"||S.type==="w"?k[1][1]-k[0][1]+l:l})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(g,k,S){var v=g.__brush.emitter;return v&&(!S||!v.clean)?v:new h(g,k,S)}function h(g,k,S){this.that=g,this.args=k,this.state=g.__brush,this.active=0,this.clean=S}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,k){return this.starting?(this.starting=!1,this.emit("start",g,k)):this.emit("brush",g),this},brush:function(g,k){return this.emit("brush",g,k),this},end:function(g,k){return--this.active===0&&(delete this.state.emitter,this.emit("end",g,k)),this},emit:function(g,k,S){var v=ke(this.that).datum();a.call(g,this.that,new Rc(g,{sourceEvent:k,target:s,selection:e.output(this.state.selection),mode:S,dispatch:a}),v)}};function c(g){if(o&&!g.touches||!n.apply(this,arguments))return;var k=this,S=g.target.__data__.type,v=(i&&g.metaKey?S="overlay":S)==="selection"?il:i&&g.altKey?Qt:Jt,m=e===Dr?null:Hc[S],A=e===Zn?null:Vc[S],z=Or(k),Y=z.extent,I=z.selection,B=Y[0][0],N,L,W=Y[0][1],P,x,T=Y[1][0],M,te,ae=Y[1][1],ee,X,G=0,q=0,oe,fe=m&&A&&i&&g.shiftKey,Ae,_e,le=Array.from(g.touches||[g],ie=>{const me=ie.identifier;return ie=Xi(ie,k),ie.point0=ie.slice(),ie.identifier=me,ie});li(k);var F=f(k,arguments,!0).beforestart();if(S==="overlay"){I&&(oe=!0);const ie=[le[0],le[1]||le[0]];z.selection=I=[[N=e===Dr?B:je(ie[0][0],ie[1][0]),P=e===Zn?W:je(ie[0][1],ie[1][1])],[M=e===Dr?T:qe(ie[0][0],ie[1][0]),ee=e===Zn?ae:qe(ie[0][1],ie[1][1])]],le.length>1&&D(g)}else N=I[0][0],P=I[0][1],M=I[1][0],ee=I[1][1];L=N,x=P,te=M,X=ee;var Q=ke(k).attr("pointer-events","none"),Me=Q.selectAll(".overlay").attr("cursor",Mt[S]);if(g.touches)F.moved=$,F.ended=R;else{var H=ke(g.view).on("mousemove.brush",$,!0).on("mouseup.brush",R,!0);i&&H.on("keydown.brush",K,!0).on("keyup.brush",Ee,!0),Ku(g.view)}u.call(k),F.start(g,v.name);function $(ie){for(const me of ie.changedTouches||[ie])for(const C of le)C.identifier===me.identifier&&(C.cur=Xi(me,k));if(fe&&!Ae&&!_e&&le.length===1){const me=le[0];ll(me.cur[0]-me[0])>ll(me.cur[1]-me[1])?_e=!0:Ae=!0}for(const me of le)me.cur&&(me[0]=me.cur[0],me[1]=me.cur[1]);oe=!0,Cr(ie),D(ie)}function D(ie){const me=le[0],C=me.point0;var ge;switch(G=me[0]-C[0],q=me[1]-C[1],v){case Lr:case il:{m&&(G=qe(B-N,je(T-M,G)),L=N+G,te=M+G),A&&(q=qe(W-P,je(ae-ee,q)),x=P+q,X=ee+q);break}case Jt:{le[1]?(m&&(L=qe(B,je(T,le[0][0])),te=qe(B,je(T,le[1][0])),m=1),A&&(x=qe(W,je(ae,le[0][1])),X=qe(W,je(ae,le[1][1])),A=1)):(m<0?(G=qe(B-N,je(T-N,G)),L=N+G,te=M):m>0&&(G=qe(B-M,je(T-M,G)),L=N,te=M+G),A<0?(q=qe(W-P,je(ae-P,q)),x=P+q,X=ee):A>0&&(q=qe(W-ee,je(ae-ee,q)),x=P,X=ee+q));break}case Qt:{m&&(L=qe(B,je(T,N-G*m)),te=qe(B,je(T,M+G*m))),A&&(x=qe(W,je(ae,P-q*A)),X=qe(W,je(ae,ee+q*A)));break}}te<L&&(m*=-1,ge=N,N=M,M=ge,ge=L,L=te,te=ge,S in sl&&Me.attr("cursor",Mt[S=sl[S]])),X<x&&(A*=-1,ge=P,P=ee,ee=ge,ge=x,x=X,X=ge,S in ul&&Me.attr("cursor",Mt[S=ul[S]])),z.selection&&(I=z.selection),Ae&&(L=I[0][0],te=I[1][0]),_e&&(x=I[0][1],X=I[1][1]),(I[0][0]!==L||I[0][1]!==x||I[1][0]!==te||I[1][1]!==X)&&(z.selection=[[L,x],[te,X]],u.call(k),F.brush(ie,v.name))}function R(ie){if(Fc(ie),ie.touches){if(ie.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else qu(ie.view,oe),H.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Q.attr("pointer-events","all"),Me.attr("cursor",Mt.overlay),z.selection&&(I=z.selection),Uc(I)&&(z.selection=null,u.call(k)),F.end(ie,v.name)}function K(ie){switch(ie.keyCode){case 16:{fe=m&&A;break}case 18:{v===Jt&&(m&&(M=te-G*m,N=L+G*m),A&&(ee=X-q*A,P=x+q*A),v=Qt,D(ie));break}case 32:{(v===Jt||v===Qt)&&(m<0?M=te-G:m>0&&(N=L-G),A<0?ee=X-q:A>0&&(P=x-q),v=Lr,Me.attr("cursor",Mt.selection),D(ie));break}default:return}Cr(ie)}function Ee(ie){switch(ie.keyCode){case 16:{fe&&(Ae=_e=fe=!1,D(ie));break}case 18:{v===Qt&&(m<0?M=te:m>0&&(N=L),A<0?ee=X:A>0&&(P=x),v=Jt,D(ie));break}case 32:{v===Lr&&(ie.altKey?(m&&(M=te-G*m,N=L+G*m),A&&(ee=X-q*A,P=x+q*A),v=Qt):(m<0?M=te:m>0&&(N=L),A<0?ee=X:A>0&&(P=x),v=Jt),Me.attr("cursor",Mt[S]),D(ie));break}default:return}Cr(ie)}}function _(g){f(this,arguments).moved(g)}function y(g){f(this,arguments).ended(g)}function w(){var g=this.__brush||{selection:null};return g.extent=ol(t.apply(this,arguments)),g.dim=e,g}return s.extent=function(g){return arguments.length?(t=typeof g=="function"?g:Nr(ol(g)),s):t},s.filter=function(g){return arguments.length?(n=typeof g=="function"?g:Nr(!!g),s):n},s.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:Nr(!!g),s):r},s.handleSize=function(g){return arguments.length?(l=+g,s):l},s.keyModifiers=function(g){return arguments.length?(i=!!g,s):i},s.on=function(){var g=a.on.apply(a,arguments);return g===a?s:g},s}const ai=Math.PI,oi=2*ai,zt=1e-6,Xc=oi-zt;function si(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ui(){return new si}si.prototype=ui.prototype={constructor:si,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var a=this._x1,l=this._y1,o=n-e,s=r-t,u=a-e,f=l-t,h=u*u+f*f;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>zt)if(!(Math.abs(f*o-s*u)>zt)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var c=n-a,_=r-l,y=o*o+s*s,w=c*c+_*_,g=Math.sqrt(y),k=Math.sqrt(h),S=i*Math.tan((ai-Math.acos((y+h-w)/(2*g*k)))/2),v=S/k,m=S/g;Math.abs(v-1)>zt&&(this._+="L"+(e+v*u)+","+(t+v*f)),this._+="A"+i+","+i+",0,0,"+ +(f*c>u*_)+","+(this._x1=e+m*o)+","+(this._y1=t+m*s)}},arc:function(e,t,n,r,i,a){e=+e,t=+t,n=+n,a=!!a;var l=n*Math.cos(r),o=n*Math.sin(r),s=e+l,u=t+o,f=1^a,h=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+s+","+u:(Math.abs(this._x1-s)>zt||Math.abs(this._y1-u)>zt)&&(this._+="L"+s+","+u),n&&(h<0&&(h=h%oi+oi),h>Xc?this._+="A"+n+","+n+",0,1,"+f+","+(e-l)+","+(t-o)+"A"+n+","+n+",0,1,"+f+","+(this._x1=s)+","+(this._y1=u):h>zt&&(this._+="A"+n+","+n+",0,"+ +(h>=ai)+","+f+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var fl={},Rr={},Fr=34,dn=10,Hr=13;function Qa(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function xc(e,t){var n=Qa(e);return function(r,i){return t(n(r),i,e)}}function cl(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function it(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Wc(e){return e<0?"-"+it(-e,6):e>9999?"+"+it(e,6):it(e,4)}function Kc(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Wc(e.getUTCFullYear())+"-"+it(e.getUTCMonth()+1,2)+"-"+it(e.getUTCDate(),2)+(i?"T"+it(t,2)+":"+it(n,2)+":"+it(r,2)+"."+it(i,3)+"Z":r?"T"+it(t,2)+":"+it(n,2)+":"+it(r,2)+"Z":n||t?"T"+it(t,2)+":"+it(n,2)+"Z":"")}function qc(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(h,c){var _,y,w=i(h,function(g,k){if(_)return _(g,k-1);y=g,_=c?xc(g,c):Qa(g)});return w.columns=y||[],w}function i(h,c){var _=[],y=h.length,w=0,g=0,k,S=y<=0,v=!1;h.charCodeAt(y-1)===dn&&--y,h.charCodeAt(y-1)===Hr&&--y;function m(){if(S)return Rr;if(v)return v=!1,fl;var z,Y=w,I;if(h.charCodeAt(Y)===Fr){for(;w++<y&&h.charCodeAt(w)!==Fr||h.charCodeAt(++w)===Fr;);return(z=w)>=y?S=!0:(I=h.charCodeAt(w++))===dn?v=!0:I===Hr&&(v=!0,h.charCodeAt(w)===dn&&++w),h.slice(Y+1,z-1).replace(/""/g,'"')}for(;w<y;){if((I=h.charCodeAt(z=w++))===dn)v=!0;else if(I===Hr)v=!0,h.charCodeAt(w)===dn&&++w;else if(I!==n)continue;return h.slice(Y,z)}return S=!0,h.slice(Y,y)}for(;(k=m())!==Rr;){for(var A=[];k!==fl&&k!==Rr;)A.push(k),k=m();c&&(A=c(A,g++))==null||_.push(A)}return _}function a(h,c){return h.map(function(_){return c.map(function(y){return f(_[y])}).join(e)})}function l(h,c){return c==null&&(c=cl(h)),[c.map(f).join(e)].concat(a(h,c)).join(`
`)}function o(h,c){return c==null&&(c=cl(h)),a(h,c).join(`
`)}function s(h){return h.map(u).join(`
`)}function u(h){return h.map(f).join(e)}function f(h){return h==null?"":h instanceof Date?Kc(h):t.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:l,formatBody:o,formatRows:s,formatRow:u,formatValue:f}}var jc=qc(","),Zc=jc.parse;function Jc(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Qc(e,t){return fetch(e,t).then(Jc)}function $c(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Qc(t,n).then(function(i){return e(i,r)})}}var Fn=$c(Zc);function eh(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function sr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function cn(e){return e=sr(Math.abs(e)),e?e[1]:NaN}function th(e,t){return function(n,r){for(var i=n.length,a=[],l=0,o=e[0],s=0;i>0&&o>0&&(s+o+1>r&&(o=Math.max(1,r-s)),a.push(n.substring(i-=o,i+o)),!((s+=o+1)>r));)o=e[l=(l+1)%e.length];return a.reverse().join(t)}}function nh(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var rh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ur(e){if(!(t=rh.exec(e)))throw new Error("invalid format: "+e);var t;return new Ci({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ur.prototype=Ci.prototype;function Ci(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ci.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ih(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var $a;function lh(e,t){var n=sr(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-($a=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+sr(e,Math.max(0,t+a-1))[0]}function hl(e,t){var n=sr(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const dl={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:eh,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hl(e*100,t),r:hl,s:lh,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _l(e){return e}var ml=Array.prototype.map,gl=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ah(e){var t=e.grouping===void 0||e.thousands===void 0?_l:th(ml.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?_l:nh(ml.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"\u2212":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(h){h=ur(h);var c=h.fill,_=h.align,y=h.sign,w=h.symbol,g=h.zero,k=h.width,S=h.comma,v=h.precision,m=h.trim,A=h.type;A==="n"?(S=!0,A="g"):dl[A]||(v===void 0&&(v=12),m=!0,A="g"),(g||c==="0"&&_==="=")&&(g=!0,c="0",_="=");var z=w==="$"?n:w==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",Y=w==="$"?r:/[%p]/.test(A)?l:"",I=dl[A],B=/[defgprs%]/.test(A);v=v===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function N(L){var W=z,P=Y,x,T,M;if(A==="c")P=I(L)+P,L="";else{L=+L;var te=L<0||1/L<0;if(L=isNaN(L)?s:I(Math.abs(L),v),m&&(L=ih(L)),te&&+L==0&&y!=="+"&&(te=!1),W=(te?y==="("?y:o:y==="-"||y==="("?"":y)+W,P=(A==="s"?gl[8+$a/3]:"")+P+(te&&y==="("?")":""),B){for(x=-1,T=L.length;++x<T;)if(M=L.charCodeAt(x),48>M||M>57){P=(M===46?i+L.slice(x+1):L.slice(x))+P,L=L.slice(0,x);break}}}S&&!g&&(L=t(L,1/0));var ae=W.length+L.length+P.length,ee=ae<k?new Array(k-ae+1).join(c):"";switch(S&&g&&(L=t(ee+L,ee.length?k-P.length:1/0),ee=""),_){case"<":L=W+L+P+ee;break;case"=":L=W+ee+L+P;break;case"^":L=ee.slice(0,ae=ee.length>>1)+W+L+P+ee.slice(ae);break;default:L=ee+W+L+P;break}return a(L)}return N.toString=function(){return h+""},N}function f(h,c){var _=u((h=ur(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(cn(c)/3)))*3,w=Math.pow(10,-y),g=gl[8+y/3];return function(k){return _(w*k)+g}}return{format:u,formatPrefix:f}}var Hn,Bt,eo;oh({thousands:",",grouping:[3],currency:["$",""]});function oh(e){return Hn=ah(e),Bt=Hn.format,eo=Hn.formatPrefix,Hn}function sh(e){return Math.max(0,-cn(Math.abs(e)))}function uh(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cn(t)/3)))*3-cn(Math.abs(e)))}function fh(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cn(t)-cn(e))+1}function ch(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function hh(){return this.eachAfter(ch)}function dh(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function _h(e,t){for(var n=this,r=[n],i,a,l=-1;n=r.pop();)if(e.call(t,n,++l,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function mh(e,t){for(var n=this,r=[n],i=[],a,l,o,s=-1;n=r.pop();)if(i.push(n),a=n.children)for(l=0,o=a.length;l<o;++l)r.push(a[l]);for(;n=i.pop();)e.call(t,n,++s,this);return this}function gh(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function ph(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function yh(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function vh(e){for(var t=this,n=wh(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function wh(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function bh(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function kh(){return Array.from(this)}function Eh(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Ah(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Ih(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function to(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Mh)):t===void 0&&(t=Th);for(var n=new Tn(e),r,i=[n],a,l,o,s;r=i.pop();)if((l=t(r.data))&&(s=(l=Array.from(l)).length))for(r.children=l,o=s-1;o>=0;--o)i.push(a=l[o]=new Tn(l[o])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(no)}function Sh(){return to(this).eachBefore(Nh)}function Th(e){return e.children}function Mh(e){return Array.isArray(e)?e[1]:null}function Nh(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function no(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Tn(e){this.data=e,this.depth=this.height=0,this.parent=null}Tn.prototype=to.prototype={constructor:Tn,count:hh,each:dh,eachAfter:mh,eachBefore:_h,find:gh,sum:ph,sort:yh,path:vh,ancestors:bh,descendants:kh,leaves:Eh,links:Ah,copy:Sh,[Symbol.iterator]:Ih};function Vr(e){return e==null?null:ro(e)}function ro(e){if(typeof e!="function")throw new Error;return e}function _n(){return 0}function mn(e){return function(){return e}}function Ch(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Lh(e,t,n,r,i){for(var a=e.children,l,o=-1,s=a.length,u=e.value&&(r-t)/e.value;++o<s;)l=a[o],l.y0=n,l.y1=i,l.x0=t,l.x1=t+=l.value*u}var Dh={depth:-1},pl={},Br={};function Oh(e){return e.id}function Rh(e){return e.parentId}function Fh(){var e=Oh,t=Rh,n;function r(i){var a=Array.from(i),l=e,o=t,s,u,f,h,c,_,y,w,g=new Map;if(n!=null){const k=a.map((m,A)=>Hh(n(m,A,i))),S=k.map(yl),v=new Set(k).add("");for(const m of S)v.has(m)||(v.add(m),k.push(m),S.push(yl(m)),a.push(Br));l=(m,A)=>k[A],o=(m,A)=>S[A]}for(f=0,s=a.length;f<s;++f)u=a[f],_=a[f]=new Tn(u),(y=l(u,f,i))!=null&&(y+="")&&(w=_.id=y,g.set(w,g.has(w)?pl:_)),(y=o(u,f,i))!=null&&(y+="")&&(_.parent=y);for(f=0;f<s;++f)if(_=a[f],y=_.parent){if(c=g.get(y),!c)throw new Error("missing: "+y);if(c===pl)throw new Error("ambiguous: "+y);c.children?c.children.push(_):c.children=[_],_.parent=c}else{if(h)throw new Error("multiple roots");h=_}if(!h)throw new Error("no root");if(n!=null){for(;h.data===Br&&h.children.length===1;)h=h.children[0],--s;for(let k=a.length-1;k>=0&&(_=a[k],_.data===Br);--k)_.data=null}if(h.parent=Dh,h.eachBefore(function(k){k.depth=k.parent.depth+1,--s}).eachBefore(no),h.parent=null,s>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(e=Vr(i),r):e},r.parentId=function(i){return arguments.length?(t=Vr(i),r):t},r.path=function(i){return arguments.length?(n=Vr(i),r):n},r}function Hh(e){e=`${e}`;let t=e.length;return fi(e,t-1)&&!fi(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function yl(e){let t=e.length;if(t<2)return"";for(;--t>1&&!fi(e,t););return e.slice(0,t)}function fi(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function Vh(e,t,n,r,i){for(var a=e.children,l,o=-1,s=a.length,u=e.value&&(i-n)/e.value;++o<s;)l=a[o],l.x0=t,l.x1=r,l.y0=n,l.y1=n+=l.value*u}var Bh=(1+Math.sqrt(5))/2;function Ph(e,t,n,r,i,a){for(var l=[],o=t.children,s,u,f=0,h=0,c=o.length,_,y,w=t.value,g,k,S,v,m,A,z;f<c;){_=i-n,y=a-r;do g=o[h++].value;while(!g&&h<c);for(k=S=g,A=Math.max(y/_,_/y)/(w*e),z=g*g*A,m=Math.max(S/z,z/k);h<c;++h){if(g+=u=o[h].value,u<k&&(k=u),u>S&&(S=u),z=g*g*A,v=Math.max(S/z,z/k),v>m){g-=u;break}m=v}l.push(s={value:g,dice:_<y,children:o.slice(f,h)}),s.dice?Lh(s,n,r,i,w?r+=y*g/w:a):Vh(s,n,r,w?n+=_*g/w:i,a),w-=g,f=h}return l}const Gh=function e(t){function n(r,i,a,l,o){Ph(t,r,i,a,l,o)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(Bh);function Uh(){var e=Gh,t=!1,n=1,r=1,i=[0],a=_n,l=_n,o=_n,s=_n,u=_n;function f(c){return c.x0=c.y0=0,c.x1=n,c.y1=r,c.eachBefore(h),i=[0],t&&c.eachBefore(Ch),c}function h(c){var _=i[c.depth],y=c.x0+_,w=c.y0+_,g=c.x1-_,k=c.y1-_;g<y&&(y=g=(y+g)/2),k<w&&(w=k=(w+k)/2),c.x0=y,c.y0=w,c.x1=g,c.y1=k,c.children&&(_=i[c.depth+1]=a(c)/2,y+=u(c)-_,w+=l(c)-_,g-=o(c)-_,k-=s(c)-_,g<y&&(y=g=(y+g)/2),k<w&&(w=k=(w+k)/2),e(c,y,w,g,k))}return f.round=function(c){return arguments.length?(t=!!c,f):t},f.size=function(c){return arguments.length?(n=+c[0],r=+c[1],f):[n,r]},f.tile=function(c){return arguments.length?(e=ro(c),f):e},f.padding=function(c){return arguments.length?f.paddingInner(c).paddingOuter(c):f.paddingInner()},f.paddingInner=function(c){return arguments.length?(a=typeof c=="function"?c:mn(+c),f):a},f.paddingOuter=function(c){return arguments.length?f.paddingTop(c).paddingRight(c).paddingBottom(c).paddingLeft(c):f.paddingTop()},f.paddingTop=function(c){return arguments.length?(l=typeof c=="function"?c:mn(+c),f):l},f.paddingRight=function(c){return arguments.length?(o=typeof c=="function"?c:mn(+c),f):o},f.paddingBottom=function(c){return arguments.length?(s=typeof c=="function"?c:mn(+c),f):s},f.paddingLeft=function(c){return arguments.length?(u=typeof c=="function"?c:mn(+c),f):u},f}function zh(e,t,n,r,i){var a=e.children,l,o=a.length,s,u=new Array(o+1);for(u[0]=s=l=0;l<o;++l)u[l+1]=s+=a[l].value;f(0,o,e.value,t,n,r,i);function f(h,c,_,y,w,g,k){if(h>=c-1){var S=a[h];S.x0=y,S.y0=w,S.x1=g,S.y1=k;return}for(var v=u[h],m=_/2+v,A=h+1,z=c-1;A<z;){var Y=A+z>>>1;u[Y]<m?A=Y+1:z=Y}m-u[A-1]<u[A]-m&&h+1<A&&--A;var I=u[A]-v,B=_-I;if(g-y>k-w){var N=_?(y*B+g*I)/_:g;f(h,A,I,y,w,N,k),f(A,c,B,N,w,g,k)}else{var L=_?(w*B+k*I)/_:k;f(h,A,I,y,w,g,L),f(A,c,B,y,L,g,k)}}}function io(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const vl=Symbol("implicit");function ci(){var e=new Yr,t=[],n=[],r=vl;function i(a){let l=e.get(a);if(l===void 0){if(r!==vl)return r;e.set(a,l=t.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Yr;for(const l of a)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ci(t,n).unknown(r)},io.apply(i,arguments),i}function Yh(e){return function(){return e}}function Xh(e){return+e}var wl=[0,1];function ln(e){return e}function hi(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Yh(isNaN(t)?NaN:.5)}function xh(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Wh(e,t,n){var r=e[0],i=e[1],a=t[0],l=t[1];return i<r?(r=hi(i,r),a=n(l,a)):(r=hi(r,i),a=n(a,l)),function(o){return a(r(o))}}function Kh(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=hi(e[l],e[l+1]),a[l]=n(t[l],t[l+1]);return function(o){var s=Zo(e,o,1,r)-1;return a[s](i[s](o))}}function qh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jh(){var e=wl,t=wl,n=vr,r,i,a,l=ln,o,s,u;function f(){var c=Math.min(e.length,t.length);return l!==ln&&(l=xh(e[0],e[c-1])),o=c>2?Kh:Wh,s=u=null,h}function h(c){return c==null||isNaN(c=+c)?a:(s||(s=o(e.map(r),t,n)))(r(l(c)))}return h.invert=function(c){return l(i((u||(u=o(t,e.map(r),_t)))(c)))},h.domain=function(c){return arguments.length?(e=Array.from(c,Xh),f()):e.slice()},h.range=function(c){return arguments.length?(t=Array.from(c),f()):t.slice()},h.rangeRound=function(c){return t=Array.from(c),n=yf,f()},h.clamp=function(c){return arguments.length?(l=c?!0:ln,f()):l!==ln},h.interpolate=function(c){return arguments.length?(n=c,f()):n},h.unknown=function(c){return arguments.length?(a=c,h):a},function(c,_){return r=c,i=_,f()}}function Zh(){return jh()(ln,ln)}function Jh(e,t,n,r){var i=ns(e,t,n),a;switch(r=ur(r==null?",f":r),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=uh(i,l))&&(r.precision=a),eo(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=fh(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=sh(i))&&(r.precision=a-(r.type==="%")*2);break}}return Bt(r)}function Qh(e){var t=e.domain;return e.ticks=function(n){var r=t();return ts(r[0],r[r.length-1],n==null?10:n)},e.tickFormat=function(n,r){var i=t();return Jh(i[0],i[i.length-1],n==null?10:n,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,l=r[i],o=r[a],s,u,f=10;for(o<l&&(u=l,l=o,o=u,u=i,i=a,a=u);f-- >0;){if(u=Ia(l,o,n),u===s)return r[i]=l,r[a]=o,t(r);if(u>0)l=Math.floor(l/u)*u,o=Math.ceil(o/u)*u;else if(u<0)l=Math.ceil(l*u)/u,o=Math.floor(o*u)/u;else break;s=u}return e},e}function bn(){var e=Zh();return e.copy=function(){return qh(e,bn())},io.apply(e,arguments),Qh(e)}function $h(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const bl=$h("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function an(e,t,n){this.k=e,this.x=t,this.y=n}an.prototype={constructor:an,scale:function(e){return e===1?this:new an(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new an(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new an(1,0,0);an.prototype;function e0(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i={};return i.top=n.top<0,i.left=n.left<0,i.bottom=n.bottom+r.height>(window.innerHeight||document.documentElement.clientHeight),i.right=n.right>(window.innerWidth||document.documentElement.clientWidth),i.any=i.top||i.left||i.bottom||i.right,i}function t0(e){let t,n=e[0](e[1],e[2])+"",r;return{c(){t=se("div"),this.h()},l(i){t=ue(i,"DIV",{class:!0});var a=V(t);a.forEach(b),this.h()},h(){d(t,"class",r="item "+e[3]+" svelte-3e0qet")},m(i,a){j(i,t,a),t.innerHTML=n},p(i,[a]){a&7&&n!==(n=i[0](i[1],i[2])+"")&&(t.innerHTML=n),a&8&&r!==(r="item "+i[3]+" svelte-3e0qet")&&d(t,"class",r)},i:De,o:De,d(i){i&&b(t)}}}function n0(e,t,n){let{isActive:r=!1}=t,{isFirst:i=!1}=t,{isHover:a=!1}=t,{isSelectable:l=!1}=t,{getOptionLabel:o=void 0}=t,{item:s=void 0}=t,{filterText:u=""}=t,f="";return e.$$set=h=>{"isActive"in h&&n(4,r=h.isActive),"isFirst"in h&&n(5,i=h.isFirst),"isHover"in h&&n(6,a=h.isHover),"isSelectable"in h&&n(7,l=h.isSelectable),"getOptionLabel"in h&&n(0,o=h.getOptionLabel),"item"in h&&n(1,s=h.item),"filterText"in h&&n(2,u=h.filterText)},e.$$.update=()=>{if(e.$$.dirty&242){const h=[];r&&h.push("active"),i&&h.push("first"),a&&h.push("hover"),s.isGroupHeader&&h.push("groupHeader"),s.isGroupItem&&h.push("groupItem"),l||h.push("notSelectable"),n(3,f=h.join(" "))}},[o,s,u,f,r,i,a,l]}class lo extends pt{constructor(t){super(),yt(this,t,n0,t0,vt,{isActive:4,isFirst:5,isHover:6,isSelectable:7,getOptionLabel:0,item:1,filterText:2})}}function kl(e,t,n){const r=e.slice();return r[41]=t[n],r[42]=n,r}function r0(e){let t,n,r=e[1],i=[];for(let o=0;o<r.length;o+=1)i[o]=Il(kl(e,r,o));const a=o=>pe(i[o],1,1,()=>{i[o]=null});let l=null;return r.length||(l=El(e)),{c(){for(let o=0;o<i.length;o+=1)i[o].c();t=we(),l&&l.c()},l(o){for(let s=0;s<i.length;s+=1)i[s].l(o);t=we(),l&&l.l(o)},m(o,s){for(let u=0;u<i.length;u+=1)i[u].m(o,s);j(o,t,s),l&&l.m(o,s),n=!0},p(o,s){if(s[0]&114390){r=o[1];let u;for(u=0;u<r.length;u+=1){const f=kl(o,r,u);i[u]?(i[u].p(f,s),ce(i[u],1)):(i[u]=Il(f),i[u].c(),ce(i[u],1),i[u].m(t.parentNode,t))}for(Xe(),u=r.length;u<i.length;u+=1)a(u);xe(),!r.length&&l?l.p(o,s):r.length?l&&(l.d(1),l=null):(l=El(o),l.c(),l.m(t.parentNode,t))}},i(o){if(!n){for(let s=0;s<r.length;s+=1)ce(i[s]);n=!0}},o(o){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)pe(i[s]);n=!1},d(o){mi(i,o),o&&b(t),l&&l.d(o)}}}function i0(e){let t,n,r;var i=e[3];function a(l){return{props:{items:l[1],itemHeight:l[8],$$slots:{default:[o0,({item:o,i:s})=>({41:o,42:s}),({item:o,i:s})=>[0,(o?1024:0)|(s?2048:0)]]},$$scope:{ctx:l}}}}return i&&(t=Je(i,a(e))),{c(){t&&Ve(t.$$.fragment),n=we()},l(l){t&&ot(t.$$.fragment,l),n=we()},m(l,o){t&&Be(t,l,o),j(l,n,o),r=!0},p(l,o){const s={};if(o[0]&2&&(s.items=l[1]),o[0]&256&&(s.itemHeight=l[8]),o[0]&9814|o[1]&11264&&(s.$$scope={dirty:o,ctx:l}),i!==(i=l[3])){if(t){Xe();const u=t;pe(u.$$.fragment,1,0,()=>{Pe(u,1)}),xe()}i?(t=Je(i,a(l)),Ve(t.$$.fragment),ce(t.$$.fragment,1),Be(t,n.parentNode,n)):t=null}else i&&t.$set(s)},i(l){r||(t&&ce(t.$$.fragment,l),r=!0)},o(l){t&&pe(t.$$.fragment,l),r=!1},d(l){l&&b(n),t&&Pe(t,l)}}}function El(e){let t,n=!e[11]&&Al(e);return{c(){n&&n.c(),t=we()},l(r){n&&n.l(r),t=we()},m(r,i){n&&n.m(r,i),j(r,t,i)},p(r,i){r[11]?n&&(n.d(1),n=null):n?n.p(r,i):(n=Al(r),n.c(),n.m(t.parentNode,t))},d(r){n&&n.d(r),r&&b(t)}}}function Al(e){let t,n;return{c(){t=se("div"),n=ye(e[12]),this.h()},l(r){t=ue(r,"DIV",{class:!0});var i=V(t);n=ve(i,e[12]),i.forEach(b),this.h()},h(){d(t,"class","empty svelte-1uyqfml")},m(r,i){j(r,t,i),O(t,n)},p(r,i){i[0]&4096&&Ye(n,r[12])},d(r){r&&b(t)}}}function l0(e){let t,n,r,i,a,l;var o=e[4];function s(c){return{props:{item:c[41],filterText:c[13],getOptionLabel:c[6],isFirst:di(c[42]),isActive:fr(c[41],c[9],c[10]),isHover:cr(c[2],c[41],c[42],c[1]),isSelectable:qt(c[41])}}}o&&(n=Je(o,s(e)));function u(){return e[29](e[42])}function f(){return e[30](e[42])}function h(...c){return e[31](e[41],e[42],...c)}return{c(){t=se("div"),n&&Ve(n.$$.fragment),r=Ie(),this.h()},l(c){t=ue(c,"DIV",{class:!0,tabindex:!0});var _=V(t);n&&ot(n.$$.fragment,_),r=Se(_),_.forEach(b),this.h()},h(){d(t,"class","listItem"),d(t,"tabindex","-1")},m(c,_){j(c,t,_),n&&Be(n,t,null),O(t,r),i=!0,a||(l=[Z(t,"mouseover",u),Z(t,"focus",f),Z(t,"click",h)],a=!0)},p(c,_){e=c;const y={};if(_[0]&2&&(y.item=e[41]),_[0]&8192&&(y.filterText=e[13]),_[0]&64&&(y.getOptionLabel=e[6]),_[0]&1538&&(y.isActive=fr(e[41],e[9],e[10])),_[0]&6&&(y.isHover=cr(e[2],e[41],e[42],e[1])),_[0]&2&&(y.isSelectable=qt(e[41])),o!==(o=e[4])){if(n){Xe();const w=n;pe(w.$$.fragment,1,0,()=>{Pe(w,1)}),xe()}o?(n=Je(o,s(e)),Ve(n.$$.fragment),ce(n.$$.fragment,1),Be(n,t,r)):n=null}else o&&n.$set(y)},i(c){i||(n&&ce(n.$$.fragment,c),i=!0)},o(c){n&&pe(n.$$.fragment,c),i=!1},d(c){c&&b(t),n&&Pe(n),a=!1,ut(l)}}}function a0(e){let t,n=e[7](e[41])+"",r;return{c(){t=se("div"),r=ye(n),this.h()},l(i){t=ue(i,"DIV",{class:!0});var a=V(t);r=ve(a,n),a.forEach(b),this.h()},h(){d(t,"class","listGroupTitle svelte-1uyqfml")},m(i,a){j(i,t,a),O(t,r)},p(i,a){a[0]&130&&n!==(n=i[7](i[41])+"")&&Ye(r,n)},i:De,o:De,d(i){i&&b(t)}}}function Il(e){let t,n,r,i;const a=[a0,l0],l=[];function o(s,u){return s[41].isGroupHeader&&!s[41].isSelectable?0:1}return t=o(e),n=l[t]=a[t](e),{c(){n.c(),r=we()},l(s){n.l(s),r=we()},m(s,u){l[t].m(s,u),j(s,r,u),i=!0},p(s,u){let f=t;t=o(s),t===f?l[t].p(s,u):(Xe(),pe(l[f],1,1,()=>{l[f]=null}),xe(),n=l[t],n?n.p(s,u):(n=l[t]=a[t](s),n.c()),ce(n,1),n.m(r.parentNode,r))},i(s){i||(ce(n),i=!0)},o(s){pe(n),i=!1},d(s){l[t].d(s),s&&b(r)}}}function o0(e){let t,n,r,i,a;var l=e[4];function o(h){return{props:{item:h[41],filterText:h[13],getOptionLabel:h[6],isFirst:di(h[42]),isActive:fr(h[41],h[9],h[10]),isHover:cr(h[2],h[41],h[42],h[1]),isSelectable:qt(h[41])}}}l&&(n=Je(l,o(e)));function s(){return e[26](e[42])}function u(){return e[27](e[42])}function f(...h){return e[28](e[41],e[42],...h)}return{c(){t=se("div"),n&&Ve(n.$$.fragment),this.h()},l(h){t=ue(h,"DIV",{class:!0});var c=V(t);n&&ot(n.$$.fragment,c),c.forEach(b),this.h()},h(){d(t,"class","listItem")},m(h,c){j(h,t,c),n&&Be(n,t,null),r=!0,i||(a=[Z(t,"mouseover",s),Z(t,"focus",u),Z(t,"click",f)],i=!0)},p(h,c){e=h;const _={};if(c[1]&1024&&(_.item=e[41]),c[0]&8192&&(_.filterText=e[13]),c[0]&64&&(_.getOptionLabel=e[6]),c[1]&2048&&(_.isFirst=di(e[42])),c[0]&1536|c[1]&1024&&(_.isActive=fr(e[41],e[9],e[10])),c[0]&6|c[1]&3072&&(_.isHover=cr(e[2],e[41],e[42],e[1])),c[1]&1024&&(_.isSelectable=qt(e[41])),l!==(l=e[4])){if(n){Xe();const y=n;pe(y.$$.fragment,1,0,()=>{Pe(y,1)}),xe()}l?(n=Je(l,o(e)),Ve(n.$$.fragment),ce(n.$$.fragment,1),Be(n,t,null)):n=null}else l&&n.$set(_)},i(h){r||(n&&ce(n.$$.fragment,h),r=!0)},o(h){n&&pe(n.$$.fragment,h),r=!1},d(h){h&&b(t),n&&Pe(n),i=!1,ut(a)}}}function s0(e){let t,n,r,i,a,l;const o=[i0,r0],s=[];function u(f,h){return f[5]?0:1}return n=u(e),r=s[n]=o[n](e),{c(){t=se("div"),r.c(),this.h()},l(f){t=ue(f,"DIV",{class:!0,style:!0});var h=V(t);r.l(h),h.forEach(b),this.h()},h(){d(t,"class","listContainer svelte-1uyqfml"),d(t,"style",e[14]),ht(t,"virtualList",e[5])},m(f,h){j(f,t,h),s[n].m(t,null),e[32](t),i=!0,a||(l=[Z(window,"keydown",e[17]),Z(window,"resize",e[18])],a=!0)},p(f,h){let c=n;n=u(f),n===c?s[n].p(f,h):(Xe(),pe(s[c],1,1,()=>{s[c]=null}),xe(),r=s[n],r?r.p(f,h):(r=s[n]=o[n](f),r.c()),ce(r,1),r.m(t,null)),(!i||h[0]&16384)&&d(t,"style",f[14]),(!i||h[0]&32)&&ht(t,"virtualList",f[5])},i(f){i||(ce(r),i=!0)},o(f){pe(r),i=!1},d(f){f&&b(t),s[n].d(),e[32](null),a=!1,ut(l)}}}function fr(e,t,n){return t&&t[n]===e[n]}function di(e){return e===0}function cr(e,t,n,r){return qt(t)&&(e===n||r.length===1)}function qt(e){return e.isGroupHeader&&e.isSelectable||e.selectable||!e.hasOwnProperty("selectable")}function u0(e,t,n){const r=_i();let{container:i=void 0}=t,{VirtualList:a=null}=t,{Item:l=lo}=t,{isVirtualList:o=!1}=t,{items:s=[]}=t,{labelIdentifier:u="label"}=t,{getOptionLabel:f=(F,Q)=>{if(F)return F.isCreator?`Create "${Q}"`:F[u]}}=t,{getGroupHeaderLabel:h=null}=t,{itemHeight:c=40}=t,{hoverItemIndex:_=0}=t,{value:y=void 0}=t,{optionIdentifier:w="value"}=t,{hideEmptyState:g=!1}=t,{noOptionsMessage:k="No options"}=t,{isMulti:S=!1}=t,{activeItemIndex:v=0}=t,{filterText:m=""}=t,{parent:A=null}=t,{listPlacement:z=null}=t,{listAutoWidth:Y=null}=t,{listOffset:I=5}=t,B=0,N=!1,L;gr(()=>{if(s.length>0&&!S&&y){const F=s.findIndex(Q=>Q[w]===y[w]);F&&n(2,_=F)}ae("active"),i.addEventListener("scroll",()=>{clearTimeout(B),B=setTimeout(()=>{N=!1},100)},!1)}),ba(()=>{s||n(1,s=[]),s!==L&&s.length>0&&n(2,_=0),L=s});function W(F){F.isCreator||r("itemSelected",F)}function P(F){N||n(2,_=F)}function x(F){const{item:Q,i:Me,event:H}=F;if(H.stopPropagation(),y&&!S&&y[w]===Q[w])return T();Q.isCreator?r("itemCreated",m):qt(Q)&&(n(19,v=Me),n(2,_=Me),W(Q))}function T(){r("closeList")}async function M(F){if(o)return;let Q=!0;for(;Q;)F>0&&_===s.length-1?n(2,_=0):F<0&&_===0?n(2,_=s.length-1):n(2,_=_+F),Q=!qt(s[_]);await Xn(),ae("hover")}function te(F){switch(F.key){case"Escape":F.preventDefault(),T();break;case"ArrowDown":F.preventDefault(),s.length&&M(1);break;case"ArrowUp":F.preventDefault(),s.length&&M(-1);break;case"Enter":if(F.preventDefault(),s.length===0)break;const Q=s[_];if(y&&!S&&y[w]===Q[w]){T();break}Q.isCreator?r("itemCreated",m):(n(19,v=_),W(s[_]));break;case"Tab":if(F.preventDefault(),s.length===0||y&&y[w]===s[_][w])return T();n(19,v=_),W(s[_]);break}}function ae(F){if(o||!i)return;let Q;const Me=i.querySelector(`.listItem .${F}`);Me&&(Q=i.getBoundingClientRect().bottom-Me.getBoundingClientRect().bottom),n(0,i.scrollTop-=Q,i)}let ee;function X(){const{height:F,width:Q}=A.getBoundingClientRect();n(14,ee=""),n(14,ee+=`min-width:${Q}px;width:${Y?"auto":"100%"};`),z==="top"||z==="auto"&&e0(A,i).bottom?n(14,ee+=`bottom:${F+I}px;`):n(14,ee+=`top:${F+I}px;`)}const G=F=>P(F),q=F=>P(F),oe=(F,Q,Me)=>x({item:F,i:Q,event:Me}),fe=F=>P(F),Ae=F=>P(F),_e=(F,Q,Me)=>x({item:F,i:Q,event:Me});function le(F){tt[F?"unshift":"push"](()=>{i=F,n(0,i)})}return e.$$set=F=>{"container"in F&&n(0,i=F.container),"VirtualList"in F&&n(3,a=F.VirtualList),"Item"in F&&n(4,l=F.Item),"isVirtualList"in F&&n(5,o=F.isVirtualList),"items"in F&&n(1,s=F.items),"labelIdentifier"in F&&n(20,u=F.labelIdentifier),"getOptionLabel"in F&&n(6,f=F.getOptionLabel),"getGroupHeaderLabel"in F&&n(7,h=F.getGroupHeaderLabel),"itemHeight"in F&&n(8,c=F.itemHeight),"hoverItemIndex"in F&&n(2,_=F.hoverItemIndex),"value"in F&&n(9,y=F.value),"optionIdentifier"in F&&n(10,w=F.optionIdentifier),"hideEmptyState"in F&&n(11,g=F.hideEmptyState),"noOptionsMessage"in F&&n(12,k=F.noOptionsMessage),"isMulti"in F&&n(21,S=F.isMulti),"activeItemIndex"in F&&n(19,v=F.activeItemIndex),"filterText"in F&&n(13,m=F.filterText),"parent"in F&&n(22,A=F.parent),"listPlacement"in F&&n(23,z=F.listPlacement),"listAutoWidth"in F&&n(24,Y=F.listAutoWidth),"listOffset"in F&&n(25,I=F.listOffset)},e.$$.update=()=>{e.$$.dirty[0]&4194305&&A&&i&&X()},[i,s,_,a,l,o,f,h,c,y,w,g,k,m,ee,P,x,te,X,v,u,S,A,z,Y,I,G,q,oe,fe,Ae,_e,le]}class f0 extends pt{constructor(t){super(),yt(this,t,u0,s0,vt,{container:0,VirtualList:3,Item:4,isVirtualList:5,items:1,labelIdentifier:20,getOptionLabel:6,getGroupHeaderLabel:7,itemHeight:8,hoverItemIndex:2,value:9,optionIdentifier:10,hideEmptyState:11,noOptionsMessage:12,isMulti:21,activeItemIndex:19,filterText:13,parent:22,listPlacement:23,listAutoWidth:24,listOffset:25},null,[-1,-1])}}function c0(e){let t,n=e[0](e[1])+"";return{c(){t=se("div"),this.h()},l(r){t=ue(r,"DIV",{class:!0});var i=V(t);i.forEach(b),this.h()},h(){d(t,"class","selection svelte-pu1q1n")},m(r,i){j(r,t,i),t.innerHTML=n},p(r,[i]){i&3&&n!==(n=r[0](r[1])+"")&&(t.innerHTML=n)},i:De,o:De,d(r){r&&b(t)}}}function h0(e,t,n){let{getSelectionLabel:r=void 0}=t,{item:i=void 0}=t;return e.$$set=a=>{"getSelectionLabel"in a&&n(0,r=a.getSelectionLabel),"item"in a&&n(1,i=a.item)},[r,i]}class d0 extends pt{constructor(t){super(),yt(this,t,h0,c0,vt,{getSelectionLabel:0,item:1})}}function Sl(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function Tl(e){let t,n,r,i,a;function l(...o){return e[6](e[11],...o)}return{c(){t=se("div"),n=ne("svg"),r=ne("path"),this.h()},l(o){t=ue(o,"DIV",{class:!0});var s=V(t);n=re(s,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0,class:!0});var u=V(n);r=re(u,"path",{d:!0}),V(r).forEach(b),u.forEach(b),s.forEach(b),this.h()},h(){d(r,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),d(n,"width","100%"),d(n,"height","100%"),d(n,"viewBox","-2 -2 50 50"),d(n,"focusable","false"),d(n,"aria-hidden","true"),d(n,"role","presentation"),d(n,"class","svelte-liu9pa"),d(t,"class","multiSelectItem_clear svelte-liu9pa")},m(o,s){j(o,t,s),O(t,n),O(n,r),i||(a=Z(t,"click",l),i=!0)},p(o,s){e=o},d(o){o&&b(t),i=!1,a()}}}function Ml(e){let t,n,r=e[4](e[9])+"",i,a,l,o,s,u=!e[2]&&!e[3]&&Tl(e);function f(...h){return e[7](e[11],...h)}return{c(){t=se("div"),n=se("div"),i=Ie(),u&&u.c(),a=Ie(),this.h()},l(h){t=ue(h,"DIV",{class:!0});var c=V(t);n=ue(c,"DIV",{class:!0});var _=V(n);_.forEach(b),i=Se(c),u&&u.l(c),a=Se(c),c.forEach(b),this.h()},h(){d(n,"class","multiSelectItem_label svelte-liu9pa"),d(t,"class",l="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")},m(h,c){j(h,t,c),O(t,n),n.innerHTML=r,O(t,i),u&&u.m(t,null),O(t,a),o||(s=Z(t,"click",f),o=!0)},p(h,c){e=h,c&17&&r!==(r=e[4](e[9])+"")&&(n.innerHTML=r),!e[2]&&!e[3]?u?u.p(e,c):(u=Tl(e),u.c(),u.m(t,a)):u&&(u.d(1),u=null),c&6&&l!==(l="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")&&d(t,"class",l)},d(h){h&&b(t),u&&u.d(),o=!1,s()}}}function _0(e){let t,n=e[0],r=[];for(let i=0;i<n.length;i+=1)r[i]=Ml(Sl(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=we()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=we()},m(i,a){for(let l=0;l<r.length;l+=1)r[l].m(i,a);j(i,t,a)},p(i,[a]){if(a&63){n=i[0];let l;for(l=0;l<n.length;l+=1){const o=Sl(i,n,l);r[l]?r[l].p(o,a):(r[l]=Ml(o),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},i:De,o:De,d(i){mi(r,i),i&&b(t)}}}function m0(e,t,n){const r=_i();let{value:i=[]}=t,{activeValue:a=void 0}=t,{isDisabled:l=!1}=t,{multiFullItemClearable:o=!1}=t,{getSelectionLabel:s=void 0}=t;function u(c,_){_.stopPropagation(),r("multiItemClear",{i:c})}const f=(c,_)=>u(c,_),h=(c,_)=>o?u(c,_):{};return e.$$set=c=>{"value"in c&&n(0,i=c.value),"activeValue"in c&&n(1,a=c.activeValue),"isDisabled"in c&&n(2,l=c.isDisabled),"multiFullItemClearable"in c&&n(3,o=c.multiFullItemClearable),"getSelectionLabel"in c&&n(4,s=c.getSelectionLabel)},[i,a,l,o,s,u,f,h]}class g0 extends pt{constructor(t){super(),yt(this,t,m0,_0,vt,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4})}}function Nl(e,t,n){const r=e.slice();return r[23]=t[n],r}const p0=e=>({item:e&32,i:e&32,hoverItemIndex:e&2}),Cl=e=>({item:e[23].data,i:e[23].index,hoverItemIndex:e[1]});function y0(e){let t;return{c(){t=ye("Missing template")},l(n){t=ve(n,"Missing template")},m(n,r){j(n,t,r)},d(n){n&&b(t)}}}function Ll(e,t){let n,r,i;const a=t[15].default,l=Co(a,t,t[14],Cl),o=l||y0();return{key:e,first:null,c(){n=se("svelte-virtual-list-row"),o&&o.c(),r=Ie(),this.h()},l(s){n=ue(s,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var u=V(n);o&&o.l(u),r=Se(u),u.forEach(b),this.h()},h(){zr(n,"class","svelte-g2cagw"),this.first=n},m(s,u){j(s,n,u),o&&o.m(n,null),O(n,r),i=!0},p(s,u){t=s,l&&l.p&&(!i||u&16418)&&Lo(l,a,t,t[14],i?Oo(a,t[14],u,p0):Do(t[14]),Cl)},i(s){i||(ce(o,s),i=!0)},o(s){pe(o,s),i=!1},d(s){s&&b(n),o&&o.d(s)}}}function v0(e){let t,n,r=[],i=new Map,a,l,o,s,u=e[5];const f=h=>h[23].index;for(let h=0;h<u.length;h+=1){let c=Nl(e,u,h),_=f(c);i.set(_,r[h]=Ll(_,c))}return{c(){t=se("svelte-virtual-list-viewport"),n=se("svelte-virtual-list-contents");for(let h=0;h<r.length;h+=1)r[h].c();this.h()},l(h){t=ue(h,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var c=V(t);n=ue(c,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var _=V(n);for(let y=0;y<r.length;y+=1)r[y].l(_);_.forEach(b),c.forEach(b),this.h()},h(){Zt(n,"padding-top",e[6]+"px"),Zt(n,"padding-bottom",e[7]+"px"),zr(n,"class","svelte-g2cagw"),Zt(t,"height",e[0]),zr(t,"class","svelte-g2cagw"),jt(()=>e[18].call(t))},m(h,c){j(h,t,c),O(t,n);for(let _=0;_<r.length;_+=1)r[_].m(n,null);e[16](n),e[17](t),a=pr(t,e[18].bind(t)),l=!0,o||(s=Z(t,"scroll",e[8]),o=!0)},p(h,[c]){c&16418&&(u=h[5],Xe(),r=Vt(r,c,f,1,h,u,i,n,No,Ll,null,Nl),xe()),(!l||c&64)&&Zt(n,"padding-top",h[6]+"px"),(!l||c&128)&&Zt(n,"padding-bottom",h[7]+"px"),(!l||c&1)&&Zt(t,"height",h[0])},i(h){if(!l){for(let c=0;c<u.length;c+=1)ce(r[c]);l=!0}},o(h){for(let c=0;c<r.length;c+=1)pe(r[c]);l=!1},d(h){h&&b(t);for(let c=0;c<r.length;c+=1)r[c].d();e[16](null),e[17](null),a(),o=!1,s()}}}function w0(e,t,n){let{$$slots:r={},$$scope:i}=t,{items:a=void 0}=t,{height:l="100%"}=t,{itemHeight:o=40}=t,{hoverItemIndex:s=0}=t,{start:u=0}=t,{end:f=0}=t,h=[],c,_,y,w=0,g,k,S=0,v=0,m;async function A(N,L,W){const{scrollTop:P}=_;await Xn();let x=S-P,T=u;for(;x<L&&T<N.length;){let te=c[T-u];te||(n(10,f=T+1),await Xn(),te=c[T-u]);const ae=h[T]=W||te.offsetHeight;x+=ae,T+=1}n(10,f=T);const M=N.length-f;m=(S+x)/f,n(7,v=M*m),h.length=N.length,_&&n(3,_.scrollTop=0,_)}async function z(){const{scrollTop:N}=_,L=u;for(let T=0;T<c.length;T+=1)h[u+T]=o||c[T].offsetHeight;let W=0,P=0;for(;W<a.length;){const T=h[W]||m;if(P+T>N){n(9,u=W),n(6,S=P);break}P+=T,W+=1}for(;W<a.length&&(P+=h[W]||m,W+=1,!(P>N+w)););n(10,f=W);const x=a.length-f;for(m=P/f;W<a.length;)h[W++]=m;if(n(7,v=x*m),u<L){await Xn();let T=0,M=0;for(let ae=u;ae<L;ae+=1)c[ae-u]&&(T+=h[ae],M+=o||c[ae-u].offsetHeight);const te=M-T;_.scrollTo(0,N+te)}}gr(()=>{c=y.getElementsByTagName("svelte-virtual-list-row"),n(13,k=!0)});function Y(N){tt[N?"unshift":"push"](()=>{y=N,n(4,y)})}function I(N){tt[N?"unshift":"push"](()=>{_=N,n(3,_)})}function B(){w=this.offsetHeight,n(2,w)}return e.$$set=N=>{"items"in N&&n(11,a=N.items),"height"in N&&n(0,l=N.height),"itemHeight"in N&&n(12,o=N.itemHeight),"hoverItemIndex"in N&&n(1,s=N.hoverItemIndex),"start"in N&&n(9,u=N.start),"end"in N&&n(10,f=N.end),"$$scope"in N&&n(14,i=N.$$scope)},e.$$.update=()=>{e.$$.dirty&3584&&n(5,g=a.slice(u,f).map((N,L)=>({index:L+u,data:N}))),e.$$.dirty&14340&&k&&A(a,w,o)},[l,s,w,_,y,g,S,v,z,u,f,a,o,k,i,r,Y,I,B]}class b0 extends pt{constructor(t){super(),yt(this,t,w0,v0,vt,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10})}}function k0(e){let t,n;return{c(){t=ne("svg"),n=ne("path"),this.h()},l(r){t=re(r,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0});var i=V(t);n=re(i,"path",{fill:!0,d:!0}),V(n).forEach(b),i.forEach(b),this.h()},h(){d(n,"fill","currentColor"),d(n,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),d(t,"width","100%"),d(t,"height","100%"),d(t,"viewBox","-2 -2 50 50"),d(t,"focusable","false"),d(t,"aria-hidden","true"),d(t,"role","presentation")},m(r,i){j(r,t,i),O(t,n)},p:De,i:De,o:De,d(r){r&&b(t)}}}class E0 extends pt{constructor(t){super(),yt(this,t,null,k0,vt,{})}}function A0(e,t,n){let r;return function(){let a=this,l=arguments,o=function(){r=null,n||e.apply(a,l)},s=n&&!r;clearTimeout(r),r=setTimeout(o,t),s&&e.apply(a,l)}}function Dl(e,t,n){const r=e.slice();return r[103]=t[n],r}function Ol(e){let t,n,r,i,a;return{c(){t=se("span"),n=ye(e[33]),r=Ie(),i=se("span"),a=ye(e[32]),this.h()},l(l){t=ue(l,"SPAN",{id:!0});var o=V(t);n=ve(o,e[33]),o.forEach(b),r=Se(l),i=ue(l,"SPAN",{id:!0});var s=V(i);a=ve(s,e[32]),s.forEach(b),this.h()},h(){d(t,"id","aria-selection"),d(i,"id","aria-context")},m(l,o){j(l,t,o),O(t,n),j(l,r,o),j(l,i,o),O(i,a)},p(l,o){o[1]&4&&Ye(n,l[33]),o[1]&2&&Ye(a,l[32])},d(l){l&&b(t),l&&b(r),l&&b(i)}}}function Rl(e){let t,n,r;const i=[e[18]];var a=e[17];function l(o){let s={};for(let u=0;u<i.length;u+=1)s=gi(s,i[u]);return{props:s}}return a&&(t=Je(a,l())),{c(){t&&Ve(t.$$.fragment),n=we()},l(o){t&&ot(t.$$.fragment,o),n=we()},m(o,s){t&&Be(t,o,s),j(o,n,s),r=!0},p(o,s){const u=s[0]&262144?pi(i,[ka(o[18])]):{};if(a!==(a=o[17])){if(t){Xe();const f=t;pe(f.$$.fragment,1,0,()=>{Pe(f,1)}),xe()}a?(t=Je(a,l()),Ve(t.$$.fragment),ce(t.$$.fragment,1),Be(t,n.parentNode,n)):t=null}else a&&t.$set(u)},i(o){r||(t&&ce(t.$$.fragment,o),r=!0)},o(o){t&&pe(t.$$.fragment,o),r=!1},d(o){o&&b(n),t&&Pe(t,o)}}}function Fl(e){let t,n,r;var i=e[26];function a(l){return{props:{value:l[2],getSelectionLabel:l[12],activeValue:l[30],isDisabled:l[9],multiFullItemClearable:l[8]}}}return i&&(t=Je(i,a(e)),t.$on("multiItemClear",e[38]),t.$on("focus",e[40])),{c(){t&&Ve(t.$$.fragment),n=we()},l(l){t&&ot(t.$$.fragment,l),n=we()},m(l,o){t&&Be(t,l,o),j(l,n,o),r=!0},p(l,o){const s={};if(o[0]&4&&(s.value=l[2]),o[0]&4096&&(s.getSelectionLabel=l[12]),o[0]&1073741824&&(s.activeValue=l[30]),o[0]&512&&(s.isDisabled=l[9]),o[0]&256&&(s.multiFullItemClearable=l[8]),i!==(i=l[26])){if(t){Xe();const u=t;pe(u.$$.fragment,1,0,()=>{Pe(u,1)}),xe()}i?(t=Je(i,a(l)),t.$on("multiItemClear",l[38]),t.$on("focus",l[40]),Ve(t.$$.fragment),ce(t.$$.fragment,1),Be(t,n.parentNode,n)):t=null}else i&&t.$set(s)},i(l){r||(t&&ce(t.$$.fragment,l),r=!0)},o(l){t&&pe(t.$$.fragment,l),r=!1},d(l){l&&b(n),t&&Pe(t,l)}}}function Hl(e){let t,n,r,i,a;var l=e[25];function o(s){return{props:{item:s[2],getSelectionLabel:s[12]}}}return l&&(n=Je(l,o(e))),{c(){t=se("div"),n&&Ve(n.$$.fragment),this.h()},l(s){t=ue(s,"DIV",{class:!0});var u=V(t);n&&ot(n.$$.fragment,u),u.forEach(b),this.h()},h(){d(t,"class","selectedItem svelte-17l1npl")},m(s,u){j(s,t,u),n&&Be(n,t,null),r=!0,i||(a=Z(t,"focus",e[40]),i=!0)},p(s,u){const f={};if(u[0]&4&&(f.item=s[2]),u[0]&4096&&(f.getSelectionLabel=s[12]),l!==(l=s[25])){if(n){Xe();const h=n;pe(h.$$.fragment,1,0,()=>{Pe(h,1)}),xe()}l?(n=Je(l,o(s)),Ve(n.$$.fragment),ce(n.$$.fragment,1),Be(n,t,null)):n=null}else l&&n.$set(f)},i(s){r||(n&&ce(n.$$.fragment,s),r=!0)},o(s){n&&pe(n.$$.fragment,s),r=!1},d(s){s&&b(t),n&&Pe(n),i=!1,a()}}}function Vl(e){let t,n,r,i,a;var l=e[23];function o(s){return{}}return l&&(n=Je(l,o())),{c(){t=se("div"),n&&Ve(n.$$.fragment),this.h()},l(s){t=ue(s,"DIV",{class:!0,"aria-hidden":!0});var u=V(t);n&&ot(n.$$.fragment,u),u.forEach(b),this.h()},h(){d(t,"class","clearSelect svelte-17l1npl"),d(t,"aria-hidden","true")},m(s,u){j(s,t,u),n&&Be(n,t,null),r=!0,i||(a=Z(t,"click",Ro(e[27])),i=!0)},p(s,u){if(l!==(l=s[23])){if(n){Xe();const f=n;pe(f.$$.fragment,1,0,()=>{Pe(f,1)}),xe()}l?(n=Je(l,o()),Ve(n.$$.fragment),ce(n.$$.fragment,1),Be(n,t,null)):n=null}},i(s){r||(n&&ce(n.$$.fragment,s),r=!0)},o(s){n&&pe(n.$$.fragment,s),r=!1},d(s){s&&b(t),n&&Pe(n),i=!1,a()}}}function Bl(e){let t;function n(a,l){return a[22]?S0:I0}let r=n(e),i=r(e);return{c(){t=se("div"),i.c(),this.h()},l(a){t=ue(a,"DIV",{class:!0,"aria-hidden":!0});var l=V(t);i.l(l),l.forEach(b),this.h()},h(){d(t,"class","indicator svelte-17l1npl"),d(t,"aria-hidden","true")},m(a,l){j(a,t,l),i.m(t,null)},p(a,l){r===(r=n(a))&&i?i.p(a,l):(i.d(1),i=r(a),i&&(i.c(),i.m(t,null)))},d(a){a&&b(t),i.d()}}}function I0(e){let t,n;return{c(){t=ne("svg"),n=ne("path"),this.h()},l(r){t=re(r,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,class:!0});var i=V(t);n=re(i,"path",{d:!0}),V(n).forEach(b),i.forEach(b),this.h()},h(){d(n,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),d(t,"width","100%"),d(t,"height","100%"),d(t,"viewBox","0 0 20 20"),d(t,"focusable","false"),d(t,"aria-hidden","true"),d(t,"class","svelte-17l1npl")},m(r,i){j(r,t,i),O(t,n)},p:De,d(r){r&&b(t)}}}function S0(e){let t,n;return{c(){t=new Ho(!1),n=we(),this.h()},l(r){t=Vo(r,!1),n=we(),this.h()},h(){t.a=n},m(r,i){t.m(e[22],r,i),j(r,n,i)},p(r,i){i[0]&4194304&&t.p(r[22])},d(r){r&&b(n),r&&t.d()}}}function Pl(e){let t,n,r;return{c(){t=se("div"),n=ne("svg"),r=ne("circle"),this.h()},l(i){t=ue(i,"DIV",{class:!0});var a=V(t);n=re(a,"svg",{class:!0,viewBox:!0});var l=V(n);r=re(l,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),V(r).forEach(b),l.forEach(b),a.forEach(b),this.h()},h(){d(r,"class","spinner_path svelte-17l1npl"),d(r,"cx","50"),d(r,"cy","50"),d(r,"r","20"),d(r,"fill","none"),d(r,"stroke","currentColor"),d(r,"stroke-width","5"),d(r,"stroke-miterlimit","10"),d(n,"class","spinner_icon svelte-17l1npl"),d(n,"viewBox","25 25 50 50"),d(t,"class","spinner svelte-17l1npl")},m(i,a){j(i,t,a),O(t,n),O(n,r)},d(i){i&&b(t)}}}function Gl(e){let t,n,r,i;const a=[e[34]];function l(u){e[84](u)}var o=e[24];function s(u){let f={};for(let h=0;h<a.length;h+=1)f=gi(f,a[h]);return u[28]!==void 0&&(f.hoverItemIndex=u[28]),{props:f}}return o&&(t=Je(o,s(e)),tt.push(()=>Hi(t,"hoverItemIndex",l)),t.$on("itemSelected",e[43]),t.$on("itemCreated",e[44]),t.$on("closeList",e[45])),{c(){t&&Ve(t.$$.fragment),r=we()},l(u){t&&ot(t.$$.fragment,u),r=we()},m(u,f){t&&Be(t,u,f),j(u,r,f),i=!0},p(u,f){const h=f[1]&8?pi(a,[ka(u[34])]):{};if(!n&&f[0]&268435456&&(n=!0,h.hoverItemIndex=u[28],Fo(()=>n=!1)),o!==(o=u[24])){if(t){Xe();const c=t;pe(c.$$.fragment,1,0,()=>{Pe(c,1)}),xe()}o?(t=Je(o,s(u)),tt.push(()=>Hi(t,"hoverItemIndex",l)),t.$on("itemSelected",u[43]),t.$on("itemCreated",u[44]),t.$on("closeList",u[45]),Ve(t.$$.fragment),ce(t.$$.fragment,1),Be(t,r.parentNode,r)):t=null}else o&&t.$set(h)},i(u){i||(t&&ce(t.$$.fragment,u),i=!0)},o(u){t&&pe(t.$$.fragment,u),i=!1},d(u){u&&b(r),t&&Pe(t,u)}}}function Ul(e){let t,n,r;return{c(){t=se("input"),this.h()},l(i){t=ue(i,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){d(t,"name",n=e[16].name),d(t,"type","hidden"),t.value=r=e[2]?e[12](e[2]):null,d(t,"class","svelte-17l1npl")},m(i,a){j(i,t,a)},p(i,a){a[0]&65536&&n!==(n=i[16].name)&&d(t,"name",n),a[0]&4100&&r!==(r=i[2]?i[12](i[2]):null)&&(t.value=r)},d(i){i&&b(t)}}}function zl(e){let t,n=e[2],r=[];for(let i=0;i<n.length;i+=1)r[i]=Yl(Dl(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=we()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=we()},m(i,a){for(let l=0;l<r.length;l+=1)r[l].m(i,a);j(i,t,a)},p(i,a){if(a[0]&69636){n=i[2];let l;for(l=0;l<n.length;l+=1){const o=Dl(i,n,l);r[l]?r[l].p(o,a):(r[l]=Yl(o),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){mi(r,i),i&&b(t)}}}function Yl(e){let t,n,r;return{c(){t=se("input"),this.h()},l(i){t=ue(i,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){d(t,"name",n=e[16].name),d(t,"type","hidden"),t.value=r=e[103]?e[12](e[103]):null,d(t,"class","svelte-17l1npl")},m(i,a){j(i,t,a)},p(i,a){a[0]&65536&&n!==(n=i[16].name)&&d(t,"name",n),a[0]&4100&&r!==(r=i[103]?i[12](i[103]):null)&&(t.value=r)},d(i){i&&b(t)}}}function T0(e){let t,n,r,i,a,l,o,s,u,f,h,c,_,y,w,g,k,S,v=e[1]&&Ol(e),m=e[17]&&Rl(e),A=e[35]&&Fl(e),z=[{readOnly:o=!e[13]},e[31],{placeholder:e[36]},{style:e[14]},{disabled:e[9]}],Y={};for(let T=0;T<z.length;T+=1)Y=gi(Y,z[T]);let I=!e[7]&&e[29]&&Hl(e),B=e[37]&&Vl(e),N=!e[37]&&(e[20]||e[19]&&!e[2]||!e[13]&&!e[9]&&!e[4]&&(e[29]&&!e[15]||!e[29]))&&Bl(e),L=e[4]&&Pl(),W=e[5]&&Gl(e),P=(!e[7]||e[7]&&!e[35])&&Ul(e),x=e[7]&&e[35]&&zl(e);return{c(){t=se("div"),n=se("span"),v&&v.c(),r=Ie(),m&&m.c(),i=Ie(),A&&A.c(),a=Ie(),l=se("input"),s=Ie(),I&&I.c(),u=Ie(),B&&B.c(),f=Ie(),N&&N.c(),h=Ie(),L&&L.c(),c=Ie(),W&&W.c(),_=Ie(),P&&P.c(),y=Ie(),x&&x.c(),this.h()},l(T){t=ue(T,"DIV",{class:!0,style:!0});var M=V(t);n=ue(M,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var te=V(n);v&&v.l(te),te.forEach(b),r=Se(M),m&&m.l(M),i=Se(M),A&&A.l(M),a=Se(M),l=ue(M,"INPUT",{placeholder:!0,style:!0}),s=Se(M),I&&I.l(M),u=Se(M),B&&B.l(M),f=Se(M),N&&N.l(M),h=Se(M),L&&L.l(M),c=Se(M),W&&W.l(M),_=Se(M),P&&P.l(M),y=Se(M),x&&x.l(M),M.forEach(b),this.h()},h(){d(n,"aria-live","polite"),d(n,"aria-atomic","false"),d(n,"aria-relevant","additions text"),d(n,"class","a11yText svelte-17l1npl"),Ri(l,Y),ht(l,"svelte-17l1npl",!0),d(t,"class",w="selectContainer "+e[21]+" svelte-17l1npl"),d(t,"style",e[11]),ht(t,"hasError",e[10]),ht(t,"multiSelect",e[7]),ht(t,"disabled",e[9]),ht(t,"focused",e[1])},m(T,M){j(T,t,M),O(t,n),v&&v.m(n,null),O(t,r),m&&m.m(t,null),O(t,i),A&&A.m(t,null),O(t,a),O(t,l),l.autofocus&&l.focus(),e[82](l),Fi(l,e[3]),O(t,s),I&&I.m(t,null),O(t,u),B&&B.m(t,null),O(t,f),N&&N.m(t,null),O(t,h),L&&L.m(t,null),O(t,c),W&&W.m(t,null),O(t,_),P&&P.m(t,null),O(t,y),x&&x.m(t,null),e[85](t),g=!0,k||(S=[Z(window,"click",e[41]),Z(window,"focusin",e[41]),Z(window,"keydown",e[39]),Z(l,"focus",e[40]),Z(l,"input",e[83]),Z(t,"click",e[42])],k=!0)},p(T,M){T[1]?v?v.p(T,M):(v=Ol(T),v.c(),v.m(n,null)):v&&(v.d(1),v=null),T[17]?m?(m.p(T,M),M[0]&131072&&ce(m,1)):(m=Rl(T),m.c(),ce(m,1),m.m(t,i)):m&&(Xe(),pe(m,1,1,()=>{m=null}),xe()),T[35]?A?(A.p(T,M),M[1]&16&&ce(A,1)):(A=Fl(T),A.c(),ce(A,1),A.m(t,a)):A&&(Xe(),pe(A,1,1,()=>{A=null}),xe()),Ri(l,Y=pi(z,[(!g||M[0]&8192&&o!==(o=!T[13]))&&{readOnly:o},M[1]&1&&T[31],(!g||M[1]&32)&&{placeholder:T[36]},(!g||M[0]&16384)&&{style:T[14]},(!g||M[0]&512)&&{disabled:T[9]}])),M[0]&8&&l.value!==T[3]&&Fi(l,T[3]),ht(l,"svelte-17l1npl",!0),!T[7]&&T[29]?I?(I.p(T,M),M[0]&536871040&&ce(I,1)):(I=Hl(T),I.c(),ce(I,1),I.m(t,u)):I&&(Xe(),pe(I,1,1,()=>{I=null}),xe()),T[37]?B?(B.p(T,M),M[1]&64&&ce(B,1)):(B=Vl(T),B.c(),ce(B,1),B.m(t,f)):B&&(Xe(),pe(B,1,1,()=>{B=null}),xe()),!T[37]&&(T[20]||T[19]&&!T[2]||!T[13]&&!T[9]&&!T[4]&&(T[29]&&!T[15]||!T[29]))?N?N.p(T,M):(N=Bl(T),N.c(),N.m(t,h)):N&&(N.d(1),N=null),T[4]?L||(L=Pl(),L.c(),L.m(t,c)):L&&(L.d(1),L=null),T[5]?W?(W.p(T,M),M[0]&32&&ce(W,1)):(W=Gl(T),W.c(),ce(W,1),W.m(t,_)):W&&(Xe(),pe(W,1,1,()=>{W=null}),xe()),!T[7]||T[7]&&!T[35]?P?P.p(T,M):(P=Ul(T),P.c(),P.m(t,y)):P&&(P.d(1),P=null),T[7]&&T[35]?x?x.p(T,M):(x=zl(T),x.c(),x.m(t,null)):x&&(x.d(1),x=null),(!g||M[0]&2097152&&w!==(w="selectContainer "+T[21]+" svelte-17l1npl"))&&d(t,"class",w),(!g||M[0]&2048)&&d(t,"style",T[11]),(!g||M[0]&2098176)&&ht(t,"hasError",T[10]),(!g||M[0]&2097280)&&ht(t,"multiSelect",T[7]),(!g||M[0]&2097664)&&ht(t,"disabled",T[9]),(!g||M[0]&2097154)&&ht(t,"focused",T[1])},i(T){g||(ce(m),ce(A),ce(I),ce(B),ce(W),g=!0)},o(T){pe(m),pe(A),pe(I),pe(B),pe(W),g=!1},d(T){T&&b(t),v&&v.d(),m&&m.d(),A&&A.d(),e[82](null),I&&I.d(),B&&B.d(),N&&N.d(),L&&L.d(),W&&W.d(),P&&P.d(),x&&x.d(),e[85](null),k=!1,ut(S)}}}function Xl(e){return e.map((t,n)=>({index:n,value:t,label:`${t}`}))}function M0(e,t,n){let r,i,a,l,o,s,u,f;const h=_i();let{id:c=null}=t,{container:_=void 0}=t,{input:y=void 0}=t,{isMulti:w=!1}=t,{multiFullItemClearable:g=!1}=t,{isDisabled:k=!1}=t,{isCreatable:S=!1}=t,{isFocused:v=!1}=t,{value:m=null}=t,{filterText:A=""}=t,{placeholder:z="Select..."}=t,{placeholderAlwaysShow:Y=!1}=t,{items:I=null}=t,{itemFilter:B=(p,de,Ne)=>`${p}`.toLowerCase().includes(de.toLowerCase())}=t,{groupBy:N=void 0}=t,{groupFilter:L=p=>p}=t,{isGroupHeaderSelectable:W=!1}=t,{getGroupHeaderLabel:P=p=>p[x]||p.id}=t,{labelIdentifier:x="label"}=t,{getOptionLabel:T=(p,de)=>p.isCreator?`Create "${de}"`:p[x]}=t,{optionIdentifier:M="value"}=t,{loadOptions:te=void 0}=t,{hasError:ae=!1}=t,{containerStyles:ee=""}=t,{getSelectionLabel:X=p=>p?p[x]:null}=t,{createGroupHeaderItem:G=p=>({value:p,label:p})}=t,{createItem:q=p=>({value:p,label:p})}=t;const oe=()=>r;let{isSearchable:fe=!0}=t,{inputStyles:Ae=""}=t,{isClearable:_e=!0}=t,{isWaiting:le=!1}=t,{listPlacement:F="auto"}=t,{listOpen:Q=!1}=t,{isVirtualList:Me=!1}=t,{loadOptionsInterval:H=300}=t,{noOptionsMessage:$="No options"}=t,{hideEmptyState:D=!1}=t,{inputAttributes:R={}}=t,{listAutoWidth:K=!0}=t,{itemHeight:Ee=40}=t,{Icon:ie=void 0}=t,{iconProps:me={}}=t,{showChevron:C=!1}=t,{showIndicator:ge=!1}=t,{containerClasses:be=""}=t,{indicatorSvg:He=void 0}=t,{listOffset:Ue=5}=t,{ClearIcon:nt=E0}=t,{Item:Qe=lo}=t,{List:E=f0}=t,{Selection:U=d0}=t,{MultiSelection:J=g0}=t,{VirtualList:he=b0}=t;function Ce(p){if(p.loadOptions&&p.filterText.length>0)return;if(!p.items)return[];p.items&&p.items.length>0&&typeof p.items[0]!="object"&&(p.items=Xl(p.items));let de=p.items.filter(Ne=>{let ct=B(T(Ne,p.filterText),p.filterText,Ne);return ct&&p.isMulti&&p.value&&Array.isArray(p.value)&&(ct=!p.value.some(Ut=>Ut[p.optionIdentifier]===Ne[p.optionIdentifier])),ct});return p.groupBy&&(de=ao(de)),p.isCreatable&&(de=Le(de,p.filterText)),de}function Le(p,de){if(de.length===0)return p;const Ne=q(de);return p[0]&&de===p[0][x]?p:(Ne.isCreator=!0,[...p,Ne])}let{selectedValue:Re=null}=t,Te,We,Ke,Oe,$e,Fe;const rt=A0(async()=>{n(4,le=!0);let p=await te(A).catch(de=>{console.warn("svelte-select loadOptions error :>> ",de),h("error",{type:"loadOptions",details:de})});p&&!p.cancelled&&(p?(p&&p.length>0&&typeof p[0]!="object"&&(p=Xl(p)),n(81,r=[...p]),h("loaded",{items:r})):n(81,r=[]),S&&n(81,r=Le(r,A)),n(4,le=!1),n(1,v=!0),n(5,Q=!0))},H);function Gt(){typeof m=="string"?n(2,m={[M]:m,label:m}):w&&Array.isArray(m)&&m.length>0&&n(2,m=m.map(p=>typeof p=="string"?{value:p,label:p}:p))}let ft;function Cn(){n(31,ft=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},R)),c&&n(31,ft.id=c,ft),fe||n(31,ft.readonly=!0,ft)}function ao(p){const de=[],Ne={};p.forEach(Ut=>{const St=N(Ut);de.includes(St)||(de.push(St),Ne[St]=[],St&&Ne[St].push(Object.assign(G(St,Ut),{id:St,isGroupHeader:!0,isSelectable:W}))),Ne[St].push(Object.assign({isGroupItem:!!St},Ut))});const ct=[];return L(de).forEach(Ut=>{ct.push(...Ne[Ut])}),ct}function oo(){if(w){JSON.stringify(m)!==JSON.stringify(We)&&Li()&&h("select",m);return}(!We||JSON.stringify(m[M])!==JSON.stringify(We[M]))&&h("select",m)}function so(){v||Q?kr():y&&y.blur()}function uo(){m&&(Array.isArray(m)?n(2,m=[...m]):n(2,m=[m]))}function fo(){m&&n(2,m=null)}function co(){A.length!==0&&(n(1,v=!0),n(5,Q=!0),te?rt():(n(5,Q=!0),w&&n(30,Te=void 0)))}ba(async()=>{n(77,We=m),n(78,Ke=A),n(79,Oe=v),n(80,$e=w)});function Li(){let p=!0;if(m){const de=[],Ne=[];m.forEach(ct=>{de.includes(ct[M])?p=!1:(de.push(ct[M]),Ne.push(ct))}),p||n(2,m=Ne)}return p}function Di(p){let de=p?p[M]:m[M];return I.find(Ne=>Ne[M]===de)}function ho(p){!p||p.length===0||p.some(de=>typeof de!="object")||!m||(w?m.some(de=>!de||!de[M]):!m[M])||(Array.isArray(m)?n(2,m=m.map(de=>Di(de)||de)):n(2,m=Di()||m))}function Oi(p){const{detail:de}=p,Ne=m[de?de.i:m.length-1];m.length===1?n(2,m=void 0):n(2,m=m.filter(ct=>ct!==Ne)),h("clear",Ne)}function _o(p){if(!!v)switch(p.key){case"ArrowDown":p.preventDefault(),n(5,Q=!0),n(30,Te=void 0);break;case"ArrowUp":p.preventDefault(),n(5,Q=!0),n(30,Te=void 0);break;case"Tab":Q||n(1,v=!1);break;case"Backspace":if(!w||A.length>0)return;if(w&&m&&m.length>0){if(Oi(Te!==void 0?Te:m.length-1),Te===0||Te===void 0)break;n(30,Te=m.length>Te?Te-1:void 0)}break;case"ArrowLeft":if(!w||A.length>0)return;Te===void 0?n(30,Te=m.length-1):m.length>Te&&Te!==0&&n(30,Te-=1);break;case"ArrowRight":if(!w||A.length>0||Te===void 0)return;Te===m.length-1?n(30,Te=void 0):Te<m.length-1&&n(30,Te+=1);break}}function kr(){n(1,v=!0),y&&y.focus()}function mo(p){if(!_)return;const de=p.path&&p.path.length>0?p.path[0]:p.target;_.contains(de)||_.contains(p.relatedTarget)||(n(1,v=!1),n(5,Q=!1),n(30,Te=void 0),y&&y.blur())}function go(){k||(n(1,v=!0),n(5,Q=!Q))}function po(){n(2,m=void 0),n(5,Q=!1),h("clear",m),kr()}gr(()=>{v&&y&&y.focus()});function yo(p){const{detail:de}=p;if(de){n(3,A="");const Ne=Object.assign({},de);(!Ne.isGroupHeader||Ne.isSelectable)&&(w?n(2,m=m?m.concat([Ne]):[Ne]):n(2,m=Ne),n(2,m),setTimeout(()=>{n(5,Q=!1),n(30,Te=void 0)}))}}function vo(p){const{detail:de}=p;w?(n(2,m=m||[]),n(2,m=[...m,q(de)])):n(2,m=q(de)),h("itemCreated",de),n(3,A=""),n(5,Q=!1),n(30,Te=void 0)}function wo(){n(3,A=""),n(5,Q=!1)}let{ariaValues:Er=p=>`Option ${p}, selected.`}=t,{ariaListOpen:Ar=(p,de)=>`You are currently focused on option ${p}. There are ${de} results available.`}=t,{ariaFocused:Ir=()=>"Select is focused, type to refine list, press down to open the menu."}=t;function bo(){let p;return w&&m.length>0?p=m.map(de=>X(de)).join(", "):p=X(m),Er(p)}function ko(){if(!v||!r||r.length===0)return"";let p=r[Fe];if(Q&&p){let de=X(p),Ne=r?r.length:0;return Ar(de,Ne)}else return Ir()}function Eo(p){tt[p?"unshift":"push"](()=>{y=p,n(6,y)})}function Ao(){A=this.value,n(3,A)}function Io(p){Fe=p,n(28,Fe)}function So(p){tt[p?"unshift":"push"](()=>{_=p,n(0,_)})}return e.$$set=p=>{"id"in p&&n(46,c=p.id),"container"in p&&n(0,_=p.container),"input"in p&&n(6,y=p.input),"isMulti"in p&&n(7,w=p.isMulti),"multiFullItemClearable"in p&&n(8,g=p.multiFullItemClearable),"isDisabled"in p&&n(9,k=p.isDisabled),"isCreatable"in p&&n(47,S=p.isCreatable),"isFocused"in p&&n(1,v=p.isFocused),"value"in p&&n(2,m=p.value),"filterText"in p&&n(3,A=p.filterText),"placeholder"in p&&n(48,z=p.placeholder),"placeholderAlwaysShow"in p&&n(49,Y=p.placeholderAlwaysShow),"items"in p&&n(50,I=p.items),"itemFilter"in p&&n(51,B=p.itemFilter),"groupBy"in p&&n(52,N=p.groupBy),"groupFilter"in p&&n(53,L=p.groupFilter),"isGroupHeaderSelectable"in p&&n(54,W=p.isGroupHeaderSelectable),"getGroupHeaderLabel"in p&&n(55,P=p.getGroupHeaderLabel),"labelIdentifier"in p&&n(56,x=p.labelIdentifier),"getOptionLabel"in p&&n(57,T=p.getOptionLabel),"optionIdentifier"in p&&n(58,M=p.optionIdentifier),"loadOptions"in p&&n(59,te=p.loadOptions),"hasError"in p&&n(10,ae=p.hasError),"containerStyles"in p&&n(11,ee=p.containerStyles),"getSelectionLabel"in p&&n(12,X=p.getSelectionLabel),"createGroupHeaderItem"in p&&n(60,G=p.createGroupHeaderItem),"createItem"in p&&n(61,q=p.createItem),"isSearchable"in p&&n(13,fe=p.isSearchable),"inputStyles"in p&&n(14,Ae=p.inputStyles),"isClearable"in p&&n(15,_e=p.isClearable),"isWaiting"in p&&n(4,le=p.isWaiting),"listPlacement"in p&&n(63,F=p.listPlacement),"listOpen"in p&&n(5,Q=p.listOpen),"isVirtualList"in p&&n(64,Me=p.isVirtualList),"loadOptionsInterval"in p&&n(65,H=p.loadOptionsInterval),"noOptionsMessage"in p&&n(66,$=p.noOptionsMessage),"hideEmptyState"in p&&n(67,D=p.hideEmptyState),"inputAttributes"in p&&n(16,R=p.inputAttributes),"listAutoWidth"in p&&n(68,K=p.listAutoWidth),"itemHeight"in p&&n(69,Ee=p.itemHeight),"Icon"in p&&n(17,ie=p.Icon),"iconProps"in p&&n(18,me=p.iconProps),"showChevron"in p&&n(19,C=p.showChevron),"showIndicator"in p&&n(20,ge=p.showIndicator),"containerClasses"in p&&n(21,be=p.containerClasses),"indicatorSvg"in p&&n(22,He=p.indicatorSvg),"listOffset"in p&&n(70,Ue=p.listOffset),"ClearIcon"in p&&n(23,nt=p.ClearIcon),"Item"in p&&n(71,Qe=p.Item),"List"in p&&n(24,E=p.List),"Selection"in p&&n(25,U=p.Selection),"MultiSelection"in p&&n(26,J=p.MultiSelection),"VirtualList"in p&&n(72,he=p.VirtualList),"selectedValue"in p&&n(73,Re=p.selectedValue),"ariaValues"in p&&n(74,Er=p.ariaValues),"ariaListOpen"in p&&n(75,Ar=p.ariaListOpen),"ariaFocused"in p&&n(76,Ir=p.ariaFocused)},e.$$.update=()=>{e.$$.dirty[0]&140|e.$$.dirty[1]&405340160&&n(81,r=Ce({loadOptions:te,filterText:A,items:I,value:m,isMulti:w,optionIdentifier:M,groupBy:N,isCreatable:S})),e.$$.dirty[2]&2048&&Re&&console.warn("selectedValue is no longer used. Please use value instead."),e.$$.dirty[1]&524288&&ho(I),e.$$.dirty[0]&4&&m&&Gt(),e.$$.dirty[0]&73728&&(R||!fe)&&Cn(),e.$$.dirty[0]&128|e.$$.dirty[2]&262144&&(w&&uo(),$e&&!w&&fo()),e.$$.dirty[0]&132&&w&&m&&m.length>1&&Li(),e.$$.dirty[0]&4&&m&&oo(),e.$$.dirty[0]&132|e.$$.dirty[2]&32768&&!m&&w&&We&&h("select",m),e.$$.dirty[0]&2|e.$$.dirty[2]&131072&&v!==Oe&&so(),e.$$.dirty[0]&8|e.$$.dirty[2]&65536&&A!==Ke&&co(),e.$$.dirty[0]&12&&n(29,i=m&&A.length===0),e.$$.dirty[0]&536904208&&n(37,a=i&&_e&&!k&&!le),e.$$.dirty[0]&132|e.$$.dirty[1]&393216&&n(36,l=Y&&w?z:m?"":z),e.$$.dirty[0]&132&&n(35,o=w&&m&&m.length>0),e.$$.dirty[0]&141|e.$$.dirty[1]&218103808|e.$$.dirty[2]&526326&&n(34,s={Item:Qe,filterText:A,optionIdentifier:M,noOptionsMessage:$,hideEmptyState:D,isVirtualList:Me,VirtualList:he,value:m,isMulti:w,getGroupHeaderLabel:P,items:r,itemHeight:Ee,getOptionLabel:T,listPlacement:F,parent:_,listAutoWidth:K,listOffset:Ue}),e.$$.dirty[0]&132&&n(33,u=m?bo():""),e.$$.dirty[0]&268435490|e.$$.dirty[2]&524288&&n(32,f=ko())},[_,v,m,A,le,Q,y,w,g,k,ae,ee,X,fe,Ae,_e,R,ie,me,C,ge,be,He,nt,E,U,J,po,Fe,i,Te,ft,f,u,s,o,l,a,Oi,_o,kr,mo,go,yo,vo,wo,c,S,z,Y,I,B,N,L,W,P,x,T,M,te,G,q,oe,F,Me,H,$,D,K,Ee,Ue,Qe,he,Re,Er,Ar,Ir,We,Ke,Oe,$e,r,Eo,Ao,Io,So]}class xl extends pt{constructor(t){super(),yt(this,t,M0,T0,vt,{id:46,container:0,input:6,isMulti:7,multiFullItemClearable:8,isDisabled:9,isCreatable:47,isFocused:1,value:2,filterText:3,placeholder:48,placeholderAlwaysShow:49,items:50,itemFilter:51,groupBy:52,groupFilter:53,isGroupHeaderSelectable:54,getGroupHeaderLabel:55,labelIdentifier:56,getOptionLabel:57,optionIdentifier:58,loadOptions:59,hasError:10,containerStyles:11,getSelectionLabel:12,createGroupHeaderItem:60,createItem:61,getFilteredItems:62,isSearchable:13,inputStyles:14,isClearable:15,isWaiting:4,listPlacement:63,listOpen:5,isVirtualList:64,loadOptionsInterval:65,noOptionsMessage:66,hideEmptyState:67,inputAttributes:16,listAutoWidth:68,itemHeight:69,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,listOffset:70,ClearIcon:23,Item:71,List:24,Selection:25,MultiSelection:26,VirtualList:72,selectedValue:73,handleClear:27,ariaValues:74,ariaListOpen:75,ariaFocused:76},null,[-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[62]}get handleClear(){return this.$$.ctx[27]}}function N0(e){const t=e-1;return t*t*t+1}function hr(e,{delay:t=0,duration:n=400,easing:r=Bo}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:a=>`opacity: ${a*i}`}}function C0(e,{from:t,to:n},r={}){const i=getComputedStyle(e),a=i.transform==="none"?"":i.transform,[l,o]=i.transformOrigin.split(" ").map(parseFloat),s=t.left+t.width*l/n.width-(n.left+l),u=t.top+t.height*o/n.height-(n.top+o),{delay:f=0,duration:h=_=>Math.sqrt(_)*120,easing:c=N0}=r;return{delay:f,duration:Ge(h)?h(Math.sqrt(s*s+u*u)):h,easing:c,css:(_,y)=>{const w=y*s,g=y*u,k=_+y*t.width/n.width,S=_+y*t.height/n.height;return`transform: ${a} translate(${w}px, ${g}px) scale(${k}, ${S});`}}}const Xt=vi([2020]),et=vi(new Set),kn=vi(!0);class L0{constructor(t){ze(this,"id");ze(this,"code");ze(this,"name");ze(this,"level");this.id=+t.location_id,this.code=t.location_code,this.name=t.location_name_short_en,this.level=t.level}}class Jn{constructor(t){ze(this,"id");ze(this,"code");ze(this,"name");ze(this,"level");ze(this,"parent_id");ze(this,"parent");this.id=+t.product_id,this.code=+t.hs_product_code,this.name=t.hs_product_name_short_en,this.level=t.level,this.parent_id=+t.parent_id,this.parent=null}}class Dt{constructor(t,n,r){ze(this,"location_id");ze(this,"location");ze(this,"partner_id");ze(this,"partner");ze(this,"product_id");ze(this,"product");ze(this,"year");ze(this,"export_value");ze(this,"import_value");this.location_id=+r.location_id,this.location=t.get(this.location_id),this.partner_id=+r.partner_id,this.partner=t.get(this.partner_id),this.product_id=+r.product_id,this.product=n.get(this.product_id),this.year=+r.year,this.export_value=+r.export_value,this.import_value=+r.import_value}}function Wl(e,t,n){const r=e.slice();return r[45]=t[n],r[47]=n,r}function Kl(e,t,n){const r=e.slice();return r[45]=t[n],r[47]=n,r}function ql(e,t,n){const r=e.slice();return r[45]=t[n],r[47]=n,r}function D0(e){let t,n,r,i,a;return{c(){t=ne("text"),n=ye("No valid data for this pair."),this.h()},l(l){t=re(l,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var o=V(t);n=ve(o,"No valid data for this pair."),o.forEach(b),this.h()},h(){d(t,"x",r=e[3]/2),d(t,"y",i=e[9]/2),d(t,"alignment-baseline","central"),d(t,"text-anchor","middle")},m(l,o){j(l,t,o),O(t,n)},p(l,o){o[0]&8&&r!==(r=l[3]/2)&&d(t,"x",r),o[0]&512&&i!==(i=l[9]/2)&&d(t,"y",i)},i(l){a||jt(()=>{a=yi(t,hr,{}),a.start()})},o:De,d(l){l&&b(t)}}}function O0(e){var H,$;let t,n,r=e[1]==e[0].AlphaUp?"\u2191":e[1]==e[0].AlphaDown?"\u2193":" ",i,a,l,o=e[1]==e[0].Up?"\u2191":e[1]==e[0].Down?"\u2193":" ",s,u,f,h,c=((H=e[2])==null?void 0:H.name)+" ",_,y=e[1]==e[0].LeftUp?"\u2191":e[1]==e[0].LeftDown?"\u2193":" ",w,g,k=e[1]==e[0].RightUp?"\u2191":e[1]==e[0].RightDown?"\u2193":" ",S,v,m=(($=e[2])==null?void 0:$.name)+"",A,z,Y,I=[],B=new Map,N,L=[],W=new Map,P,x=[],T=new Map,M,te,ae,ee,X,G,q,oe,fe,Ae=e[10];const _e=D=>D[45].product_id;for(let D=0;D<Ae.length;D+=1){let R=ql(e,Ae,D),K=_e(R);B.set(K,I[D]=Zl(K,R))}let le=e[10];const F=D=>D[47];for(let D=0;D<le.length;D+=1){let R=Kl(e,le,D),K=F(R);W.set(K,L[D]=Jl(K,R))}let Q=e[10];const Me=D=>D[45].product_id;for(let D=0;D<Q.length;D+=1){let R=Wl(e,Q,D),K=Me(R);T.set(K,x[D]=Ql(K,R))}return{c(){t=ne("text"),n=ye("Sector "),i=ye(r),a=ne("text"),l=ye("Trade Flow "),s=ye(o),f=ne("text"),h=ye("Export to "),_=ye(c),w=ye(y),g=ne("text"),S=ye(k),v=ye("\xA0Import from "),A=ye(m),Y=ne("g");for(let D=0;D<I.length;D+=1)I[D].c();N=we();for(let D=0;D<L.length;D+=1)L[D].c();P=we();for(let D=0;D<x.length;D+=1)x[D].c();M=ne("line"),ee=ne("line"),G=ne("g"),q=ne("g"),this.h()},l(D){t=re(D,"text",{"text-anchor":!0,class:!0,x:!0,y:!0,"alignment-baseline":!0});var R=V(t);n=ve(R,"Sector "),i=ve(R,r),R.forEach(b),a=re(D,"text",{"text-anchor":!0,class:!0,x:!0,y:!0,"alignment-baseline":!0});var K=V(a);l=ve(K,"Trade Flow "),s=ve(K,o),K.forEach(b),f=re(D,"text",{class:!0,x:!0,y:!0,"alignment-baseline":!0,"font-size":!0});var Ee=V(f);h=ve(Ee,"Export to "),_=ve(Ee,c),w=ve(Ee,y),Ee.forEach(b),g=re(D,"text",{class:!0,x:!0,y:!0,"text-anchor":!0,"alignment-baseline":!0,"font-size":!0});var ie=V(g);S=ve(ie,k),v=ve(ie,"\xA0Import from "),A=ve(ie,m),ie.forEach(b),Y=re(D,"g",{id:!0,transform:!0});var me=V(Y);for(let C=0;C<I.length;C+=1)I[C].l(me);N=we();for(let C=0;C<L.length;C+=1)L[C].l(me);P=we();for(let C=0;C<x.length;C+=1)x[C].l(me);M=re(me,"line",{id:!0,transform:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,class:!0}),V(M).forEach(b),ee=re(me,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),V(ee).forEach(b),G=re(me,"g",{id:!0}),V(G).forEach(b),me.forEach(b),q=re(D,"g",{id:!0,class:!0}),V(q).forEach(b),this.h()},h(){var D,R,K,Ee;d(t,"text-anchor","start"),d(t,"class","chart-header sortable svelte-rp8abc"),d(t,"x",15),d(t,"y",gn/2),d(t,"alignment-baseline","hanging"),d(a,"text-anchor","middle"),d(a,"class","chart-header sortable svelte-rp8abc"),d(a,"x",u=(e[3]-Et)/2+Et-20),d(a,"y",gn/2-7),d(a,"alignment-baseline","hanging"),d(f,"class","from-label sortable svelte-rp8abc"),d(f,"x",Et),d(f,"y",gn/2-5),d(f,"alignment-baseline","hanging"),d(f,"font-size","13"),d(g,"class","from-label sortable svelte-rp8abc"),d(g,"x",z=e[3]-20),d(g,"y",gn/2-5),d(g,"text-anchor","end"),d(g,"alignment-baseline","hanging"),d(g,"font-size","13"),d(M,"id","midline"),d(M,"transform",te=`translate(${e[5](0)},0)`),d(M,"y1",20),d(M,"y2",ae=(((R=(D=e[10])==null?void 0:D.length)!=null?R:0)+1)*Ze),d(M,"stroke","rgba(0,0,0,0.7)"),d(M,"stroke-width","1"),d(M,"class","svelte-rp8abc"),d(ee,"x1",Et),d(ee,"y1",0),d(ee,"x2",Et),d(ee,"y2",X=(((Ee=(K=e[10])==null?void 0:K.length)!=null?Ee:0)+1)*Ze),d(ee,"stroke","rgba(0,0,0,0.1)"),d(ee,"stroke-width","1"),d(G,"id","axis"),d(Y,"id","bar-content"),d(Y,"transform",`translate(${0},${gn})`),d(q,"id","bar-chart-tooltip"),d(q,"class","tooltip")},m(D,R){j(D,t,R),O(t,n),O(t,i),j(D,a,R),O(a,l),O(a,s),j(D,f,R),O(f,h),O(f,_),O(f,w),j(D,g,R),O(g,S),O(g,v),O(g,A),j(D,Y,R);for(let K=0;K<I.length;K+=1)I[K].m(Y,null);O(Y,N);for(let K=0;K<L.length;K+=1)L[K].m(Y,null);O(Y,P);for(let K=0;K<x.length;K+=1)x[K].m(Y,null);O(Y,M),O(Y,ee),O(Y,G),e[37](G),j(D,q,R),oe||(fe=[Z(t,"click",e[30]),Z(t,"keydown",H0),Z(a,"click",e[31]),Z(a,"keydown",V0),Z(f,"keydown",B0),Z(f,"click",e[32]),Z(g,"click",e[33]),Z(g,"keydown",P0)],oe=!0)},p(D,R){var K,Ee,ie,me,C,ge;if(R[0]&3&&r!==(r=D[1]==D[0].AlphaUp?"\u2191":D[1]==D[0].AlphaDown?"\u2193":" ")&&Ye(i,r),R[0]&3&&o!==(o=D[1]==D[0].Up?"\u2191":D[1]==D[0].Down?"\u2193":" ")&&Ye(s,o),R[0]&8&&u!==(u=(D[3]-Et)/2+Et-20)&&d(a,"x",u),R[0]&4&&c!==(c=((K=D[2])==null?void 0:K.name)+" ")&&Ye(_,c),R[0]&3&&y!==(y=D[1]==D[0].LeftUp?"\u2191":D[1]==D[0].LeftDown?"\u2193":" ")&&Ye(w,y),R[0]&3&&k!==(k=D[1]==D[0].RightUp?"\u2191":D[1]==D[0].RightDown?"\u2193":" ")&&Ye(S,k),R[0]&4&&m!==(m=((Ee=D[2])==null?void 0:Ee.name)+"")&&Ye(A,m),R[0]&8&&z!==(z=D[3]-20)&&d(g,"x",z),R[0]&1032&&(Ae=D[10],I=Vt(I,R,_e,1,D,Ae,B,Y,on,Zl,N,ql)),R[0]&64736&&(le=D[10],L=Vt(L,R,F,1,D,le,W,Y,on,Jl,P,Kl)),R[0]&3072){Q=D[10];for(let be=0;be<x.length;be+=1)x[be].r();x=Vt(x,R,Me,1,D,Q,T,Y,Po,Ql,M,Wl);for(let be=0;be<x.length;be+=1)x[be].a()}R[0]&32&&te!==(te=`translate(${D[5](0)},0)`)&&d(M,"transform",te),R[0]&1024&&ae!==(ae=(((me=(ie=D[10])==null?void 0:ie.length)!=null?me:0)+1)*Ze)&&d(M,"y2",ae),R[0]&1024&&X!==(X=(((ge=(C=D[10])==null?void 0:C.length)!=null?ge:0)+1)*Ze)&&d(ee,"y2",X)},i:De,o:De,d(D){D&&b(t),D&&b(a),D&&b(f),D&&b(g),D&&b(Y);for(let R=0;R<I.length;R+=1)I[R].d();for(let R=0;R<L.length;R+=1)L[R].d();for(let R=0;R<x.length;R+=1)x[R].d();e[37](null),D&&b(q),oe=!1,ut(fe)}}}function jl(e){let t,n;return{c(){t=ne("rect"),this.h()},l(r){t=re(r,"rect",{x:!0,y:!0,height:!0,width:!0,fill:!0,class:!0}),V(t).forEach(b),this.h()},h(){d(t,"x","0"),d(t,"y",n=e[47]*Ze+Pt),d(t,"height",Ze),d(t,"width",e[3]),d(t,"fill","rgba(0,0,0,0.04)"),d(t,"class","svelte-rp8abc")},m(r,i){j(r,t,i)},p(r,i){i[0]&1024&&n!==(n=r[47]*Ze+Pt)&&d(t,"y",n),i[0]&8&&d(t,"width",r[3])},d(r){r&&b(t)}}}function Zl(e,t){let n,r,i=t[47]%2==0&&jl(t);return{key:e,first:null,c(){n=we(),i&&i.c(),r=we(),this.h()},l(a){n=we(),i&&i.l(a),r=we(),this.h()},h(){this.first=n},m(a,l){j(a,n,l),i&&i.m(a,l),j(a,r,l)},p(a,l){t=a,t[47]%2==0?i?i.p(t,l):(i=jl(t),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(a){a&&b(n),i&&i.d(a),a&&b(r)}}}function Jl(e,t){let n,r,i,a,l,o,s,u,f,h,c,_,y,w,g;function k(){return t[34](t[45])}function S(){return t[35](t[45])}return{key:e,first:null,c(){n=ne("g"),r=ne("rect"),l=ne("rect"),f=ne("rect"),this.h()},l(v){n=re(v,"g",{class:!0,transform:!0});var m=V(n);r=re(m,"rect",{class:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),V(r).forEach(b),l=re(m,"rect",{class:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),V(l).forEach(b),f=re(m,"rect",{class:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),V(f).forEach(b),m.forEach(b),this.h()},h(){d(r,"class","tab svelte-rp8abc"),d(r,"x","0"),d(r,"y","2"),d(r,"height",Ze-4),d(r,"width",i=t[11].size>0&&t[11].has(t[45].product_id)?Et-1:6),d(r,"fill",a=t[6]?t[6](t[45].product.name):"white"),d(l,"class","country1-bar svelte-rp8abc"),d(l,"x",o=t[5](-t[45].export_value)),d(l,"y",Vn/2),d(l,"height",Ze-Vn),d(l,"width",s=t[5](0)-t[5](-t[45].export_value)),d(l,"fill",u=t[7](t[45].location_id)),d(f,"class","country2-bar svelte-rp8abc"),d(f,"x",h=t[5](0)),d(f,"y",Vn/2),d(f,"height",Ze-Vn),d(f,"width",c=t[5](t[45].import_value)-t[5](0)),d(f,"fill",_=t[7](t[45].partner_id)),d(n,"class","bar-row"),d(n,"transform",y=`translate(0, ${t[47]*Ze+Pt})`),this.first=n},m(v,m){j(v,n,m),O(n,r),O(n,l),O(n,f),w||(g=[Z(l,"focus",t[29]),Z(l,"keydown",G0),Z(l,"mouseover",function(){Ge(t[13](t[45],!0))&&t[13](t[45],!0).apply(this,arguments)}),Z(l,"mousemove",t[14]()),Z(l,"mouseleave",t[15]()),Z(l,"click",k),Z(f,"focus",t[28]),Z(f,"keydown",U0),Z(f,"mouseover",function(){Ge(t[13](t[45],!1))&&t[13](t[45],!1).apply(this,arguments)}),Z(f,"mousemove",t[14]()),Z(f,"mouseleave",t[15]()),Z(f,"click",S)],w=!0)},p(v,m){t=v,m[0]&3072&&i!==(i=t[11].size>0&&t[11].has(t[45].product_id)?Et-1:6)&&d(r,"width",i),m[0]&1088&&a!==(a=t[6]?t[6](t[45].product.name):"white")&&d(r,"fill",a),m[0]&1056&&o!==(o=t[5](-t[45].export_value))&&d(l,"x",o),m[0]&1056&&s!==(s=t[5](0)-t[5](-t[45].export_value))&&d(l,"width",s),m[0]&1152&&u!==(u=t[7](t[45].location_id))&&d(l,"fill",u),m[0]&32&&h!==(h=t[5](0))&&d(f,"x",h),m[0]&1056&&c!==(c=t[5](t[45].import_value)-t[5](0))&&d(f,"width",c),m[0]&1152&&_!==(_=t[7](t[45].partner_id))&&d(f,"fill",_),m[0]&1024&&y!==(y=`translate(0, ${t[47]*Ze+Pt})`)&&d(n,"transform",y)},d(v){v&&b(n),w=!1,ut(g)}}}function Ql(e,t){let n,r=t[45].product.name+"",i,a,l,o=De,s,u;function f(){return t[36](t[45])}return{key:e,first:null,c(){n=ne("text"),i=ye(r),this.h()},l(h){n=re(h,"text",{class:!0,"alignment-baseline":!0,x:!0,y:!0});var c=V(n);i=ve(c,r),c.forEach(b),this.h()},h(){d(n,"class","product-text svelte-rp8abc"),d(n,"alignment-baseline","hanging"),d(n,"x","10"),d(n,"y",a=t[47]*Ze+Pt+6),this.first=n},m(h,c){j(h,n,c),O(n,i),s||(u=[Z(n,"click",f),Z(n,"keydown",z0)],s=!0)},p(h,c){t=h,c[0]&1024&&r!==(r=t[45].product.name+"")&&Ye(i,r),c[0]&1024&&a!==(a=t[47]*Ze+Pt+6)&&d(n,"y",a)},r(){l=n.getBoundingClientRect()},f(){Go(n),o()},a(){o(),o=Uo(n,l,C0,{duration:400,delay:20})},d(h){h&&b(n),s=!1,ut(u)}}}function $l(e){let t,n,r,i,a;return{c(){t=ne("rect"),n=ne("text"),r=ye("Loading..."),this.h()},l(l){t=re(l,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,class:!0}),V(t).forEach(b),n=re(l,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var o=V(n);r=ve(o,"Loading..."),o.forEach(b),this.h()},h(){d(t,"x","0"),d(t,"y","0"),d(t,"width",e[3]),d(t,"height",e[9]),d(t,"fill","rgba(255,255,255,0.9)"),d(t,"class","svelte-rp8abc"),d(n,"x",i=e[3]/2),d(n,"y",a=e[9]/2),d(n,"alignment-baseline","central"),d(n,"text-anchor","middle")},m(l,o){j(l,t,o),j(l,n,o),O(n,r)},p(l,o){o[0]&8&&d(t,"width",l[3]),o[0]&512&&d(t,"height",l[9]),o[0]&8&&i!==(i=l[3]/2)&&d(n,"x",i),o[0]&512&&a!==(a=l[9]/2)&&d(n,"y",a)},d(l){l&&b(t),l&&b(n)}}}function R0(e){let t,n,r,i,a;function l(f,h){return f[10]&&f[10].length>0?O0:D0}let o=l(e),s=o(e),u=e[8]&&$l(e);return{c(){t=se("div"),n=ne("svg"),s.c(),r=we(),u&&u.c(),this.h()},l(f){t=ue(f,"DIV",{id:!0,class:!0});var h=V(t);n=re(h,"svg",{height:!0,class:!0});var c=V(n);s.l(c),r=we(),u&&u.l(c),c.forEach(b),h.forEach(b),this.h()},h(){var f,h;d(n,"height",i=Math.max(e[9],(((h=(f=e[10])==null?void 0:f.length)!=null?h:0)+1)*Ze+Pt)),d(n,"class","svelte-rp8abc"),d(t,"id","bar-chart"),d(t,"class","viz-section svelte-rp8abc"),jt(()=>e[38].call(t))},m(f,h){j(f,t,h),O(t,n),s.m(n,null),O(n,r),u&&u.m(n,null),a=pr(t,e[38].bind(t))},p(f,h){var c,_;o===(o=l(f))&&s?s.p(f,h):(s.d(1),s=o(f),s&&(s.c(),ce(s,1),s.m(n,r))),f[8]?u?u.p(f,h):(u=$l(f),u.c(),u.m(n,null)):u&&(u.d(1),u=null),h[0]&1536&&i!==(i=Math.max(f[9],(((_=(c=f[10])==null?void 0:c.length)!=null?_:0)+1)*Ze+Pt))&&d(n,"height",i)},i(f){ce(s)},o:De,d(f){f&&b(t),s.d(),u&&u.d(),a()}}}const gn=40,Ze=30,ea=0,F0=10,Pt=30,Et=100,Vn=4,Bn=10,ta=140,na=25,Pr=105,Rt=20,Ft=35,$t=22,H0=()=>{},V0=()=>{},B0=()=>{},P0=()=>{},G0=()=>{},U0=()=>{},z0=()=>{};function Y0(e,t,n){let r,i,a,l,o,s,u,f,h,c,_,y,w;gt(e,Xt,H=>n(27,_=H)),gt(e,et,H=>n(11,y=H)),gt(e,kn,H=>n(12,w=H));let{data:g}=t;var k;(function(H){H[H.LeftUp=0]="LeftUp",H[H.LeftDown=1]="LeftDown",H[H.RightUp=2]="RightUp",H[H.RightDown=3]="RightDown",H[H.Up=4]="Up",H[H.Down=5]="Down",H[H.AlphaUp=6]="AlphaUp",H[H.AlphaDown=7]="AlphaDown"})(k||(k={}));let S=k.AlphaDown,{bilateralData:v,productColorScale:m,countryColorScale:A,country1:z,country2:Y,loadingDrilldown:I,productData:B,locationData:N}=g,L=800,W=550,P;const x=H=>Bt("$.3s")(H).replace(/G/,"B");function T(H,$,D){return H+D<L?H+$:H+$-D}function M(H,$){return H+Pr<W?H+$:H+$-Pr}function te(H,$){return D=>{let R=ke("#bar-chart-tooltip"),K=ta+_.length*na;R.append("rect").attr("id","tooltip-rect").attr("width",K).attr("height",Pr).attr("x",T(D.layerX,Bn,K)).attr("y",M(D.layerY,Bn)),R.append("text").attr("class","title").attr("id","tooltip-text1").attr("x",T(D.layerX,Rt,K)).attr("y",M(D.layerY,Ft)).style("fill",A?A($?H.location_id:H.partner_id):"black").text(`${H.product.name}`),R.append("text").attr("id","tooltip-text2").attr("x",T(D.layerX,Rt,K)).attr("y",M(D.layerY,Ft+$t)).text(($?"Export: ":"Import: ")+`${x($?H.export_value:H.import_value)}`),R.append("text").attr("id","tooltip-text3").attr("x",T(D.layerX,Rt,K)).attr("y",M(D.layerY,Ft+2*$t)).text(`Share: ${Bt(".2%")($?H.export_value/f:H.import_value/h)}`),R.append("text").attr("id","tooltip-text4").attr("x",T(D.layerX,Rt,K)).attr("y",M(D.layerY,Ft+3*$t)).text((_.length>1?"Years: ":"Year: ")+`${_.join(", ")}`)}}function ae(){return H=>{let $=ta+_.length*na;ke("#tooltip-rect").attr("x",T(H.layerX,Bn,$)).attr("y",M(H.layerY,Bn)),ke("#tooltip-text1").attr("x",T(H.layerX,Rt,$)).attr("y",M(H.layerY,Ft)),ke("#tooltip-text2").attr("x",T(H.layerX,Rt,$)).attr("y",M(H.layerY,Ft+$t)),ke("#tooltip-text3").attr("x",T(H.layerX,Rt,$)).attr("y",M(H.layerY,Ft+2*$t)),ke("#tooltip-text4").attr("x",T(H.layerX,Rt,$)).attr("y",M(H.layerY,Ft+3*$t))}}function ee(){return H=>{ke("#bar-chart-tooltip").selectAll("rect").remove(),ke("#bar-chart-tooltip").selectAll("text").remove()}}function X(H){lt.call(this,e,H)}function G(H){lt.call(this,e,H)}const q=()=>{S==k.AlphaDown?n(1,S=k.AlphaUp):n(1,S=k.AlphaDown)},oe=()=>{S==k.Down?n(1,S=k.Up):n(1,S=k.Down)},fe=()=>{S==k.LeftDown?n(1,S=k.LeftUp):n(1,S=k.LeftDown)},Ae=()=>{S==k.RightDown?n(1,S=k.RightUp):n(1,S=k.RightDown)},_e=H=>{w||(kn.set(!0),et.update($=>($.clear(),$))),y.has(H==null?void 0:H.product_id)?et.update($=>{var D;return $.delete((D=H==null?void 0:H.product_id)!=null?D:-1),$}):(H==null?void 0:H.product_id)>=0&&et.update($=>{var D;return $.add((D=H==null?void 0:H.product_id)!=null?D:-1),$})},le=H=>{w&&(kn.set(!1),et.update($=>($.clear(),$))),y.has(H==null?void 0:H.product_id)?et.update($=>{var D;return $.delete((D=H==null?void 0:H.product_id)!=null?D:-1),$}):(H==null?void 0:H.product_id)>=0&&et.update($=>{var D;return $.add((D=H==null?void 0:H.product_id)!=null?D:-1),$})},F=H=>{y.has(H.product_id)?et.update($=>($.delete(H.product_id),$)):et.update($=>($.add(H.product_id),$))};function Q(H){tt[H?"unshift":"push"](()=>{P=H,n(4,P)})}function Me(){L=this.clientWidth,W=this.clientHeight,n(3,L),n(9,W)}return e.$$set=H=>{"data"in H&&n(16,g=H.data)},e.$$.update=()=>{var H,$,D;if(e.$$.dirty[0]&65536&&n(17,{bilateralData:v,productColorScale:m,countryColorScale:A,country1:z,country2:Y,loadingDrilldown:I,productData:B,locationData:N}=g,v,(n(6,m),n(16,g)),(n(7,A),n(16,g)),(n(18,z),n(16,g)),(n(2,Y),n(16,g)),(n(8,I),n(16,g)),(n(19,B),n(16,g)),(n(20,N),n(16,g))),e.$$.dirty[0]&393220&&n(26,r=(D=v==null?void 0:v.get((H=z==null?void 0:z.id)!=null?H:0))==null?void 0:D.get(($=Y==null?void 0:Y.id)!=null?$:0)),e.$$.dirty[0]&201326592&&n(25,i=_.map(R=>{var K;return(K=r==null?void 0:r.get(R))!=null?K:new Array}).flat()),e.$$.dirty[0]&35389444&&n(23,a=Array.from(xr(i,R=>{var K,Ee;return R.reduce((ie,me)=>(ie.export_value+=me.export_value,ie.import_value+=me.import_value,ie),new Dt(N,B,{location_id:(K=z==null?void 0:z.id)!=null?K:0,partner_id:(Ee=Y==null?void 0:Y.id)!=null?Ee:0,product_id:R[0].product_id,year:0,export_value:0,import_value:0}))},R=>R.product_id).values())),e.$$.dirty[0]&8388608&&n(24,l=a.filter(R=>R.product.level=="section")),e.$$.dirty[0]&16777219&&n(10,o=l.sort((R,K)=>{switch(S){case k.LeftUp:return R.export_value-K.export_value;case k.LeftDown:return K.export_value-R.export_value;case k.RightUp:return R.import_value-K.import_value;case k.RightDown:return K.import_value-R.import_value;case k.Up:return R.import_value+R.export_value-(K.import_value+K.export_value);case k.Down:return K.import_value+K.export_value-(R.import_value+R.export_value);case k.AlphaDown:return R.product.name.localeCompare(K.product.name);case k.AlphaUp:return K.product.name.localeCompare(R.product.name);default:return 0}})),e.$$.dirty[0]&8388608&&n(22,s=wn(a,R=>R.export_value)),e.$$.dirty[0]&8388608&&n(21,u=wn(a,R=>R.import_value)),e.$$.dirty[0]&6291456,e.$$.dirty[0]&8388608&&(f=$n(a,R=>R.export_value)),e.$$.dirty[0]&8388608&&(h=$n(a,R=>R.import_value)),e.$$.dirty[0]&6291464&&n(5,c=bn().domain([-s,u]).range([Et+ea,L-ea-F0])),e.$$.dirty[0]&48){let R=Sa(c).tickFormat(K=>x(Math.abs(K)));ke(P).transition().call(R)}},[k,S,Y,L,P,c,m,A,I,W,o,y,w,te,ae,ee,g,v,z,B,N,u,s,a,l,i,r,_,X,G,q,oe,fe,Ae,_e,le,F,Q,Me]}class X0 extends pt{constructor(t){super(),yt(this,t,Y0,R0,vt,{data:16},null,[-1,-1])}}function ra(e,t,n){const r=e.slice();return r[53]=t[n],r}function ia(e,t,n){const r=e.slice();return r[53]=t[n],r}function la(e,t,n){const r=e.slice();return r[53]=t[n],r}function x0(e){let t,n,r,i,a;return{c(){t=ne("text"),n=ye("No valid data for this pair."),this.h()},l(l){t=re(l,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var o=V(t);n=ve(o,"No valid data for this pair."),o.forEach(b),this.h()},h(){d(t,"x",r=e[3]/2),d(t,"y",i=e[4]/2),d(t,"alignment-baseline","central"),d(t,"text-anchor","middle")},m(l,o){j(l,t,o),O(t,n)},p(l,o){o[0]&8&&r!==(r=l[3]/2)&&d(t,"x",r),o[0]&16&&i!==(i=l[4]/2)&&d(t,"y",i)},i(l){a||jt(()=>{a=yi(t,hr,{}),a.start()})},o:De,d(l){l&&b(t)}}}function W0(e){var He,Ue,nt,Qe;let t,n,r,i,a,l,o,s,u,f,h,c,_,y,w,g,k=((Ue=`to ${(He=e[0].get(e[2]))==null?void 0:He.name}`)!=null?Ue:"")+"",S,v,m,A,z,Y=((Qe=`from ${(nt=e[0].get(e[2]))==null?void 0:nt.name}`)!=null?Qe:"")+"",I,B,N,L,W,P,x,T,M,te,ae,ee=[],X=new Map,G,q,oe,fe=[],Ae=new Map,_e,le,F,Q=[],Me=new Map,H,$,D,R=!e[16]&&aa(e),K=e[18]>0&&e[17]<0&&oa(e),Ee=e[14];const ie=E=>E[53].year;for(let E=0;E<Ee.length;E+=1){let U=la(e,Ee,E),J=ie(U);X.set(J,ee[E]=sa(J,U))}let me=e[14];const C=E=>E[53].year;for(let E=0;E<me.length;E+=1){let U=ia(e,me,E),J=C(U);Ae.set(J,fe[E]=ua(J,U))}let ge=e[14];const be=E=>E[53].year;for(let E=0;E<ge.length;E+=1){let U=ra(e,ge,E),J=be(U);Me.set(J,Q[E]=fa(J,U))}return{c(){t=ne("text"),n=ye("Trade Over Time"),i=ne("g"),R&&R.c(),a=ne("g"),l=ne("line"),u=ne("g"),f=ne("g"),c=ne("g"),_=ne("circle"),w=ne("text"),g=ye("Export "),S=ye(k),v=ne("circle"),A=ne("text"),z=ye("Import "),I=ye(Y),B=ne("g"),N=ne("rect"),L=ne("text"),W=ye("Trade Deficit"),P=ne("rect"),x=ne("text"),T=ye("Trade Surplus"),te=ne("g"),K&&K.c(),ae=we();for(let E=0;E<ee.length;E+=1)ee[E].c();G=ne("g"),q=ne("path");for(let E=0;E<fe.length;E+=1)fe[E].c();_e=ne("g"),le=ne("path");for(let E=0;E<Q.length;E+=1)Q[E].c();H=ne("g"),$=ne("g"),D=ye("''"),this.h()},l(E){t=re(E,"text",{class:!0,x:!0,y:!0,"text-anchor":!0});var U=V(t);n=ve(U,"Trade Over Time"),U.forEach(b),i=re(E,"g",{class:!0}),V(i).forEach(b),R&&R.l(E),a=re(E,"g",{id:!0,transform:!0});var J=V(a);l=re(J,"line",{id:!0,x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),V(l).forEach(b),J.forEach(b),u=re(E,"g",{id:!0,transform:!0}),V(u).forEach(b),f=re(E,"g",{id:!0,transform:!0}),V(f).forEach(b),c=re(E,"g",{id:!0,transform:!0});var he=V(c);_=re(he,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),V(_).forEach(b),w=re(he,"text",{x:!0,y:!0,"font-size":!0,"text-anchor":!0});var Ce=V(w);g=ve(Ce,"Export "),S=ve(Ce,k),Ce.forEach(b),v=re(he,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),V(v).forEach(b),A=re(he,"text",{x:!0,y:!0,"font-size":!0,"text-anchor":!0});var Le=V(A);z=ve(Le,"Import "),I=ve(Le,Y),Le.forEach(b),he.forEach(b),B=re(E,"g",{id:!0,transform:!0});var Re=V(B);N=re(Re,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,opacity:!0}),V(N).forEach(b),L=re(Re,"text",{x:!0,y:!0,"font-size":!0,"text-anchor":!0});var Te=V(L);W=ve(Te,"Trade Deficit"),Te.forEach(b),P=re(Re,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0,opacity:!0}),V(P).forEach(b),x=re(Re,"text",{x:!0,y:!0,"font-size":!0,"text-anchor":!0});var We=V(x);T=ve(We,"Trade Surplus"),We.forEach(b),Re.forEach(b),te=re(E,"g",{id:!0});var Ke=V(te);K&&K.l(Ke),ae=we();for(let Fe=0;Fe<ee.length;Fe+=1)ee[Fe].l(Ke);Ke.forEach(b),G=re(E,"g",{class:!0});var Oe=V(G);q=re(Oe,"path",{fill:!0,stroke:!0,"stroke-width":!0}),V(q).forEach(b);for(let Fe=0;Fe<fe.length;Fe+=1)fe[Fe].l(Oe);Oe.forEach(b),_e=re(E,"g",{class:!0});var $e=V(_e);le=re($e,"path",{fill:!0,stroke:!0,"stroke-width":!0}),V(le).forEach(b);for(let Fe=0;Fe<Q.length;Fe+=1)Q[Fe].l($e);$e.forEach(b),H=re(E,"g",{}),V(H).forEach(b),$=re(E,"g",{id:!0,class:!0}),V($).forEach(b),D=ve(E,"''"),this.h()},h(){d(t,"class","chart-header"),d(t,"x",r=e[3]/2+10),d(t,"y",dt-5),d(t,"text-anchor","middle"),d(i,"class","brush"),d(l,"id","xAxisLine"),d(l,"x1",dr),d(l,"x2",o=e[3]-Lt),d(l,"y1","0"),d(l,"y2","0"),d(l,"stroke","rgba(0,0,0,0.7)"),d(l,"stroke-width","1"),d(a,"id","xAxis"),d(a,"transform",s=`translate(${0},${e[4]-dt})`),d(u,"id","yAisLeft"),d(u,"transform",`translate(${dr},${0})`),d(f,"id","yAisRight"),d(f,"transform",h=`translate(${e[3]-Lt},${0})`),d(_,"class","circ1"),d(_,"cx","20"),d(_,"cy","10"),d(_,"r","5"),d(_,"fill",y=e[15](e[1])),d(_,"stroke","rgba(0,0,0,0)"),d(_,"stroke-width","2"),d(w,"x","30"),d(w,"y","15"),d(w,"font-size","13"),d(w,"text-anchor","start"),d(v,"class","circ2"),d(v,"cx","20"),d(v,"cy","25"),d(v,"r","5"),d(v,"fill",m=e[15](e[2])),d(v,"stroke","rgba(0,0,0,0)"),d(v,"stroke-width","2"),d(A,"x","30"),d(A,"y","30"),d(A,"font-size","13"),d(A,"text-anchor","start"),d(c,"id","legendLeft"),d(c,"transform","translate(10,6)"),d(N,"class","deficit svelte-o11v01"),d(N,"x","15"),d(N,"y","5"),d(N,"width","10"),d(N,"height","10"),d(N,"fill",mr),d(N,"opacity","0.6"),d(L,"x","30"),d(L,"y","15"),d(L,"font-size","13"),d(L,"text-anchor","start"),d(P,"class","surplus svelte-o11v01"),d(P,"x","15"),d(P,"y","20"),d(P,"width","10"),d(P,"height","10"),d(P,"fill",_r),d(P,"opacity","0.6"),d(x,"x","30"),d(x,"y","30"),d(x,"font-size","13"),d(x,"text-anchor","start"),d(B,"id","legendRight"),d(B,"transform",M=`translate(${e[3]-3*Lt+30},6)`),d(te,"id","net-values-group"),d(q,"fill","none"),d(q,"stroke",oe=e[15](e[1])),d(q,"stroke-width","2"),d(G,"class","country1-group country-group svelte-o11v01"),d(le,"fill","none"),d(le,"stroke",F=e[15](e[2])),d(le,"stroke-width","2"),d(_e,"class","country2-group country-group svelte-o11v01"),d($,"id","line-chart-tooltip"),d($,"class","tooltip")},m(E,U){j(E,t,U),O(t,n),j(E,i,U),e[40](i),R&&R.m(E,U),j(E,a,U),O(a,l),e[41](a),j(E,u,U),e[42](u),j(E,f,U),e[43](f),j(E,c,U),O(c,_),O(c,w),O(w,g),O(w,S),O(c,v),O(c,A),O(A,z),O(A,I),j(E,B,U),O(B,N),O(B,L),O(L,W),O(B,P),O(B,x),O(x,T),j(E,te,U),K&&K.m(te,null),O(te,ae);for(let J=0;J<ee.length;J+=1)ee[J].m(te,null);j(E,G,U),O(G,q),e[44](q);for(let J=0;J<fe.length;J+=1)fe[J].m(G,null);j(E,_e,U),O(_e,le),e[45](le);for(let J=0;J<Q.length;J+=1)Q[J].m(_e,null);j(E,H,U),j(E,$,U),j(E,D,U)},p(E,U){var J,he,Ce,Le;U[0]&8&&r!==(r=E[3]/2+10)&&d(t,"x",r),E[16]?R&&(R.d(1),R=null):R?R.p(E,U):(R=aa(E),R.c(),R.m(a.parentNode,a)),U[0]&8&&o!==(o=E[3]-Lt)&&d(l,"x2",o),U[0]&16&&s!==(s=`translate(${0},${E[4]-dt})`)&&d(a,"transform",s),U[0]&8&&h!==(h=`translate(${E[3]-Lt},${0})`)&&d(f,"transform",h),U[0]&32770&&y!==(y=E[15](E[1]))&&d(_,"fill",y),U[0]&5&&k!==(k=((he=`to ${(J=E[0].get(E[2]))==null?void 0:J.name}`)!=null?he:"")+"")&&Ye(S,k),U[0]&32772&&m!==(m=E[15](E[2]))&&d(v,"fill",m),U[0]&5&&Y!==(Y=((Le=`from ${(Ce=E[0].get(E[2]))==null?void 0:Ce.name}`)!=null?Le:"")+"")&&Ye(I,Y),U[0]&8&&M!==(M=`translate(${E[3]-3*Lt+30},6)`)&&d(B,"transform",M),E[18]>0&&E[17]<0?K?K.p(E,U):(K=oa(E),K.c(),K.m(te,ae)):K&&(K.d(1),K=null),U[0]&131620864&&(Ee=E[14],ee=Vt(ee,U,ie,1,E,Ee,X,te,on,sa,null,la)),U[0]&32770&&oe!==(oe=E[15](E[1]))&&d(q,"stroke",oe),U[0]&20508674&&(me=E[14],fe=Vt(fe,U,C,1,E,me,Ae,G,on,ua,null,ia)),U[0]&32772&&F!==(F=E[15](E[2]))&&d(le,"stroke",F),U[0]&20508676&&(ge=E[14],Q=Vt(Q,U,be,1,E,ge,Me,_e,on,fa,null,ra))},i:De,o:De,d(E){E&&b(t),E&&b(i),e[40](null),R&&R.d(E),E&&b(a),e[41](null),E&&b(u),e[42](null),E&&b(f),e[43](null),E&&b(c),E&&b(B),E&&b(te),K&&K.d();for(let U=0;U<ee.length;U+=1)ee[U].d();E&&b(G),e[44](null);for(let U=0;U<fe.length;U+=1)fe[U].d();E&&b(_e),e[45](null);for(let U=0;U<Q.length;U+=1)Q[U].d();E&&b(H),E&&b($),E&&b(D)}}}function aa(e){let t,n,r;return{c(){t=ne("rect"),this.h()},l(i){t=re(i,"rect",{class:!0,x:!0,y:!0,width:!0,height:!0,fill:!0}),V(t).forEach(b),this.h()},h(){d(t,"class","timebar svelte-o11v01"),d(t,"x",n=e[13](e[19][0])-12),d(t,"y",44),d(t,"width","24"),d(t,"height",r=e[4]-44-dt),d(t,"fill","rgba(0,0,0,0.2)")},m(i,a){j(i,t,a)},p(i,a){a[0]&532480&&n!==(n=i[13](i[19][0])-12)&&d(t,"x",n),a[0]&16&&r!==(r=i[4]-44-dt)&&d(t,"height",r)},d(i){i&&b(t)}}}function oa(e){let t,n,r,i;return{c(){t=ne("line"),this.h()},l(a){t=re(a,"line",{id:!0,x1:!0,x2:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0}),V(t).forEach(b),this.h()},h(){d(t,"id","zeroline"),d(t,"x1",dr),d(t,"x2",n=e[3]-Lt),d(t,"y1",r=e[11](0)),d(t,"y2",i=e[11](0)),d(t,"stroke","rgba(0,0,0,0.7)"),d(t,"stroke-width","1")},m(a,l){j(a,t,l)},p(a,l){l[0]&8&&n!==(n=a[3]-Lt)&&d(t,"x2",n),l[0]&2048&&r!==(r=a[11](0))&&d(t,"y1",r),l[0]&2048&&i!==(i=a[11](0))&&d(t,"y2",i)},d(a){a&&b(t)}}}function sa(e,t){let n,r,i,a,l,o,s,u;return{key:e,first:null,c(){n=ne("rect"),this.h()},l(f){n=re(f,"rect",{x:!0,width:!0,y:!0,height:!0,fill:!0,stroke:!0,opacity:!0,class:!0}),V(n).forEach(b),this.h()},h(){d(n,"x",r=t[13](t[53].year)-En/2),d(n,"width",En),d(n,"y",i=t[25](t[53])),d(n,"height",a=t[26](t[53])),d(n,"fill",l=t[53].export_value<t[53].import_value?mr:_r),d(n,"stroke",o=t[19].includes(t[53].year)?"rgba(0,0,0,1)":"rgba(0,0,0,0)"),d(n,"opacity","0.6"),d(n,"class","svelte-o11v01"),this.first=n},m(f,h){j(f,n,h),s||(u=[Z(n,"click",function(){Ge(t[20](t[53].year))&&t[20](t[53].year).apply(this,arguments)}),Z(n,"keydown",j0),Z(n,"keypress",t[37]),Z(n,"click",function(){Ge(t[20](t[53].year))&&t[20](t[53].year).apply(this,arguments)}),Z(n,"focus",t[38]),Z(n,"blur",t[39]),Z(n,"mouseover",function(){Ge(t[22](t[53]))&&t[22](t[53]).apply(this,arguments)}),Z(n,"mousemove",t[23]()),Z(n,"mouseout",t[24]())],s=!0)},p(f,h){t=f,h[0]&24576&&r!==(r=t[13](t[53].year)-En/2)&&d(n,"x",r),h[0]&16384&&i!==(i=t[25](t[53]))&&d(n,"y",i),h[0]&16384&&a!==(a=t[26](t[53]))&&d(n,"height",a),h[0]&16384&&l!==(l=t[53].export_value<t[53].import_value?mr:_r)&&d(n,"fill",l),h[0]&540672&&o!==(o=t[19].includes(t[53].year)?"rgba(0,0,0,1)":"rgba(0,0,0,0)")&&d(n,"stroke",o)},d(f){f&&b(n),s=!1,ut(u)}}}function ua(e,t){let n,r,i,a,l,o,s;return{key:e,first:null,c(){n=ne("circle"),this.h()},l(u){n=re(u,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0}),V(n).forEach(b),this.h()},h(){d(n,"class","circ1 svelte-o11v01"),d(n,"cx",r=t[13](t[53].year)),d(n,"cy",i=t[12](t[53].export_value)),d(n,"r","6"),d(n,"fill",a=t[15](t[1])),d(n,"stroke",l=t[19].includes(t[53].year)?"rgba(0,0,0,1)":"rgba(0,0,0,0)"),d(n,"stroke-width","2"),this.first=n},m(u,f){j(u,n,f),o||(s=[Z(n,"click",function(){Ge(t[20](t[53].year))&&t[20](t[53].year).apply(this,arguments)}),Z(n,"keydown",Z0),Z(n,"keypress",t[34]),Z(n,"click",function(){Ge(t[20](t[53].year))&&t[20](t[53].year).apply(this,arguments)}),Z(n,"focus",t[35]),Z(n,"blur",t[36]),Z(n,"mouseover",function(){Ge(t[21](t[53],!0))&&t[21](t[53],!0).apply(this,arguments)}),Z(n,"mouseout",t[24]())],o=!0)},p(u,f){t=u,f[0]&24576&&r!==(r=t[13](t[53].year))&&d(n,"cx",r),f[0]&20480&&i!==(i=t[12](t[53].export_value))&&d(n,"cy",i),f[0]&32770&&a!==(a=t[15](t[1]))&&d(n,"fill",a),f[0]&540672&&l!==(l=t[19].includes(t[53].year)?"rgba(0,0,0,1)":"rgba(0,0,0,0)")&&d(n,"stroke",l)},d(u){u&&b(n),o=!1,ut(s)}}}function fa(e,t){let n,r,i,a,l,o,s;return{key:e,first:null,c(){n=ne("circle"),this.h()},l(u){n=re(u,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,class:!0}),V(n).forEach(b),this.h()},h(){d(n,"cx",r=t[13](t[53].year)),d(n,"cy",i=t[12](t[53].import_value)),d(n,"r","6"),d(n,"fill",a=t[15](t[2])),d(n,"stroke",l=t[19].includes(t[53].year)?"rgba(0,0,0,1)":"rgba(0,0,0,0)"),d(n,"stroke-width","2"),d(n,"class","svelte-o11v01"),this.first=n},m(u,f){j(u,n,f),o||(s=[Z(n,"click",function(){Ge(t[20](t[53].year))&&t[20](t[53].year).apply(this,arguments)}),Z(n,"keydown",J0),Z(n,"keypress",t[31]),Z(n,"click",function(){Ge(t[20](t[53].year))&&t[20](t[53].year).apply(this,arguments)}),Z(n,"focus",t[32]),Z(n,"blur",t[33]),Z(n,"mouseover",function(){Ge(t[21](t[53],!1))&&t[21](t[53],!1).apply(this,arguments)}),Z(n,"mouseout",t[24]())],o=!0)},p(u,f){t=u,f[0]&24576&&r!==(r=t[13](t[53].year))&&d(n,"cx",r),f[0]&20480&&i!==(i=t[12](t[53].import_value))&&d(n,"cy",i),f[0]&32772&&a!==(a=t[15](t[2]))&&d(n,"fill",a),f[0]&540672&&l!==(l=t[19].includes(t[53].year)?"rgba(0,0,0,1)":"rgba(0,0,0,0)")&&d(n,"stroke",l)},d(u){u&&b(n),o=!1,ut(s)}}}function K0(e){let t,n,r;function i(o,s){return o[14].length>0?W0:x0}let a=i(e),l=a(e);return{c(){t=se("div"),n=ne("svg"),l.c(),this.h()},l(o){t=ue(o,"DIV",{id:!0,class:!0});var s=V(t);n=re(s,"svg",{width:!0,height:!0});var u=V(n);l.l(u),u.forEach(b),s.forEach(b),this.h()},h(){d(n,"width",e[3]),d(n,"height",e[4]),d(t,"id","line-chart"),d(t,"class","viz-section"),jt(()=>e[46].call(t))},m(o,s){j(o,t,s),O(t,n),l.m(n,null),r=pr(t,e[46].bind(t))},p(o,s){a===(a=i(o))&&l?l.p(o,s):(l.d(1),l=a(o),l&&(l.c(),ce(l,1),l.m(n,null))),s[0]&8&&d(n,"width",o[3]),s[0]&16&&d(n,"height",o[4])},i(o){ce(l)},o:De,d(o){o&&b(t),l.d(),r()}}}const dt=35,Pn=15,dr=50,Lt=50,En=16,en=10,Gn=180,Nt=68,q0=22,Ct=20,Gr=35,tn=37,nn=22,_r="#4daf4a",mr="#e41a1c",j0=()=>{},Z0=()=>{},J0=()=>{};function Q0(e,t,n){let r,i,a,l,o,s,u,f,h;gt(e,et,C=>n(30,f=C)),gt(e,Xt,C=>n(19,h=C));let{data:c}=t,{bilateralData:_,locationData:y,productData:w,country1_id:g,country2_id:k,countryColorScale:S}=c,v=800,m=378;const A=C=>Bt("$.3s")(C).replace(/G/,"B");let z,Y,I,B,N,L,W=!1,P;function x(C){return()=>Xt.set([C])}function T(C,ge){return C+Gn<v?C+ge:C+ge-Gn}function M(C,ge,be){return C+be<m?C+ge:C+ge-Nt}function te(C,ge){return be=>{var nt,Qe,E;let He=ke("#line-chart-tooltip"),Ue=Nt+P.length*q0;if(He.append("rect").attr("width",Gn).attr("height",Ue).attr("x",T(be.layerX,en)).attr("y",M(be.layerY,en,Ue)),He.append("text").attr("class","title").attr("x",T(be.layerX,Ct)).attr("y",M(be.layerY,Gr,Ue)).style("fill",S?S(ge?C.location_id:C.partner_id):"black").text(`${C.year} `+(ge?"Export":"Import")),f.size>0){for(let U=0;U<P.length;U++){let J=(nt=i==null?void 0:i.get(C.year))==null?void 0:nt.filter(he=>he.product.name==P[U])[0];He.append("text").attr("x",T(be.layerX,Ct)).attr("y",M(be.layerY,tn+(U+1)*nn,Ue)).text(`${P[U]}: ${A(ge?(Qe=J==null?void 0:J.export_value)!=null?Qe:0:(E=J==null?void 0:J.import_value)!=null?E:0)}`)}He.append("text").attr("x",T(be.layerX,Ct)).attr("y",M(be.layerY,tn+(P.length+1)*nn,Ue)).style("font-weight","bold").text(`Selected Total:  ${A(ge?C.export_value:C.import_value)}`)}else He.append("text").attr("x",T(be.layerX,Ct)).attr("y",M(be.layerY,tn+nn,Ue)).text((f.size==0?"Total: ":"Selected Total: ")+`${A(ge?C.export_value:C.import_value)}`),He.append("text").attr("x",T(be.layerX,Ct)).attr("y",M(be.layerY,tn+2*nn,Ue)).text("Sectors: All")}}function ae(C){return ge=>{let be=ke("#line-chart-tooltip"),He=C.export_value-C.import_value;be.append("rect").attr("id","tooltip-rect").attr("width",Gn).attr("height",Nt).attr("x",T(ge.layerX,en)).attr("y",M(ge.layerY,en,Nt)),be.append("text").attr("class","title").attr("id","tooltip-text1").attr("x",T(ge.layerX,Ct)).attr("y",M(ge.layerY,Gr,Nt)).style("fill",He<0?mr:_r).text(`${C.year} `+(He<0?"Deficit":"Surplus")),be.append("text").attr("id","tooltip-text2").attr("x",T(ge.layerX,Ct)).attr("y",M(ge.layerY,tn+nn,Nt)).text((f.size>0?"Selected ":"")+`Total: ${A(Math.abs(C.export_value-C.import_value))}`)}}function ee(){return C=>{ke("#tooltip-rect").attr("x",T(C.layerX,en)).attr("y",M(C.layerY,en,Nt)),ke("#tooltip-text1").attr("x",T(C.layerX,Ct)).attr("y",M(C.layerY,Gr,Nt)),ke("#tooltip-text2").attr("x",T(C.layerX,Ct)).attr("y",M(C.layerY,tn+nn,Nt))}}function X(){return C=>{ke("#line-chart-tooltip").selectAll("rect").remove(),ke("#line-chart-tooltip").selectAll("text").remove()}}function G(C){return C.export_value<C.import_value?o<0?dt+Pn:u(0):(s>0,u(C.export_value-C.import_value))}function q(C){return C.export_value<C.import_value?o<0?u(C.export_value-C.import_value)-dt-Pn:u(C.export_value-C.import_value)-u(0):s>0?m-dt-u(C.export_value-C.import_value):u(0)-u(C.export_value-C.import_value)}function oe(C){lt.call(this,e,C)}function fe(C){lt.call(this,e,C)}function Ae(C){lt.call(this,e,C)}function _e(C){lt.call(this,e,C)}function le(C){lt.call(this,e,C)}function F(C){lt.call(this,e,C)}function Q(C){lt.call(this,e,C)}function Me(C){lt.call(this,e,C)}function H(C){lt.call(this,e,C)}function $(C){tt[C?"unshift":"push"](()=>{B=C,n(8,B)})}function D(C){tt[C?"unshift":"push"](()=>{z=C,n(5,z)})}function R(C){tt[C?"unshift":"push"](()=>{Y=C,n(6,Y)})}function K(C){tt[C?"unshift":"push"](()=>{I=C,n(7,I)})}function Ee(C){tt[C?"unshift":"push"](()=>{N=C,n(9,N)})}function ie(C){tt[C?"unshift":"push"](()=>{L=C,n(10,L)})}function me(){v=this.clientWidth,m=this.clientHeight,n(3,v),n(4,m)}return e.$$set=C=>{"data"in C&&n(27,c=C.data)},e.$$.update=()=>{var C,ge,be,He,Ue,nt,Qe,E,U;if(e.$$.dirty[0]&134217728&&n(28,{bilateralData:_,locationData:y,productData:w,country1_id:g,country2_id:k,countryColorScale:S}=c,_,(n(0,y),n(27,c)),(n(29,w),n(27,c)),(n(1,g),n(27,c)),(n(2,k),n(27,c)),(n(15,S),n(27,c))),e.$$.dirty[0]&1879048199&&n(14,r=Array.from((be=(ge=(C=_==null?void 0:_.get(g))==null?void 0:C.get(k))==null?void 0:ge.entries())!=null?be:new Array).map(J=>{let he=J[0],Ce=J[1];return Ce=f.size==0?Ce:Ce.filter(Le=>f.has(Le.product_id)),Ce.reduce((Le,Re)=>(Le.export_value+=Re.export_value,Le.import_value+=Re.import_value,Le),new Dt(y,w,{location_id:g,partner_id:k,product_id:0,year:he,export_value:0,import_value:0}))}).sort((J,he)=>J.year-he.year)),e.$$.dirty[0]&16392&&n(13,a=bn().domain(Aa(r,J=>J.year)).range([dr+En/2,v-Lt-En/2])),e.$$.dirty[0]&8448){let J=zc().on("start brush end",he=>{if((he==null?void 0:he.selection)===null||(he==null?void 0:he.selection[1])-(he==null?void 0:he.selection[0])<5)Xt.set([2020]),n(16,W=!1);else{n(16,W=!0);let Ce=he.selection;const Le=Ce[0],Re=Ce[1];let Te=Math.ceil(a.invert(Le)),We=Math.floor(a.invert(Re)),Ke=[];for(let Oe=Te;Oe<=We;Oe++)Ke.push(Oe);Xt.set(Ke)}});ke(B).call(J)}if(e.$$.dirty[0]&268435462&&(i=(He=_==null?void 0:_.get(g))==null?void 0:He.get(k)),e.$$.dirty[0]&16400&&n(12,l=bn().domain([0,(Ue=wn(r,J=>Math.max(J.export_value,J.import_value)))!=null?Ue:0]).range([m-dt,dt+Pn]).nice()),e.$$.dirty[0]&16384&&n(18,o=(nt=wn(r,J=>J.export_value-J.import_value))!=null?nt:0),e.$$.dirty[0]&16384&&n(17,s=(Qe=Gi(r,J=>J.export_value-J.import_value))!=null?Qe:0),e.$$.dirty[0]&16400&&n(11,u=bn().domain([(E=Gi(r,J=>J.export_value-J.import_value))!=null?E:0,(U=wn(r,J=>J.export_value-J.import_value))!=null?U:0]).range([m-dt,dt+Pn]).nice()),e.$$.dirty[0]&14560){let J=Sa(a).tickFormat(Bt("d"));ke(z).transition().call(J).select(".domain").attr("stroke-width",0);let he=fs(l).tickFormat(Le=>A(Le));ke(Y).transition().call(he);let Ce=us(u).tickFormat(Le=>A(Le));ke(I).transition().call(Ce)}if(e.$$.dirty[0]&29184){let J=ui();r.length>0&&(r.sort(he=>he.year),J.moveTo(a(r[0].year),l(r[0].export_value))),r.forEach(he=>{J.lineTo(a(he.year),l(he.export_value))}),ke(N).transition().attr("d",J.toString())}if(e.$$.dirty[0]&29696){let J=ui();r.length>0&&J.moveTo(a(r[0].year),l(r[0].import_value)),r.forEach(he=>{J.lineTo(a(he.year),l(he.import_value))}),ke(L).transition().attr("d",J.toString())}e.$$.dirty[0]&1610612736&&(P=f.size==0?["All"]:Array.from(f.values()).map(J=>{var he,Ce;return(Ce=(he=w==null?void 0:w.get(J))==null?void 0:he.name)!=null?Ce:"something"}).sort())},[y,g,k,v,m,z,Y,I,B,N,L,u,l,a,r,S,W,s,o,h,x,te,ae,ee,X,G,q,c,_,w,f,oe,fe,Ae,_e,le,F,Q,Me,H,$,D,R,K,Ee,ie,me]}class $0 extends pt{constructor(t){super(),yt(this,t,Q0,K0,vt,{data:27},null,[-1,-1])}}const{Map:ed}=zo;function ca(e,t,n){const r=e.slice();return r[33]=t[n],r}function ha(e){let t,n,r,i,a,l,o,s,u,f=e[33].x1-e[33].x0>40&&e[33].y1-e[33].y0>10&&da(e),h=e[33].x1-e[33].x0>40&&e[33].y1-e[33].y0>30&&_a(e);return{c(){t=ne("rect"),f&&f.c(),l=we(),h&&h.c(),o=we(),this.h()},l(c){t=re(c,"rect",{class:!0,transform:!0,width:!0,height:!0,fill:!0}),V(t).forEach(b),f&&f.l(c),l=we(),h&&h.l(c),o=we(),this.h()},h(){var c,_,y,w;d(t,"class","leaf svelte-sixlpg"),d(t,"transform",n=`translate(${e[33].x0},${e[33].y0})`),d(t,"width",r=e[33].x1-e[33].x0),d(t,"height",i=e[33].y1-e[33].y0),d(t,"fill",a=e[5]?e[5]((w=(y=(_=(c=e[33].data)==null?void 0:c.product)==null?void 0:_.parent)==null?void 0:y.name)!=null?w:""):"white")},m(c,_){j(c,t,_),f&&f.m(c,_),j(c,l,_),h&&h.m(c,_),j(c,o,_),s||(u=[Z(t,"keydown",nd),Z(t,"click",function(){Ge(e[13](e[33].data))&&e[13](e[33].data).apply(this,arguments)}),Z(t,"focus",e[26]),Z(t,"mouseover",function(){Ge(e[10](e[33].data))&&e[10](e[33].data).apply(this,arguments)}),Z(t,"mousemove",function(){Ge(e[11](e[33].data))&&e[11](e[33].data).apply(this,arguments)}),Z(t,"mouseleave",e[12]())],s=!0)},p(c,_){var y,w,g,k;e=c,_[0]&256&&n!==(n=`translate(${e[33].x0},${e[33].y0})`)&&d(t,"transform",n),_[0]&256&&r!==(r=e[33].x1-e[33].x0)&&d(t,"width",r),_[0]&256&&i!==(i=e[33].y1-e[33].y0)&&d(t,"height",i),_[0]&288&&a!==(a=e[5]?e[5]((k=(g=(w=(y=e[33].data)==null?void 0:y.product)==null?void 0:w.parent)==null?void 0:g.name)!=null?k:""):"white")&&d(t,"fill",a),e[33].x1-e[33].x0>40&&e[33].y1-e[33].y0>10?f?f.p(e,_):(f=da(e),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null),e[33].x1-e[33].x0>40&&e[33].y1-e[33].y0>30?h?h.p(e,_):(h=_a(e),h.c(),h.m(o.parentNode,o)):h&&(h.d(1),h=null)},d(c){c&&b(t),f&&f.d(c),c&&b(l),h&&h.d(c),c&&b(o),s=!1,ut(u)}}}function da(e){var s,u,f;let t,n=((f=(u=(s=e[33].data)==null?void 0:s.product.name)==null?void 0:u.substring(0,40))!=null?f:"")+"",r,i,a,l,o;return{c(){t=ne("text"),r=ye(n),this.h()},l(h){t=re(h,"text",{class:!0,transform:!0,"alignment-baseline":!0,"font-size":!0});var c=V(t);r=ve(c,n),c.forEach(b),this.h()},h(){d(t,"class","label svelte-sixlpg"),d(t,"transform",i=`translate(${e[33].x0+3},${e[33].y0+3})`),d(t,"alignment-baseline","hanging"),d(t,"font-size",a=Math.max((e[33].x1-e[33].x0)/15,8))},m(h,c){j(h,t,c),O(t,r),l||(o=[Z(t,"keydown",rd),Z(t,"click",function(){Ge(e[13](e[33].data))&&e[13](e[33].data).apply(this,arguments)}),Z(t,"focus",e[25]),Z(t,"mouseover",function(){Ge(e[10](e[33].data))&&e[10](e[33].data).apply(this,arguments)}),Z(t,"mousemove",function(){Ge(e[11](e[33].data))&&e[11](e[33].data).apply(this,arguments)}),Z(t,"mouseleave",e[12]())],l=!0)},p(h,c){var _,y,w;e=h,c[0]&256&&n!==(n=((w=(y=(_=e[33].data)==null?void 0:_.product.name)==null?void 0:y.substring(0,40))!=null?w:"")+"")&&Ye(r,n),c[0]&256&&i!==(i=`translate(${e[33].x0+3},${e[33].y0+3})`)&&d(t,"transform",i),c[0]&256&&a!==(a=Math.max((e[33].x1-e[33].x0)/15,8))&&d(t,"font-size",a)},d(h){h&&b(t),l=!1,ut(o)}}}function _a(e){let t,n=e[9](e[4]?e[33].data.export_value:e[33].data.import_value)+"",r,i,a,l,o;return{c(){t=ne("text"),r=ye(n),this.h()},l(s){t=re(s,"text",{class:!0,transform:!0,"alignment-baseline":!0,"font-size":!0,"font-weight":!0});var u=V(t);r=ve(u,n),u.forEach(b),this.h()},h(){d(t,"class","label-num svelte-sixlpg"),d(t,"transform",i=`translate(${e[33].x0+5},${e[33].y0+1+Math.max((e[33].x1-e[33].x0)/10,8)})`),d(t,"alignment-baseline","hanging"),d(t,"font-size",a=Math.max((e[33].x1-e[33].x0)/15,8)-1),d(t,"font-weight","300")},m(s,u){j(s,t,u),O(t,r),l||(o=[Z(t,"keydown",id),Z(t,"click",function(){Ge(e[13](e[33].data))&&e[13](e[33].data).apply(this,arguments)}),Z(t,"focus",e[24]),Z(t,"mouseover",function(){Ge(e[10](e[33].data))&&e[10](e[33].data).apply(this,arguments)}),Z(t,"mousemove",function(){Ge(e[11](e[33].data))&&e[11](e[33].data).apply(this,arguments)}),Z(t,"mouseleave",e[12]())],l=!0)},p(s,u){e=s,u[0]&272&&n!==(n=e[9](e[4]?e[33].data.export_value:e[33].data.import_value)+"")&&Ye(r,n),u[0]&256&&i!==(i=`translate(${e[33].x0+5},${e[33].y0+1+Math.max((e[33].x1-e[33].x0)/10,8)})`)&&d(t,"transform",i),u[0]&256&&a!==(a=Math.max((e[33].x1-e[33].x0)/15,8)-1)&&d(t,"font-size",a)},d(s){s&&b(t),l=!1,ut(o)}}}function ma(e,t){let n,r,i=t[3].length>0&&t[33].x1!=NaN&&t[33].x0!=NaN&&t[33].y0!=NaN&&t[33].y1!=NaN&&ha(t);return{key:e,first:null,c(){n=we(),i&&i.c(),r=we(),this.h()},l(a){n=we(),i&&i.l(a),r=we(),this.h()},h(){this.first=n},m(a,l){j(a,n,l),i&&i.m(a,l),j(a,r,l)},p(a,l){t=a,t[3].length>0&&t[33].x1!=NaN&&t[33].x0!=NaN&&t[33].y0!=NaN&&t[33].y1!=NaN?i?i.p(t,l):(i=ha(t),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(a){a&&b(n),i&&i.d(a),a&&b(r)}}}function ga(e){let t,n,r,i=e[6]?"Loading...":"No valid data for this pair.",a,l,o;return{c(){t=ne("rect"),r=ne("text"),a=ye(i),this.h()},l(s){t=re(s,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),V(t).forEach(b),r=re(s,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var u=V(r);a=ve(u,i),u.forEach(b),this.h()},h(){d(t,"x","0"),d(t,"y","0"),d(t,"width",e[0]),d(t,"height",e[1]),d(t,"fill",n=e[6]?"rgba(255,255,255, 0.9)":"rgba(255,255,255,1)"),d(r,"x",l=e[0]/2),d(r,"y",o=e[1]/2),d(r,"alignment-baseline","central"),d(r,"text-anchor","middle")},m(s,u){j(s,t,u),j(s,r,u),O(r,a)},p(s,u){u[0]&1&&d(t,"width",s[0]),u[0]&2&&d(t,"height",s[1]),u[0]&64&&n!==(n=s[6]?"rgba(255,255,255, 0.9)":"rgba(255,255,255,1)")&&d(t,"fill",n),u[0]&64&&i!==(i=s[6]?"Loading...":"No valid data for this pair.")&&Ye(a,i),u[0]&1&&l!==(l=s[0]/2)&&d(r,"x",l),u[0]&2&&o!==(o=s[1]/2)&&d(r,"y",o)},d(s){s&&b(t),s&&b(r)}}}function td(e){var h,c;let t,n,r,i=[],a=new ed,l,o,s=e[8];const u=_=>_[33].data.product_id;for(let _=0;_<s.length;_+=1){let y=ca(e,s,_),w=u(y);a.set(w,i[_]=ma(w,y))}let f=((c=(h=e[2])==null?void 0:h.length)!=null?c:0)===0&&ga(e);return{c(){t=se("div"),n=ne("svg"),r=ne("g");for(let _=0;_<i.length;_+=1)i[_].c();l=ne("g"),f&&f.c(),this.h()},l(_){t=ue(_,"DIV",{class:!0});var y=V(t);n=re(y,"svg",{class:!0});var w=V(n);r=re(w,"g",{class:!0});var g=V(r);for(let k=0;k<i.length;k+=1)i[k].l(g);g.forEach(b),l=re(w,"g",{id:!0,class:!0}),V(l).forEach(b),f&&f.l(w),w.forEach(b),y.forEach(b),this.h()},h(){d(r,"class","treemap svelte-sixlpg"),d(l,"id","treemap-tooltip"),d(l,"class","tooltip"),d(n,"class","svelte-sixlpg"),d(t,"class","viz-section-full"),jt(()=>e[28].call(t))},m(_,y){j(_,t,y),O(t,n),O(n,r);for(let w=0;w<i.length;w+=1)i[w].m(r,null);e[27](r),O(n,l),f&&f.m(n,null),o=pr(t,e[28].bind(t))},p(_,y){var w,g;y[0]&16184&&(s=_[8],i=Vt(i,y,u,1,_,s,a,r,on,ma,null,ca)),((g=(w=_[2])==null?void 0:w.length)!=null?g:0)===0?f?f.p(_,y):(f=ga(_),f.c(),f.m(n,null)):f&&(f.d(1),f=null)},i:De,o:De,d(_){_&&b(t);for(let y=0;y<i.length;y+=1)i[y].d();e[27](null),f&&f.d(),o()}}}const Un=10,zn=120,pa=25,Ur=90,bt=20,kt=28,Ht=15,nd=()=>{},rd=()=>{},id=()=>{};function ld(e,t,n){let r,i,a,l,o,s,u,f,h;gt(e,et,X=>n(23,u=X)),gt(e,Xt,X=>n(3,f=X)),gt(e,kn,X=>n(4,h=X));const c=X=>Bt("$.3s")(X).replace(/G/,"B");let{data:_}=t,{country1:y,country2:w,productColorScale:g,drilldownBilateral:k,loadingDrilldown:S,locationData:v,productData:m}=_,A=0,z=0,Y,I=new Array;function B(X,G,q){return X+q<A?X+G:X+G-q}function N(X,G){return X+Ur<z?X+G:X+G-Ur}function L(X){return G=>{var fe,Ae,_e;let q=ke("#treemap-tooltip"),oe=Math.max(zn+f.length*pa,zn+10+(X.product.name.length-20)*8);q.append("rect").attr("id","tooltip-rect").attr("width",oe).attr("height",Ur).attr("x",B(G.layerX,Un,oe)).attr("y",N(G.layerY,Un)),q.append("text").attr("class","treemap").attr("id","tooltip-text1").attr("x",B(G.layerX,bt,oe)).attr("y",N(G.layerY,kt)).style("font-weight","bold").text(`${X.product.name}`),q.append("text").attr("class","treemap").attr("id","tooltip-text2").attr("x",B(G.layerX,bt,oe)).attr("y",N(G.layerY,kt+Ht)).text(`Sector: ${(_e=(Ae=(fe=X.product)==null?void 0:fe.parent)==null?void 0:Ae.name)!=null?_e:""}`),q.append("text").attr("class","treemap").attr("id","tooltip-text3").attr("x",B(G.layerX,bt,oe)).attr("y",N(G.layerY,kt+2*Ht)).text((h?"Export: ":"Import: ")+`${c(h?X.export_value:X.import_value)}`),q.append("text").attr("class","treemap").attr("id","tooltip-text4").attr("x",B(G.layerX,bt,oe)).attr("y",N(G.layerY,kt+3*Ht)).text(`Share: ${Bt(".2%")(h?X.export_value/l:X.import_value/o)}`),q.append("text").attr("class","treemap").attr("id","tooltip-text5").attr("x",B(G.layerX,bt,oe)).attr("y",N(G.layerY,kt+4*Ht)).text((f.length>1?"Years: ":"Year: ")+`${f.join(", ")}`)}}function W(X){return G=>{let q=Math.max(zn+f.length*pa,zn+10+(X.product.name.length-20)*8);ke("#tooltip-rect").attr("x",B(G.layerX,Un,q)).attr("y",N(G.layerY,Un)),ke("#tooltip-text1").attr("x",B(G.layerX,bt,q)).attr("y",N(G.layerY,kt)),ke("#tooltip-text2").attr("x",B(G.layerX,bt,q)).attr("y",N(G.layerY,kt+Ht)),ke("#tooltip-text3").attr("x",B(G.layerX,bt,q)).attr("y",N(G.layerY,kt+2*Ht)),ke("#tooltip-text4").attr("x",B(G.layerX,bt,q)).attr("y",N(G.layerY,kt+3*Ht)),ke("#tooltip-text5").attr("x",B(G.layerX,bt,q)).attr("y",N(G.layerY,kt+4*Ht))}}function P(){return X=>{ke("#treemap-tooltip").selectAll("rect").remove(),ke("#treemap-tooltip").selectAll("text").remove()}}function x(X){return G=>{var q,oe,fe,Ae;((q=X==null?void 0:X.product)==null?void 0:q.parent)&&u.has((fe=(oe=X==null?void 0:X.product)==null?void 0:oe.parent)==null?void 0:fe.id)?et.update(_e=>{var le,F,Q;return _e.delete((Q=(F=(le=X==null?void 0:X.product)==null?void 0:le.parent)==null?void 0:F.id)!=null?Q:-1),_e}):((Ae=X==null?void 0:X.product)==null?void 0:Ae.parent)!=null&&et.update(_e=>{var le,F,Q;return _e.add((Q=(F=(le=X==null?void 0:X.product)==null?void 0:le.parent)==null?void 0:F.id)!=null?Q:-1),_e})}}function T(X){lt.call(this,e,X)}function M(X){lt.call(this,e,X)}function te(X){lt.call(this,e,X)}function ae(X){tt[X?"unshift":"push"](()=>{Y=X,n(7,Y)})}function ee(){A=this.clientWidth,z=this.clientHeight,n(0,A),n(1,z)}return e.$$set=X=>{"data"in X&&n(14,_=X.data)},e.$$.update=()=>{var X;if(e.$$.dirty[0]&16384&&n(17,{drilldownBilateral:k,productColorScale:g,country1:y,country2:w,loadingDrilldown:S,locationData:v,productData:m}=_,k,(n(5,g),n(14,_)),(n(15,y),n(14,_)),(n(16,w),n(14,_)),(n(6,S),n(14,_)),(n(18,v),n(14,_)),(n(19,m),n(14,_))),e.$$.dirty[0]&196608&&n(22,r=k==null?void 0:k.get((X=w==null?void 0:w.id)!=null?X:0)),e.$$.dirty[0]&4194312&&n(20,i=f.map(G=>{var q;return(q=r==null?void 0:r.get(G))!=null?q:new Array}).flat()),e.$$.dirty[0]&1933312&&n(21,a=Array.from(xr(i,G=>G.reduce((q,oe)=>(q.export_value+=oe.export_value,q.import_value+=oe.import_value,q),new Dt(v,m,{location_id:y,partner_id:w,product_id:G[0].product_id,year:0,export_value:0,import_value:0})),G=>G.product_id).values())),e.$$.dirty[0]&2097152&&(l=$n(a,G=>G.export_value)),e.$$.dirty[0]&2097152&&(o=$n(a,G=>G.import_value)),e.$$.dirty[0]&12419072&&n(2,s=u.size==0?a:Array.from(xr(i.filter(G=>u.has(G.product.parent_id)),G=>G.reduce((q,oe)=>(q.export_value+=oe.export_value,q.import_value+=oe.import_value,q),new Dt(v,m,{location_id:y,partner_id:w,product_id:G[0].product_id,year:0,export_value:0,import_value:0})),G=>G.product_id).values())),e.$$.dirty[0]&8486935&&s&&s.length>0){let G=[];if(u.size==1){let oe=u.entries().next().value[1],fe=new Dt(new Map,new Map,{location_id:y,partner_id:w,product_id:oe,year:0,export_value:0,import_value:0});fe.product=new Jn({product_id:oe,name:"Sector",level:-1,parent_id:-1}),fe.product.parent_id=null,G.push(fe)}else{let oe=new Dt(new Map,new Map,{location_id:y,partner_id:w,product_id:-1,year:0,export_value:0,import_value:0});oe.product=new Jn({product_id:-1,name:"All",level:-1,parent_id:-1}),oe.product.parent_id=null,G.push(oe);let fe=Xr(s,Ae=>{var _e,le;return(le=(_e=Ae.product)==null?void 0:_e.parent_id)!=null?le:-1});if(fe.size>1)for(let[Ae,_e]of fe){let le=new Dt(new Map,new Map,{location_id:y,partner_id:w,product_id:Ae,year:0,export_value:0,import_value:0});le.product=new Jn({product_id:Ae,name:"Something",level:0,parent_id:-1}),G.push(le)}}G=G.concat(s);let q=Fh().id(oe=>{var fe;return(fe=oe.product)==null?void 0:fe.id}).parentId(oe=>{var fe;return(fe=oe.product)==null?void 0:fe.parent_id})(G);q.sum(oe=>Math.max(0,oe[h?"export_value":"import_value"])),Uh().tile(zh).size([A,z]).padding(2)(q),n(8,I=q.leaves())}},[A,z,s,f,h,g,S,Y,I,c,L,W,P,x,_,y,w,k,v,m,i,a,r,u,T,M,te,ae,ee]}class ad extends pt{constructor(t){super(),yt(this,t,ld,td,vt,{data:14},null,[-1,-1])}}const od=new Map([["AFG","AF"],["ALA","AX"],["ALB","AL"],["DZA","DZ"],["ASM","AS"],["AND","AD"],["AGO","AO"],["AIA","AI"],["ATA","AQ"],["ATG","AG"],["ARG","AR"],["ARM","AM"],["ABW","AW"],["AUS","AU"],["AUT","AT"],["AZE","AZ"],["BHS","BS"],["BHR","BH"],["BGD","BD"],["BRB","BB"],["BLR","BY"],["BEL","BE"],["BLZ","BZ"],["BEN","BJ"],["BMU","BM"],["BTN","BT"],["BOL","BO"],["BIH","BA"],["BWA","BW"],["BVT","BV"],["BRA","BR"],["VGB","VG"],["IOT","IO"],["BRN","BN"],["BGR","BG"],["BFA","BF"],["BDI","BI"],["KHM","KH"],["CMR","CM"],["CAN","CA"],["CPV","CV"],["CYM","KY"],["CAF","CF"],["TCD","TD"],["CHL","CL"],["CHN","CN"],["HKG","HK"],["MAC","MO"],["CXR","CX"],["CCK","CC"],["COL","CO"],["COM","KM"],["COG","CG"],["COD","CD"],["COK","CK"],["CRI","CR"],["CIV","CI"],["HRV","HR"],["CUB","CU"],["CYP","CY"],["CZE","CZ"],["DNK","DK"],["DJI","DJ"],["DMA","DM"],["DOM","DO"],["ECU","EC"],["EGY","EG"],["SLV","SV"],["GNQ","GQ"],["ERI","ER"],["EST","EE"],["ETH","ET"],["FLK","FK"],["FRO","FO"],["FJI","FJ"],["FIN","FI"],["FRA","FR"],["GUF","GF"],["PYF","PF"],["ATF","TF"],["GAB","GA"],["GMB","GM"],["GEO","GE"],["DEU","DE"],["GHA","GH"],["GIB","GI"],["GRC","GR"],["GRL","GL"],["GRD","GD"],["GLP","GP"],["GUM","GU"],["GTM","GT"],["GGY","GG"],["GIN","GN"],["GNB","GW"],["GUY","GY"],["HTI","HT"],["HMD","HM"],["VAT","VA"],["HND","HN"],["HUN","HU"],["ISL","IS"],["IND","IN"],["IDN","ID"],["IRN","IR"],["IRQ","IQ"],["IRL","IE"],["IMN","IM"],["ISR","IL"],["ITA","IT"],["JAM","JM"],["JPN","JP"],["JEY","JE"],["JOR","JO"],["KAZ","KZ"],["KEN","KE"],["KIR","KI"],["PRK","KP"],["KOR","KR"],["KWT","KW"],["KGZ","KG"],["LAO","LA"],["LVA","LV"],["LBN","LB"],["LSO","LS"],["LBR","LR"],["LBY","LY"],["LIE","LI"],["LTU","LT"],["LUX","LU"],["MKD","MK"],["MDG","MG"],["MWI","MW"],["MYS","MY"],["MDV","MV"],["MLI","ML"],["MLT","MT"],["MHL","MH"],["MTQ","MQ"],["MRT","MR"],["MUS","MU"],["MYT","YT"],["MEX","MX"],["FSM","FM"],["MDA","MD"],["MCO","MC"],["MNG","MN"],["MNE","ME"],["MSR","MS"],["MAR","MA"],["MOZ","MZ"],["MMR","MM"],["NAM","NA"],["NRU","NR"],["NPL","NP"],["NLD","NL"],["ANT","AN"],["NCL","NC"],["NZL","NZ"],["NIC","NI"],["NER","NE"],["NGA","NG"],["NIU","NU"],["NFK","NF"],["MNP","MP"],["NOR","NO"],["OMN","OM"],["PAK","PK"],["PLW","PW"],["PSE","PS"],["PAN","PA"],["PNG","PG"],["PRY","PY"],["PER","PE"],["PHL","PH"],["PCN","PN"],["POL","PL"],["PRT","PT"],["PRI","PR"],["QAT","QA"],["REU","RE"],["ROU","RO"],["RUS","RU"],["RWA","RW"],["BLM","BL"],["SHN","SH"],["KNA","KN"],["LCA","LC"],["MAF","MF"],["SPM","PM"],["VCT","VC"],["WSM","WS"],["SMR","SM"],["STP","ST"],["SAU","SA"],["SEN","SN"],["SRB","RS"],["SYC","SC"],["SLE","SL"],["SGP","SG"],["SVK","SK"],["SVN","SI"],["SLB","SB"],["SOM","SO"],["ZAF","ZA"],["SGS","GS"],["SSD","SS"],["ESP","ES"],["LKA","LK"],["SDN","SD"],["SUR","SR"],["SJM","SJ"],["SWZ","SZ"],["SWE","SE"],["CHE","CH"],["SYR","SY"],["TWN","TW"],["TJK","TJ"],["TZA","TZ"],["THA","TH"],["TLS","TL"],["TGO","TG"],["TKL","TK"],["TON","TO"],["TTO","TT"],["TUN","TN"],["TUR","TR"],["TKM","TM"],["TCA","TC"],["TUV","TV"],["UGA","UG"],["UKR","UA"],["ARE","AE"],["GBR","GB"],["USA","US"],["UMI","UM"],["URY","UY"],["UZB","UZ"],["VUT","VU"],["VEN","VE"],["VNM","VN"],["VIR","VI"],["WLF","WF"],["ESH","EH"],["YEM","YE"],["ZMB","ZM"],["ZWE","ZW"],["XKX","XK"]]),Yn=e=>{var t,n;return`https://cdn.jsdelivr.net/npm/flag-icons@6.3.0/flags/4x3/${(n=(t=od.get(e.toUpperCase()))==null?void 0:t.toLowerCase())!=null?n:"aq"}.svg`};function sd(e){let t,n,r,i,a,l;return{c(){t=se("div"),n=se("h3"),r=ye("Loading data..."),i=Ie(),a=ne("svg"),l=ne("circle"),this.h()},l(o){t=ue(o,"DIV",{class:!0});var s=V(t);n=ue(s,"H3",{});var u=V(n);r=ve(u,"Loading data..."),u.forEach(b),i=Se(s),a=re(s,"svg",{class:!0,viewBox:!0});var f=V(a);l=re(f,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0}),V(l).forEach(b),f.forEach(b),s.forEach(b),this.h()},h(){d(l,"class","path svelte-jjx3lt"),d(l,"cx","25"),d(l,"cy","25"),d(l,"r","20"),d(l,"fill","none"),d(l,"stroke-width","5"),d(a,"class","spinner svelte-jjx3lt"),d(a,"viewBox","0 0 50 50"),d(t,"class","loading svelte-jjx3lt")},m(o,s){j(o,t,s),O(t,n),O(n,r),O(t,i),O(t,a),O(a,l)},p:De,i:De,o:De,d(o){o&&b(t)}}}function ud(e){var ge,be,He,Ue,nt,Qe;let t,n,r,i,a,l,o,s,u,f,h,c,_,y,w,g,k,S,v,m,A,z,Y,I,B,N,L,W,P,x,T,M,te,ae,ee,X=((ge=e[2])==null?void 0:ge.name)+"",G,q,oe=e[9]?"export to ":"import from ",fe,Ae,_e=((be=e[8])==null?void 0:be.name)+"",le,F,Q=e[10].length>1?`from ${e[10][0]} to ${e[10][e[10].length-1]}?`:`in ${e[10]}?`,Me,H,$,D,R,K,Ee,ie,me;u=new xl({props:{optionIdentifier:va,labelIdentifier:wa,items:Array.from(e[0].values()),value:e[2]}}),u.$on("select",e[12]),v=new xl({props:{optionIdentifier:va,labelIdentifier:wa,items:Array.from(e[0].values()),value:e[8]}}),v.$on("select",e[13]),P=new $0({props:{data:{bilateralData:e[5],country1_id:(Ue=(He=e[2])==null?void 0:He.id)!=null?Ue:0,country2_id:(Qe=(nt=e[8])==null?void 0:nt.id)!=null?Qe:0,productData:e[1],locationData:e[0],countryColorScale:e[3]}}}),T=new X0({props:{data:{productData:e[1],locationData:e[0],bilateralData:e[5],loadingDrilldown:e[7],productColorScale:e[4],country1:e[2],country2:e[8],countryColorScale:e[3]}}});let C=e[11].size>0&&ya(e);return K=new ad({props:{data:{locationData:e[0],productData:e[1],productColorScale:e[4],country1:e[2],country2:e[8],drilldownBilateral:e[6],loadingDrilldown:e[7]}}}),{c(){t=se("div"),n=se("img"),i=Ie(),a=se("div"),l=se("span"),o=ye("Country"),s=Ie(),Ve(u.$$.fragment),f=Ie(),h=se("div"),c=se("button"),_=ye("\u2194"),y=Ie(),w=se("div"),g=se("span"),k=ye("Partner"),S=Ie(),Ve(v.$$.fragment),m=Ie(),A=se("img"),Y=Ie(),I=se("div"),B=Ie(),N=se("div"),L=se("div"),W=se("div"),Ve(P.$$.fragment),x=Ie(),Ve(T.$$.fragment),M=Ie(),te=se("div"),ae=se("p"),ee=ye("What did "),G=ye(X),q=Ie(),fe=ye(oe),Ae=Ie(),le=ye(_e),F=Ie(),Me=ye(Q),H=Ie(),$=se("div"),C&&C.c(),D=Ie(),R=se("div"),Ve(K.$$.fragment),this.h()},l(E){t=ue(E,"DIV",{class:!0});var U=V(t);n=ue(U,"IMG",{class:!0,alt:!0,src:!0}),i=Se(U),a=ue(U,"DIV",{class:!0});var J=V(a);l=ue(J,"SPAN",{class:!0});var he=V(l);o=ve(he,"Country"),he.forEach(b),s=Se(J),ot(u.$$.fragment,J),J.forEach(b),f=Se(U),h=ue(U,"DIV",{class:!0});var Ce=V(h);c=ue(Ce,"BUTTON",{class:!0});var Le=V(c);_=ve(Le,"\u2194"),Le.forEach(b),Ce.forEach(b),y=Se(U),w=ue(U,"DIV",{class:!0});var Re=V(w);g=ue(Re,"SPAN",{class:!0});var Te=V(g);k=ve(Te,"Partner"),Te.forEach(b),S=Se(Re),ot(v.$$.fragment,Re),Re.forEach(b),m=Se(U),A=ue(U,"IMG",{class:!0,alt:!0,src:!0}),U.forEach(b),Y=Se(E),I=ue(E,"DIV",{});var We=V(I);We.forEach(b),B=Se(E),N=ue(E,"DIV",{id:!0,class:!0});var Ke=V(N);L=ue(Ke,"DIV",{id:!0,class:!0});var Oe=V(L);W=ue(Oe,"DIV",{class:!0});var $e=V(W);ot(P.$$.fragment,$e),x=Se($e),ot(T.$$.fragment,$e),$e.forEach(b),M=Se(Oe),te=ue(Oe,"DIV",{});var Fe=V(te);ae=ue(Fe,"P",{});var rt=V(ae);ee=ve(rt,"What did "),G=ve(rt,X),q=Se(rt),fe=ve(rt,oe),Ae=Se(rt),le=ve(rt,_e),F=Se(rt),Me=ve(rt,Q),rt.forEach(b),Fe.forEach(b),H=Se(Oe),$=ue(Oe,"DIV",{class:!0});var Gt=V($);C&&C.l(Gt),Gt.forEach(b),D=Se(Oe),R=ue(Oe,"DIV",{class:!0});var ft=V(R);ot(K.$$.fragment,ft),ft.forEach(b),Oe.forEach(b),Ke.forEach(b),this.h()},h(){var E,U,J,he;d(n,"class","country-icon svelte-jjx3lt"),d(n,"alt","Select a country"),Ln(n.src,r=Yn((U=(E=e[2])==null?void 0:E.code)!=null?U:"ATA"))||d(n,"src",r),d(l,"class","svelte-jjx3lt"),d(a,"class","dropdown svelte-jjx3lt"),d(c,"class","switch-btn svelte-jjx3lt"),d(h,"class","switch-btn-container svelte-jjx3lt"),d(g,"class","svelte-jjx3lt"),d(w,"class","dropdown svelte-jjx3lt"),d(A,"class","country-icon svelte-jjx3lt"),d(A,"alt","Select a partner"),Ln(A.src,z=Yn((he=(J=e[8])==null?void 0:J.code)!=null?he:"ATA"))||d(A,"src",z),d(t,"class","selectors svelte-jjx3lt"),d(W,"class","viz-row svelte-jjx3lt"),d($,"class","clear-sectors svelte-jjx3lt"),d(R,"class","viz-row svelte-jjx3lt"),d(L,"id","content"),d(L,"class","svelte-jjx3lt"),d(N,"id","container"),d(N,"class","svelte-jjx3lt")},m(E,U){j(E,t,U),O(t,n),O(t,i),O(t,a),O(a,l),O(l,o),O(a,s),Be(u,a,null),O(t,f),O(t,h),O(h,c),O(c,_),O(t,y),O(t,w),O(w,g),O(g,k),O(w,S),Be(v,w,null),O(t,m),O(t,A),j(E,Y,U),j(E,I,U),j(E,B,U),j(E,N,U),O(N,L),O(L,W),Be(P,W,null),O(W,x),Be(T,W,null),O(L,M),O(L,te),O(te,ae),O(ae,ee),O(ae,G),O(ae,q),O(ae,fe),O(ae,Ae),O(ae,le),O(ae,F),O(ae,Me),O(L,H),O(L,$),C&&C.m($,null),O(L,D),O(L,R),Be(K,R,null),Ee=!0,ie||(me=Z(c,"click",e[14]),ie=!0)},p(E,U){var Te,We,Ke,Oe,$e,Fe,rt,Gt,ft,Cn;(!Ee||U&4&&!Ln(n.src,r=Yn((We=(Te=E[2])==null?void 0:Te.code)!=null?We:"ATA")))&&d(n,"src",r);const J={};U&1&&(J.items=Array.from(E[0].values())),U&4&&(J.value=E[2]),u.$set(J);const he={};U&1&&(he.items=Array.from(E[0].values())),U&256&&(he.value=E[8]),v.$set(he),(!Ee||U&256&&!Ln(A.src,z=Yn((Oe=(Ke=E[8])==null?void 0:Ke.code)!=null?Oe:"ATA")))&&d(A,"src",z);const Ce={};U&303&&(Ce.data={bilateralData:E[5],country1_id:(Fe=($e=E[2])==null?void 0:$e.id)!=null?Fe:0,country2_id:(Gt=(rt=E[8])==null?void 0:rt.id)!=null?Gt:0,productData:E[1],locationData:E[0],countryColorScale:E[3]}),P.$set(Ce);const Le={};U&447&&(Le.data={productData:E[1],locationData:E[0],bilateralData:E[5],loadingDrilldown:E[7],productColorScale:E[4],country1:E[2],country2:E[8],countryColorScale:E[3]}),T.$set(Le),(!Ee||U&4)&&X!==(X=((ft=E[2])==null?void 0:ft.name)+"")&&Ye(G,X),(!Ee||U&512)&&oe!==(oe=E[9]?"export to ":"import from ")&&Ye(fe,oe),(!Ee||U&256)&&_e!==(_e=((Cn=E[8])==null?void 0:Cn.name)+"")&&Ye(le,_e),(!Ee||U&1024)&&Q!==(Q=E[10].length>1?`from ${E[10][0]} to ${E[10][E[10].length-1]}?`:`in ${E[10]}?`)&&Ye(Me,Q),E[11].size>0?C?(C.p(E,U),U&2048&&ce(C,1)):(C=ya(E),C.c(),ce(C,1),C.m($,null)):C&&(Xe(),pe(C,1,1,()=>{C=null}),xe());const Re={};U&471&&(Re.data={locationData:E[0],productData:E[1],productColorScale:E[4],country1:E[2],country2:E[8],drilldownBilateral:E[6],loadingDrilldown:E[7]}),K.$set(Re)},i(E){Ee||(ce(u.$$.fragment,E),ce(v.$$.fragment,E),ce(P.$$.fragment,E),ce(T.$$.fragment,E),ce(C),ce(K.$$.fragment,E),Ee=!0)},o(E){pe(u.$$.fragment,E),pe(v.$$.fragment,E),pe(P.$$.fragment,E),pe(T.$$.fragment,E),pe(C),pe(K.$$.fragment,E),Ee=!1},d(E){E&&b(t),Pe(u),Pe(v),E&&b(Y),E&&b(I),E&&b(B),E&&b(N),Pe(P),Pe(T),C&&C.d(),Pe(K),ie=!1,me()}}}function ya(e){let t,n,r,i,a,l,o;return{c(){t=se("button"),n=ye("Clear Sector Selection"),this.h()},l(s){t=ue(s,"BUTTON",{height:!0,class:!0});var u=V(t);n=ve(u,"Clear Sector Selection"),u.forEach(b),this.h()},h(){d(t,"height","10"),d(t,"class","svelte-jjx3lt")},m(s,u){j(s,t,u),O(t,n),a=!0,l||(o=Z(t,"click",e[15]),l=!0)},p:De,i(s){a||(jt(()=>{i&&i.end(1),r=yi(t,hr,{duration:200}),r.start()}),a=!0)},o(s){r&&r.invalidate(),i=Xo(t,hr,{duration:200}),a=!1},d(s){s&&b(t),s&&i&&i.end(),l=!1,o()}}}function fd(e){let t,n,r,i,a,l=Vi.exports.icons["book-open"].toSvg()+"",o,s,u=Vi.exports.icons.github.toSvg()+"",f,h,c,_,y,w,g,k,S,v,m;const A=[ud,sd],z=[];function Y(I,B){return I[0]&&I[5]&&I[1]?0:1}return S=Y(e),v=z[S]=A[S](e),{c(){t=se("link"),n=Ie(),r=se("div"),i=se("div"),a=se("a"),o=Ie(),s=se("a"),f=Ie(),h=se("div"),c=se("h1"),_=ye("Commerce Among Nations"),y=Ie(),w=se("h2"),g=ye("A Bilateral Trade Data Visualization by Andrew Lee & Franklin Yuan"),k=Ie(),v.c(),this.h()},l(I){const B=Yo("svelte-tu7v51",document.head);t=ue(B,"LINK",{rel:!0,href:!0}),B.forEach(b),n=Se(I),r=ue(I,"DIV",{class:!0});var N=V(r);i=ue(N,"DIV",{class:!0});var L=V(i);a=ue(L,"A",{href:!0,title:!0,class:!0});var W=V(a);W.forEach(b),o=Se(L),s=ue(L,"A",{href:!0,title:!0,class:!0});var P=V(s);P.forEach(b),L.forEach(b),f=Se(N),h=ue(N,"DIV",{class:!0});var x=V(h);c=ue(x,"H1",{class:!0});var T=V(c);_=ve(T,"Commerce Among Nations"),T.forEach(b),y=Se(x),w=ue(x,"H2",{class:!0});var M=V(w);g=ve(M,"A Bilateral Trade Data Visualization by Andrew Lee & Franklin Yuan"),M.forEach(b),x.forEach(b),k=Se(N),v.l(N),N.forEach(b),this.h()},h(){d(t,"rel","icon"),d(t,"href",`${rn}/favicon.png`),document.title="Commerce Among Nations",d(a,"href",rn+"/processbook"),d(a,"title","process-book"),d(a,"class","svelte-jjx3lt"),d(s,"href","https://github.com/candrewlee14/data-viz-project"),d(s,"title","github"),d(s,"class","svelte-jjx3lt"),d(i,"class","nav svelte-jjx3lt"),d(c,"class","svelte-jjx3lt"),d(w,"class","svelte-jjx3lt"),d(h,"class","heading svelte-jjx3lt"),d(r,"class","outer svelte-jjx3lt")},m(I,B){O(document.head,t),j(I,n,B),j(I,r,B),O(r,i),O(i,a),a.innerHTML=l,O(i,o),O(i,s),s.innerHTML=u,O(r,f),O(r,h),O(h,c),O(c,_),O(h,y),O(h,w),O(w,g),O(r,k),z[S].m(r,null),m=!0},p(I,[B]){let N=S;S=Y(I),S===N?z[S].p(I,B):(Xe(),pe(z[N],1,1,()=>{z[N]=null}),xe(),v=z[S],v?v.p(I,B):(v=z[S]=A[S](I),v.c()),ce(v,1),v.m(r,null))},i(I){m||(ce(v),m=!0)},o(I){pe(v),m=!1},d(I){b(t),I&&b(n),I&&b(r),z[S].d()}}}const va="id",wa="name",cd=231,hd=43;function dd(e,t,n){let r,i,a,l,o;gt(e,kn,v=>n(9,a=v)),gt(e,Xt,v=>n(10,l=v)),gt(e,et,v=>n(11,o=v));const s=v=>{let m=v.detail;n(2,r=c.get(m.id))},u=v=>{let m=v.detail;n(8,i=c.get(m.id))};let f,h,c=new Map,_=new Map,y,w,g=!1;function k(){let v=r;n(2,r=i),n(8,i=v)}gr(async()=>{Promise.all([Fn(`${rn}/data/location.csv`),Fn(`${rn}/data/hs_product.csv`),Fn(`${rn}/data/hs_2010_to_2020.csv`)]).then(([v,m,A])=>{var Y;n(0,c=Pi(v.map(I=>new L0(I)).filter(I=>I.level=="country"),I=>I.id)),n(1,_=Pi(m.map(I=>new Jn(I)),I=>I.id));for(let[I,B]of _)B.parent=(Y=_.get(B.parent_id))!=null?Y:null,_.set(I,B);let z=A.map(I=>new Dt(c,_,I));n(5,y=Xr(z,I=>I.location_id,I=>I.partner_id,I=>I.year)),Aa(A,I=>+I.export_value),n(3,f=ci(c.keys(),bl)),n(4,h=ci(Array.from(_).map(([I,B])=>B.level).filter(I=>I=="section"),bl))})});const S=()=>{et.set(new Set)};return e.$$.update=()=>{var v,m,A,z;e.$$.dirty&1&&n(2,r=(v=c==null?void 0:c.get(cd))!=null?v:null),e.$$.dirty&1&&n(8,i=(m=c==null?void 0:c.get(hd))!=null?m:null),e.$$.dirty&7&&(n(6,w=null),n(7,g=!0),Fn(`${rn}/data/${(A=r==null?void 0:r.code)!=null?A:"USA"}/${(z=r==null?void 0:r.code)!=null?z:"USA"}_hs2_2010_to_2020.csv`).then(Y=>{n(6,w=Xr(Y.map(I=>new Dt(c,_,I)),I=>I.partner_id,I=>I.year)),n(7,g=!1)}))},[c,_,r,f,h,y,w,g,i,a,l,o,s,u,k,S]}class vd extends pt{constructor(t){super(),yt(this,t,dd,fd,vt,{})}}export{vd as default};
