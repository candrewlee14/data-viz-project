var ss=Object.defineProperty;var as=(e,t,n)=>t in e?ss(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fe=(e,t,n)=>(as(e,typeof t!="symbol"?t+"":t,n),n);import{S as Ve,i as Oe,s as He,k as j,l as U,m as D,h as I,n as _,b as B,B as ie,I as Ne,J as ue,g as me,t as X,d as ge,f as q,K as ln,L as ri,o as sn,M as Yr,N as Me,e as ae,O as li,v as ve,w as re,x as be,y as le,z as se,q as ce,r as he,G as H,u as Qe,A as Bt,a as ee,c as te,P as W,Q as K,p as at,R as Ln,T as Tt,U as an,V as jt,W as os,C as us,D as fs,E as cs,F as hs,X as si,Y as Ti,Z as Li,_ as ai,$ as jr,a0 as ds,a1 as Fi,a2 as _s,a3 as ms,a4 as gs,H as Ur,a5 as Xr,a6 as Fn,a7 as ps,a8 as vs}from"../../chunks/index-641c48f2.js";import{w as ys,b as Ot}from"../../chunks/paths-24cb8d2c.js";function zt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ws(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wr(e){let t,n,i;e.length!==2?(t=zt,n=(a,o)=>zt(e(a),o),i=(a,o)=>e(a)-o):(t=e===zt||e===ws?e:bs,n=e,i=e);function r(a,o,u=0,h=a.length){if(u<h){if(t(o,o)!==0)return h;do{const c=u+h>>>1;n(a[c],o)<0?u=c+1:h=c}while(u<h)}return u}function s(a,o,u=0,h=a.length){if(u<h){if(t(o,o)!==0)return h;do{const c=u+h>>>1;n(a[c],o)<=0?u=c+1:h=c}while(u<h)}return u}function l(a,o,u=0,h=a.length){const c=r(a,o,u,h-1);return c>u&&i(a[c-1],o)>-i(a[c],o)?c-1:c}return{left:r,center:l,right:s}}function bs(){return 0}function ks(e){return e===null?NaN:+e}const Is=Wr(zt),Ss=Is.right;Wr(ks).center;const As=Ss;function Kr(e,t){let n,i;if(t===void 0)for(const r of e)r!=null&&(n===void 0?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(n===void 0?s>=s&&(n=i=s):(n>s&&(n=s),i<s&&(i=s)))}return[n,i]}class Vn extends Map{constructor(t,n=Cs){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(Vi(this,t))}has(t){return super.has(Vi(this,t))}set(t,n){return super.set(Ms(this,t),n)}delete(t){return super.delete(Es(this,t))}}function Vi({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function Ms({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function Es({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function Cs(e){return e!==null&&typeof e=="object"?e.valueOf():e}function On(e){return e}function Hn(e,...t){return Zr(e,On,On,t)}function Oi(e,...t){return Zr(e,On,Ns,t)}function Ns(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function Zr(e,t,n,i){return function r(s,l){if(l>=i.length)return n(s);const a=new Vn,o=i[l++];let u=-1;for(const h of s){const c=o(h,++u,s),f=a.get(c);f?f.push(h):a.set(c,[h])}for(const[h,c]of a)a.set(h,r(c,l));return t(a)}(e,0)}var Dn=Math.sqrt(50),xn=Math.sqrt(10),Rn=Math.sqrt(2);function Ts(e,t,n){var i,r=-1,s,l,a;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((i=t<e)&&(s=e,e=t,t=s),(a=Jr(e,t,n))===0||!isFinite(a))return[];if(a>0){let o=Math.round(e/a),u=Math.round(t/a);for(o*a<e&&++o,u*a>t&&--u,l=new Array(s=u-o+1);++r<s;)l[r]=(o+r)*a}else{a=-a;let o=Math.round(e*a),u=Math.round(t*a);for(o/a<e&&++o,u/a>t&&--u,l=new Array(s=u-o+1);++r<s;)l[r]=(o+r)/a}return i&&l.reverse(),l}function Jr(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,r);return r>=0?(s>=Dn?10:s>=xn?5:s>=Rn?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=Dn?10:s>=xn?5:s>=Rn?2:1)}function Ls(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/r;return s>=Dn?r*=10:s>=xn?r*=5:s>=Rn&&(r*=2),t<e?-r:r}function Pn(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function Fs(e){return e}var kn=1,In=2,Bn=3,It=4,Hi=1e-6;function Vs(e){return"translate("+e+",0)"}function Os(e){return"translate(0,"+e+")"}function Hs(e){return t=>+e(t)}function Ds(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function xs(){return!this.__axis}function Qr(e,t){var n=[],i=null,r=null,s=6,l=6,a=3,o=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===kn||e===It?-1:1,h=e===It||e===In?"x":"y",c=e===kn||e===Bn?Vs:Os;function f(d){var v=i==null?t.ticks?t.ticks.apply(t,n):t.domain():i,g=r==null?t.tickFormat?t.tickFormat.apply(t,n):Fs:r,k=Math.max(s,0)+a,M=t.range(),T=+M[0]+o,b=+M[M.length-1]+o,p=(t.bandwidth?Ds:Hs)(t.copy(),o),A=d.selection?d.selection():d,O=A.selectAll(".domain").data([null]),P=A.selectAll(".tick").data(v,t).order(),x=P.exit(),E=P.enter().append("g").attr("class","tick"),V=P.select("line"),y=P.select("text");O=O.merge(O.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(E),V=V.merge(E.append("line").attr("stroke","currentColor").attr(h+"2",u*s)),y=y.merge(E.append("text").attr("fill","currentColor").attr(h,u*k).attr("dy",e===kn?"0em":e===Bn?"0.71em":"0.32em")),d!==A&&(O=O.transition(d),P=P.transition(d),V=V.transition(d),y=y.transition(d),x=x.transition(d).attr("opacity",Hi).attr("transform",function(C){return isFinite(C=p(C))?c(C+o):this.getAttribute("transform")}),E.attr("opacity",Hi).attr("transform",function(C){var w=this.parentNode.__axis;return c((w&&isFinite(w=w(C))?w:p(C))+o)})),x.remove(),O.attr("d",e===It||e===In?l?"M"+u*l+","+T+"H"+o+"V"+b+"H"+u*l:"M"+o+","+T+"V"+b:l?"M"+T+","+u*l+"V"+o+"H"+b+"V"+u*l:"M"+T+","+o+"H"+b),P.attr("opacity",1).attr("transform",function(C){return c(p(C)+o)}),V.attr(h+"2",u*s),y.attr(h,u*k).text(g),A.filter(xs).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===In?"start":e===It?"end":"middle"),A.each(function(){this.__axis=p})}return f.scale=function(d){return arguments.length?(t=d,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),f):n.slice()},f.tickValues=function(d){return arguments.length?(i=d==null?null:Array.from(d),f):i&&i.slice()},f.tickFormat=function(d){return arguments.length?(r=d,f):r},f.tickSize=function(d){return arguments.length?(s=l=+d,f):s},f.tickSizeInner=function(d){return arguments.length?(s=+d,f):s},f.tickSizeOuter=function(d){return arguments.length?(l=+d,f):l},f.tickPadding=function(d){return arguments.length?(a=+d,f):a},f.offset=function(d){return arguments.length?(o=+d,f):o},f}function $r(e){return Qr(Bn,e)}function Rs(e){return Qr(It,e)}var Ps={value:()=>{}};function el(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new qt(n)}function qt(e){this._=e}function Bs(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}qt.prototype=el.prototype={constructor:qt,on:function(e,t){var n=this._,i=Bs(e+"",n),r,s=-1,l=i.length;if(arguments.length<2){for(;++s<l;)if((r=(e=i[s]).type)&&(r=zs(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<l;)if(r=(e=i[s]).type)n[r]=Di(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Di(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new qt(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,s;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,r=s.length;i<r;++i)s[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)}};function zs(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function Di(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=Ps,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var zn="http://www.w3.org/1999/xhtml";const xi={svg:"http://www.w3.org/2000/svg",xhtml:zn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function on(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),xi.hasOwnProperty(t)?{space:xi[t],local:e}:e}function qs(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===zn&&t.documentElement.namespaceURI===zn?t.createElement(e):t.createElementNS(n,e)}}function Gs(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function tl(e){var t=on(e);return(t.local?Gs:qs)(t)}function Ys(){}function oi(e){return e==null?Ys:function(){return this.querySelector(e)}}function js(e){typeof e!="function"&&(e=oi(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],l=s.length,a=i[r]=new Array(l),o,u,h=0;h<l;++h)(o=s[h])&&(u=e.call(o,o.__data__,h,s))&&("__data__"in o&&(u.__data__=o.__data__),a[h]=u);return new Ee(i,this._parents)}function Us(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Xs(){return[]}function nl(e){return e==null?Xs:function(){return this.querySelectorAll(e)}}function Ws(e){return function(){return Us(e.apply(this,arguments))}}function Ks(e){typeof e=="function"?e=Ws(e):e=nl(e);for(var t=this._groups,n=t.length,i=[],r=[],s=0;s<n;++s)for(var l=t[s],a=l.length,o,u=0;u<a;++u)(o=l[u])&&(i.push(e.call(o,o.__data__,u,l)),r.push(o));return new Ee(i,r)}function il(e){return function(){return this.matches(e)}}function rl(e){return function(t){return t.matches(e)}}var Zs=Array.prototype.find;function Js(e){return function(){return Zs.call(this.children,e)}}function Qs(){return this.firstElementChild}function $s(e){return this.select(e==null?Qs:Js(typeof e=="function"?e:rl(e)))}var ea=Array.prototype.filter;function ta(){return Array.from(this.children)}function na(e){return function(){return ea.call(this.children,e)}}function ia(e){return this.selectAll(e==null?ta:na(typeof e=="function"?e:rl(e)))}function ra(e){typeof e!="function"&&(e=il(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],l=s.length,a=i[r]=[],o,u=0;u<l;++u)(o=s[u])&&e.call(o,o.__data__,u,s)&&a.push(o);return new Ee(i,this._parents)}function ll(e){return new Array(e.length)}function la(){return new Ee(this._enter||this._groups.map(ll),this._parents)}function Ut(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ut.prototype={constructor:Ut,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function sa(e){return function(){return e}}function aa(e,t,n,i,r,s){for(var l=0,a,o=t.length,u=s.length;l<u;++l)(a=t[l])?(a.__data__=s[l],i[l]=a):n[l]=new Ut(e,s[l]);for(;l<o;++l)(a=t[l])&&(r[l]=a)}function oa(e,t,n,i,r,s,l){var a,o,u=new Map,h=t.length,c=s.length,f=new Array(h),d;for(a=0;a<h;++a)(o=t[a])&&(f[a]=d=l.call(o,o.__data__,a,t)+"",u.has(d)?r[a]=o:u.set(d,o));for(a=0;a<c;++a)d=l.call(e,s[a],a,s)+"",(o=u.get(d))?(i[a]=o,o.__data__=s[a],u.delete(d)):n[a]=new Ut(e,s[a]);for(a=0;a<h;++a)(o=t[a])&&u.get(f[a])===o&&(r[a]=o)}function ua(e){return e.__data__}function fa(e,t){if(!arguments.length)return Array.from(this,ua);var n=t?oa:aa,i=this._parents,r=this._groups;typeof e!="function"&&(e=sa(e));for(var s=r.length,l=new Array(s),a=new Array(s),o=new Array(s),u=0;u<s;++u){var h=i[u],c=r[u],f=c.length,d=ca(e.call(h,h&&h.__data__,u,i)),v=d.length,g=a[u]=new Array(v),k=l[u]=new Array(v),M=o[u]=new Array(f);n(h,c,g,k,M,d,t);for(var T=0,b=0,p,A;T<v;++T)if(p=g[T]){for(T>=b&&(b=T+1);!(A=k[b])&&++b<v;);p._next=A||null}}return l=new Ee(l,i),l._enter=a,l._exit=o,l}function ca(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ha(){return new Ee(this._exit||this._groups.map(ll),this._parents)}function da(e,t,n){var i=this.enter(),r=this,s=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),i&&r?i.merge(r).order():r}function _a(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,s=i.length,l=Math.min(r,s),a=new Array(r),o=0;o<l;++o)for(var u=n[o],h=i[o],c=u.length,f=a[o]=new Array(c),d,v=0;v<c;++v)(d=u[v]||h[v])&&(f[v]=d);for(;o<r;++o)a[o]=n[o];return new Ee(a,this._parents)}function ma(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,s=i[r],l;--r>=0;)(l=i[r])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function ga(e){e||(e=pa);function t(c,f){return c&&f?e(c.__data__,f.__data__):!c-!f}for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var l=n[s],a=l.length,o=r[s]=new Array(a),u,h=0;h<a;++h)(u=l[h])&&(o[h]=u);o.sort(t)}return new Ee(r,this._parents).order()}function pa(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function va(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ya(){return Array.from(this)}function wa(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length;r<s;++r){var l=i[r];if(l)return l}return null}function ba(){let e=0;for(const t of this)++e;return e}function ka(){return!this.node()}function Ia(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],s=0,l=r.length,a;s<l;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this}function Sa(e){return function(){this.removeAttribute(e)}}function Aa(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ma(e,t){return function(){this.setAttribute(e,t)}}function Ea(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ca(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Na(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ta(e,t){var n=on(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Aa:Sa:typeof t=="function"?n.local?Na:Ca:n.local?Ea:Ma)(n,t))}function sl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function La(e){return function(){this.style.removeProperty(e)}}function Fa(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Va(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Oa(e,t,n){return arguments.length>1?this.each((t==null?La:typeof t=="function"?Va:Fa)(e,t,n==null?"":n)):ht(this.node(),e)}function ht(e,t){return e.style.getPropertyValue(t)||sl(e).getComputedStyle(e,null).getPropertyValue(t)}function Ha(e){return function(){delete this[e]}}function Da(e,t){return function(){this[e]=t}}function xa(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ra(e,t){return arguments.length>1?this.each((t==null?Ha:typeof t=="function"?xa:Da)(e,t)):this.node()[e]}function al(e){return e.trim().split(/^|\s+/)}function ui(e){return e.classList||new ol(e)}function ol(e){this._node=e,this._names=al(e.getAttribute("class")||"")}ol.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ul(e,t){for(var n=ui(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function fl(e,t){for(var n=ui(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function Pa(e){return function(){ul(this,e)}}function Ba(e){return function(){fl(this,e)}}function za(e,t){return function(){(t.apply(this,arguments)?ul:fl)(this,e)}}function qa(e,t){var n=al(e+"");if(arguments.length<2){for(var i=ui(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?za:t?Pa:Ba)(n,t))}function Ga(){this.textContent=""}function Ya(e){return function(){this.textContent=e}}function ja(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Ua(e){return arguments.length?this.each(e==null?Ga:(typeof e=="function"?ja:Ya)(e)):this.node().textContent}function Xa(){this.innerHTML=""}function Wa(e){return function(){this.innerHTML=e}}function Ka(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function Za(e){return arguments.length?this.each(e==null?Xa:(typeof e=="function"?Ka:Wa)(e)):this.node().innerHTML}function Ja(){this.nextSibling&&this.parentNode.appendChild(this)}function Qa(){return this.each(Ja)}function $a(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function eo(){return this.each($a)}function to(e){var t=typeof e=="function"?e:tl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function no(){return null}function io(e,t){var n=typeof e=="function"?e:tl(e),i=t==null?no:typeof t=="function"?t:oi(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function ro(){var e=this.parentNode;e&&e.removeChild(this)}function lo(){return this.each(ro)}function so(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ao(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oo(e){return this.select(e?ao:so)}function uo(e){return arguments.length?this.property("__data__",e):this.node().__data__}function fo(e){return function(t){e.call(this,t,this.__data__)}}function co(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function ho(e){return function(){var t=this.__on;if(!!t){for(var n=0,i=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++i]=s;++i?t.length=i:delete this.__on}}}function _o(e,t,n){return function(){var i=this.__on,r,s=fo(t);if(i){for(var l=0,a=i.length;l<a;++l)if((r=i[l]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},i?i.push(r):this.__on=[r]}}function mo(e,t,n){var i=co(e+""),r,s=i.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var o=0,u=a.length,h;o<u;++o)for(r=0,h=a[o];r<s;++r)if((l=i[r]).type===h.type&&l.name===h.name)return h.value}return}for(a=t?_o:ho,r=0;r<s;++r)this.each(a(i[r],t,n));return this}function cl(e,t,n){var i=sl(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function go(e,t){return function(){return cl(this,e,t)}}function po(e,t){return function(){return cl(this,e,t.apply(this,arguments))}}function vo(e,t){return this.each((typeof t=="function"?po:go)(e,t))}function*yo(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length,l;r<s;++r)(l=i[r])&&(yield l)}var hl=[null];function Ee(e,t){this._groups=e,this._parents=t}function Lt(){return new Ee([[document.documentElement]],hl)}function wo(){return this}Ee.prototype=Lt.prototype={constructor:Ee,select:js,selectAll:Ks,selectChild:$s,selectChildren:ia,filter:ra,data:fa,enter:la,exit:ha,join:da,merge:_a,selection:wo,order:ma,sort:ga,call:va,nodes:ya,node:wa,size:ba,empty:ka,each:Ia,attr:Ta,style:Oa,property:Ra,classed:qa,text:Ua,html:Za,raise:Qa,lower:eo,append:to,insert:io,remove:lo,clone:oo,datum:uo,on:mo,dispatch:vo,[Symbol.iterator]:yo};function Ue(e){return typeof e=="string"?new Ee([[document.querySelector(e)]],[document.documentElement]):new Ee([[e]],hl)}function fi(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function dl(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Ft(){}var Mt=.7,Xt=1/Mt,ct="\\s*([+-]?\\d+)\\s*",Et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Re="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bo=/^#([0-9a-f]{3,8})$/,ko=new RegExp(`^rgb\\(${ct},${ct},${ct}\\)$`),Io=new RegExp(`^rgb\\(${Re},${Re},${Re}\\)$`),So=new RegExp(`^rgba\\(${ct},${ct},${ct},${Et}\\)$`),Ao=new RegExp(`^rgba\\(${Re},${Re},${Re},${Et}\\)$`),Mo=new RegExp(`^hsl\\(${Et},${Re},${Re}\\)$`),Eo=new RegExp(`^hsla\\(${Et},${Re},${Re},${Et}\\)$`),Ri={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fi(Ft,$e,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pi,formatHex:Pi,formatHex8:Co,formatHsl:No,formatRgb:Bi,toString:Bi});function Pi(){return this.rgb().formatHex()}function Co(){return this.rgb().formatHex8()}function No(){return _l(this).formatHsl()}function Bi(){return this.rgb().formatRgb()}function $e(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bo.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?zi(t):n===3?new ke(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ht(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ht(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ko.exec(e))?new ke(t[1],t[2],t[3],1):(t=Io.exec(e))?new ke(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=So.exec(e))?Ht(t[1],t[2],t[3],t[4]):(t=Ao.exec(e))?Ht(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Mo.exec(e))?Yi(t[1],t[2]/100,t[3]/100,1):(t=Eo.exec(e))?Yi(t[1],t[2]/100,t[3]/100,t[4]):Ri.hasOwnProperty(e)?zi(Ri[e]):e==="transparent"?new ke(NaN,NaN,NaN,0):null}function zi(e){return new ke(e>>16&255,e>>8&255,e&255,1)}function Ht(e,t,n,i){return i<=0&&(e=t=n=NaN),new ke(e,t,n,i)}function To(e){return e instanceof Ft||(e=$e(e)),e?(e=e.rgb(),new ke(e.r,e.g,e.b,e.opacity)):new ke}function qn(e,t,n,i){return arguments.length===1?To(e):new ke(e,t,n,i==null?1:i)}function ke(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}fi(ke,qn,dl(Ft,{brighter(e){return e=e==null?Xt:Math.pow(Xt,e),new ke(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mt:Math.pow(Mt,e),new ke(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ke(Je(this.r),Je(this.g),Je(this.b),Wt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qi,formatHex:qi,formatHex8:Lo,formatRgb:Gi,toString:Gi}));function qi(){return`#${Ze(this.r)}${Ze(this.g)}${Ze(this.b)}`}function Lo(){return`#${Ze(this.r)}${Ze(this.g)}${Ze(this.b)}${Ze((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gi(){const e=Wt(this.opacity);return`${e===1?"rgb(":"rgba("}${Je(this.r)}, ${Je(this.g)}, ${Je(this.b)}${e===1?")":`, ${e})`}`}function Wt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Je(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ze(e){return e=Je(e),(e<16?"0":"")+e.toString(16)}function Yi(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Fe(e,t,n,i)}function _l(e){if(e instanceof Fe)return new Fe(e.h,e.s,e.l,e.opacity);if(e instanceof Ft||(e=$e(e)),!e)return new Fe;if(e instanceof Fe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),s=Math.max(t,n,i),l=NaN,a=s-r,o=(s+r)/2;return a?(t===s?l=(n-i)/a+(n<i)*6:n===s?l=(i-t)/a+2:l=(t-n)/a+4,a/=o<.5?s+r:2-s-r,l*=60):a=o>0&&o<1?0:l,new Fe(l,a,o,e.opacity)}function Fo(e,t,n,i){return arguments.length===1?_l(e):new Fe(e,t,n,i==null?1:i)}function Fe(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}fi(Fe,Fo,dl(Ft,{brighter(e){return e=e==null?Xt:Math.pow(Xt,e),new Fe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mt:Math.pow(Mt,e),new Fe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new ke(Sn(e>=240?e-240:e+120,r,i),Sn(e,r,i),Sn(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Fe(ji(this.h),Dt(this.s),Dt(this.l),Wt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wt(this.opacity);return`${e===1?"hsl(":"hsla("}${ji(this.h)}, ${Dt(this.s)*100}%, ${Dt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ji(e){return e=(e||0)%360,e<0?e+360:e}function Dt(e){return Math.max(0,Math.min(1,e||0))}function Sn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ci=e=>()=>e;function Vo(e,t){return function(n){return e+n*t}}function Oo(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function Ho(e){return(e=+e)==1?ml:function(t,n){return n-t?Oo(t,n,e):ci(isNaN(t)?n:t)}}function ml(e,t){var n=t-e;return n?Vo(e,n):ci(isNaN(e)?t:e)}const Kt=function e(t){var n=Ho(t);function i(r,s){var l=n((r=qn(r)).r,(s=qn(s)).r),a=n(r.g,s.g),o=n(r.b,s.b),u=ml(r.opacity,s.opacity);return function(h){return r.r=l(h),r.g=a(h),r.b=o(h),r.opacity=u(h),r+""}}return i.gamma=e,i}(1);function Do(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(s){for(r=0;r<n;++r)i[r]=e[r]*(1-s)+t[r]*s;return i}}function xo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ro(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),s=new Array(n),l;for(l=0;l<i;++l)r[l]=hi(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(a){for(l=0;l<i;++l)s[l]=r[l](a);return s}}function Po(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Le(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Bo(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=hi(e[r],t[r]):i[r]=t[r];return function(s){for(r in n)i[r]=n[r](s);return i}}var Gn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,An=new RegExp(Gn.source,"g");function zo(e){return function(){return e}}function qo(e){return function(t){return e(t)+""}}function gl(e,t){var n=Gn.lastIndex=An.lastIndex=0,i,r,s,l=-1,a=[],o=[];for(e=e+"",t=t+"";(i=Gn.exec(e))&&(r=An.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[l]?a[l]+=s:a[++l]=s),(i=i[0])===(r=r[0])?a[l]?a[l]+=r:a[++l]=r:(a[++l]=null,o.push({i:l,x:Le(i,r)})),n=An.lastIndex;return n<t.length&&(s=t.slice(n),a[l]?a[l]+=s:a[++l]=s),a.length<2?o[0]?qo(o[0].x):zo(t):(t=o.length,function(u){for(var h=0,c;h<t;++h)a[(c=o[h]).i]=c.x(u);return a.join("")})}function hi(e,t){var n=typeof t,i;return t==null||n==="boolean"?ci(t):(n==="number"?Le:n==="string"?(i=$e(t))?(t=i,Kt):gl:t instanceof $e?Kt:t instanceof Date?Po:xo(t)?Do:Array.isArray(t)?Ro:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Bo:Le)(e,t)}function Go(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Ui=180/Math.PI,Yn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pl(e,t,n,i,r,s){var l,a,o;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(o=e*n+t*i)&&(n-=e*o,i-=t*o),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,o/=a),e*i<t*n&&(e=-e,t=-t,o=-o,l=-l),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*Ui,skewX:Math.atan(o)*Ui,scaleX:l,scaleY:a}}var xt;function Yo(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Yn:pl(t.a,t.b,t.c,t.d,t.e,t.f)}function jo(e){return e==null||(xt||(xt=document.createElementNS("http://www.w3.org/2000/svg","g")),xt.setAttribute("transform",e),!(e=xt.transform.baseVal.consolidate()))?Yn:(e=e.matrix,pl(e.a,e.b,e.c,e.d,e.e,e.f))}function vl(e,t,n,i){function r(u){return u.length?u.pop()+" ":""}function s(u,h,c,f,d,v){if(u!==c||h!==f){var g=d.push("translate(",null,t,null,n);v.push({i:g-4,x:Le(u,c)},{i:g-2,x:Le(h,f)})}else(c||f)&&d.push("translate("+c+t+f+n)}function l(u,h,c,f){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),f.push({i:c.push(r(c)+"rotate(",null,i)-2,x:Le(u,h)})):h&&c.push(r(c)+"rotate("+h+i)}function a(u,h,c,f){u!==h?f.push({i:c.push(r(c)+"skewX(",null,i)-2,x:Le(u,h)}):h&&c.push(r(c)+"skewX("+h+i)}function o(u,h,c,f,d,v){if(u!==c||h!==f){var g=d.push(r(d)+"scale(",null,",",null,")");v.push({i:g-4,x:Le(u,c)},{i:g-2,x:Le(h,f)})}else(c!==1||f!==1)&&d.push(r(d)+"scale("+c+","+f+")")}return function(u,h){var c=[],f=[];return u=e(u),h=e(h),s(u.translateX,u.translateY,h.translateX,h.translateY,c,f),l(u.rotate,h.rotate,c,f),a(u.skewX,h.skewX,c,f),o(u.scaleX,u.scaleY,h.scaleX,h.scaleY,c,f),u=h=null,function(d){for(var v=-1,g=f.length,k;++v<g;)c[(k=f[v]).i]=k.x(d);return c.join("")}}}var Uo=vl(Yo,"px, ","px)","deg)"),Xo=vl(jo,", ",")",")"),dt=0,St=0,vt=0,yl=1e3,Zt,At,Jt=0,et=0,un=0,Ct=typeof performance=="object"&&performance.now?performance:Date,wl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function di(){return et||(wl(Wo),et=Ct.now()+un)}function Wo(){et=0}function Qt(){this._call=this._time=this._next=null}Qt.prototype=bl.prototype={constructor:Qt,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?di():+n)+(t==null?0:+t),!this._next&&At!==this&&(At?At._next=this:Zt=this,At=this),this._call=e,this._time=n,jn()},stop:function(){this._call&&(this._call=null,this._time=1/0,jn())}};function bl(e,t,n){var i=new Qt;return i.restart(e,t,n),i}function Ko(){di(),++dt;for(var e=Zt,t;e;)(t=et-e._time)>=0&&e._call.call(void 0,t),e=e._next;--dt}function Xi(){et=(Jt=Ct.now())+un,dt=St=0;try{Ko()}finally{dt=0,Jo(),et=0}}function Zo(){var e=Ct.now(),t=e-Jt;t>yl&&(un-=t,Jt=e)}function Jo(){for(var e,t=Zt,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Zt=n);At=e,jn(i)}function jn(e){if(!dt){St&&(St=clearTimeout(St));var t=e-et;t>24?(e<1/0&&(St=setTimeout(Xi,e-Ct.now()-un)),vt&&(vt=clearInterval(vt))):(vt||(Jt=Ct.now(),vt=setInterval(Zo,yl)),dt=1,wl(Xi))}}function Wi(e,t,n){var i=new Qt;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var Qo=el("start","end","cancel","interrupt"),$o=[],kl=0,Ki=1,Un=2,Gt=3,Zi=4,Xn=5,Yt=6;function fn(e,t,n,i,r,s){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;eu(e,n,{name:t,index:i,group:r,on:Qo,tween:$o,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:kl})}function _i(e,t){var n=De(e,t);if(n.state>kl)throw new Error("too late; already scheduled");return n}function Pe(e,t){var n=De(e,t);if(n.state>Gt)throw new Error("too late; already running");return n}function De(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function eu(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=bl(s,0,n.time);function s(u){n.state=Ki,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var h,c,f,d;if(n.state!==Ki)return o();for(h in i)if(d=i[h],d.name===n.name){if(d.state===Gt)return Wi(l);d.state===Zi?(d.state=Yt,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[h]):+h<t&&(d.state=Yt,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[h])}if(Wi(function(){n.state===Gt&&(n.state=Zi,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Un,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Un){for(n.state=Gt,r=new Array(f=n.tween.length),h=0,c=-1;h<f;++h)(d=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function a(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(o),n.state=Xn,1),c=-1,f=r.length;++c<f;)r[c].call(e,h);n.state===Xn&&(n.on.call("end",e,e.__data__,n.index,n.group),o())}function o(){n.state=Yt,n.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function tu(e,t){var n=e.__transition,i,r,s=!0,l;if(!!n){t=t==null?null:t+"";for(l in n){if((i=n[l]).name!==t){s=!1;continue}r=i.state>Un&&i.state<Xn,i.state=Yt,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[l]}s&&delete e.__transition}}function nu(e){return this.each(function(){tu(this,e)})}function iu(e,t){var n,i;return function(){var r=Pe(this,e),s=r.tween;if(s!==n){i=n=s;for(var l=0,a=i.length;l<a;++l)if(i[l].name===t){i=i.slice(),i.splice(l,1);break}}r.tween=i}}function ru(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var s=Pe(this,e),l=s.tween;if(l!==i){r=(i=l).slice();for(var a={name:t,value:n},o=0,u=r.length;o<u;++o)if(r[o].name===t){r[o]=a;break}o===u&&r.push(a)}s.tween=r}}function lu(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=De(this.node(),n).tween,r=0,s=i.length,l;r<s;++r)if((l=i[r]).name===e)return l.value;return null}return this.each((t==null?iu:ru)(n,e,t))}function mi(e,t,n){var i=e._id;return e.each(function(){var r=Pe(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return De(r,i).value[t]}}function Il(e,t){var n;return(typeof t=="number"?Le:t instanceof $e?Kt:(n=$e(t))?(t=n,Kt):gl)(e,t)}function su(e){return function(){this.removeAttribute(e)}}function au(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ou(e,t,n){var i,r=n+"",s;return function(){var l=this.getAttribute(e);return l===r?null:l===i?s:s=t(i=l,n)}}function uu(e,t,n){var i,r=n+"",s;return function(){var l=this.getAttributeNS(e.space,e.local);return l===r?null:l===i?s:s=t(i=l,n)}}function fu(e,t,n){var i,r,s;return function(){var l,a=n(this),o;return a==null?void this.removeAttribute(e):(l=this.getAttribute(e),o=a+"",l===o?null:l===i&&o===r?s:(r=o,s=t(i=l,a)))}}function cu(e,t,n){var i,r,s;return function(){var l,a=n(this),o;return a==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),o=a+"",l===o?null:l===i&&o===r?s:(r=o,s=t(i=l,a)))}}function hu(e,t){var n=on(e),i=n==="transform"?Xo:Il;return this.attrTween(e,typeof t=="function"?(n.local?cu:fu)(n,i,mi(this,"attr."+e,t)):t==null?(n.local?au:su)(n):(n.local?uu:ou)(n,i,t))}function du(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function _u(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function mu(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&_u(e,s)),n}return r._value=t,r}function gu(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&du(e,s)),n}return r._value=t,r}function pu(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=on(e);return this.tween(n,(i.local?mu:gu)(i,t))}function vu(e,t){return function(){_i(this,e).delay=+t.apply(this,arguments)}}function yu(e,t){return t=+t,function(){_i(this,e).delay=t}}function wu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?vu:yu)(t,e)):De(this.node(),t).delay}function bu(e,t){return function(){Pe(this,e).duration=+t.apply(this,arguments)}}function ku(e,t){return t=+t,function(){Pe(this,e).duration=t}}function Iu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?bu:ku)(t,e)):De(this.node(),t).duration}function Su(e,t){if(typeof t!="function")throw new Error;return function(){Pe(this,e).ease=t}}function Au(e){var t=this._id;return arguments.length?this.each(Su(t,e)):De(this.node(),t).ease}function Mu(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Pe(this,e).ease=n}}function Eu(e){if(typeof e!="function")throw new Error;return this.each(Mu(this._id,e))}function Cu(e){typeof e!="function"&&(e=il(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],l=s.length,a=i[r]=[],o,u=0;u<l;++u)(o=s[u])&&e.call(o,o.__data__,u,s)&&a.push(o);return new qe(i,this._parents,this._name,this._id)}function Nu(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,s=Math.min(i,r),l=new Array(i),a=0;a<s;++a)for(var o=t[a],u=n[a],h=o.length,c=l[a]=new Array(h),f,d=0;d<h;++d)(f=o[d]||u[d])&&(c[d]=f);for(;a<i;++a)l[a]=t[a];return new qe(l,this._parents,this._name,this._id)}function Tu(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Lu(e,t,n){var i,r,s=Tu(t)?_i:Pe;return function(){var l=s(this,e),a=l.on;a!==i&&(r=(i=a).copy()).on(t,n),l.on=r}}function Fu(e,t){var n=this._id;return arguments.length<2?De(this.node(),n).on.on(e):this.each(Lu(n,e,t))}function Vu(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Ou(){return this.on("end.remove",Vu(this._id))}function Hu(e){var t=this._name,n=this._id;typeof e!="function"&&(e=oi(e));for(var i=this._groups,r=i.length,s=new Array(r),l=0;l<r;++l)for(var a=i[l],o=a.length,u=s[l]=new Array(o),h,c,f=0;f<o;++f)(h=a[f])&&(c=e.call(h,h.__data__,f,a))&&("__data__"in h&&(c.__data__=h.__data__),u[f]=c,fn(u[f],t,n,f,u,De(h,n)));return new qe(s,this._parents,t,n)}function Du(e){var t=this._name,n=this._id;typeof e!="function"&&(e=nl(e));for(var i=this._groups,r=i.length,s=[],l=[],a=0;a<r;++a)for(var o=i[a],u=o.length,h,c=0;c<u;++c)if(h=o[c]){for(var f=e.call(h,h.__data__,c,o),d,v=De(h,n),g=0,k=f.length;g<k;++g)(d=f[g])&&fn(d,t,n,g,f,v);s.push(f),l.push(h)}return new qe(s,l,t,n)}var xu=Lt.prototype.constructor;function Ru(){return new xu(this._groups,this._parents)}function Pu(e,t){var n,i,r;return function(){var s=ht(this,e),l=(this.style.removeProperty(e),ht(this,e));return s===l?null:s===n&&l===i?r:r=t(n=s,i=l)}}function Sl(e){return function(){this.style.removeProperty(e)}}function Bu(e,t,n){var i,r=n+"",s;return function(){var l=ht(this,e);return l===r?null:l===i?s:s=t(i=l,n)}}function zu(e,t,n){var i,r,s;return function(){var l=ht(this,e),a=n(this),o=a+"";return a==null&&(o=a=(this.style.removeProperty(e),ht(this,e))),l===o?null:l===i&&o===r?s:(r=o,s=t(i=l,a))}}function qu(e,t){var n,i,r,s="style."+t,l="end."+s,a;return function(){var o=Pe(this,e),u=o.on,h=o.value[s]==null?a||(a=Sl(t)):void 0;(u!==n||r!==h)&&(i=(n=u).copy()).on(l,r=h),o.on=i}}function Gu(e,t,n){var i=(e+="")=="transform"?Uo:Il;return t==null?this.styleTween(e,Pu(e,i)).on("end.style."+e,Sl(e)):typeof t=="function"?this.styleTween(e,zu(e,i,mi(this,"style."+e,t))).each(qu(this._id,e)):this.styleTween(e,Bu(e,i,t),n).on("end.style."+e,null)}function Yu(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function ju(e,t,n){var i,r;function s(){var l=t.apply(this,arguments);return l!==r&&(i=(r=l)&&Yu(e,l,n)),i}return s._value=t,s}function Uu(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,ju(e,t,n==null?"":n))}function Xu(e){return function(){this.textContent=e}}function Wu(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function Ku(e){return this.tween("text",typeof e=="function"?Wu(mi(this,"text",e)):Xu(e==null?"":e+""))}function Zu(e){return function(t){this.textContent=e.call(this,t)}}function Ju(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&Zu(r)),t}return i._value=e,i}function Qu(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ju(e))}function $u(){for(var e=this._name,t=this._id,n=Al(),i=this._groups,r=i.length,s=0;s<r;++s)for(var l=i[s],a=l.length,o,u=0;u<a;++u)if(o=l[u]){var h=De(o,t);fn(o,e,n,u,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new qe(i,this._parents,e,n)}function ef(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(s,l){var a={value:l},o={value:function(){--r===0&&s()}};n.each(function(){var u=Pe(this,i),h=u.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(o)),u.on=t}),r===0&&s()})}var tf=0;function qe(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Al(){return++tf}var ze=Lt.prototype;qe.prototype={constructor:qe,select:Hu,selectAll:Du,selectChild:ze.selectChild,selectChildren:ze.selectChildren,filter:Cu,merge:Nu,selection:Ru,transition:$u,call:ze.call,nodes:ze.nodes,node:ze.node,size:ze.size,empty:ze.empty,each:ze.each,on:Fu,attr:hu,attrTween:pu,style:Gu,styleTween:Uu,text:Ku,textTween:Qu,remove:Ou,tween:lu,delay:wu,duration:Iu,ease:Au,easeVarying:Eu,end:ef,[Symbol.iterator]:ze[Symbol.iterator]};function nf(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var rf={time:null,delay:0,duration:250,ease:nf};function lf(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function sf(e){var t,n;e instanceof qe?(t=e._id,e=e._name):(t=Al(),(n=rf).time=di(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var l=i[s],a=l.length,o,u=0;u<a;++u)(o=l[u])&&fn(o,e,t,u,l,n||lf(o,t));return new qe(i,this._parents,e,t)}Lt.prototype.interrupt=nu;Lt.prototype.transition=sf;const Wn=Math.PI,Kn=2*Wn,Ke=1e-6,af=Kn-Ke;function Zn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Jn(){return new Zn}Zn.prototype=Jn.prototype={constructor:Zn,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,s){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+s)},arcTo:function(e,t,n,i,r){e=+e,t=+t,n=+n,i=+i,r=+r;var s=this._x1,l=this._y1,a=n-e,o=i-t,u=s-e,h=l-t,c=u*u+h*h;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(c>Ke)if(!(Math.abs(h*a-o*u)>Ke)||!r)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=n-s,d=i-l,v=a*a+o*o,g=f*f+d*d,k=Math.sqrt(v),M=Math.sqrt(c),T=r*Math.tan((Wn-Math.acos((v+c-g)/(2*k*M)))/2),b=T/M,p=T/k;Math.abs(b-1)>Ke&&(this._+="L"+(e+b*u)+","+(t+b*h)),this._+="A"+r+","+r+",0,0,"+ +(h*f>u*d)+","+(this._x1=e+p*a)+","+(this._y1=t+p*o)}},arc:function(e,t,n,i,r,s){e=+e,t=+t,n=+n,s=!!s;var l=n*Math.cos(i),a=n*Math.sin(i),o=e+l,u=t+a,h=1^s,c=s?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+o+","+u:(Math.abs(this._x1-o)>Ke||Math.abs(this._y1-u)>Ke)&&(this._+="L"+o+","+u),n&&(c<0&&(c=c%Kn+Kn),c>af?this._+="A"+n+","+n+",0,1,"+h+","+(e-l)+","+(t-a)+"A"+n+","+n+",0,1,"+h+","+(this._x1=o)+","+(this._y1=u):c>Ke&&(this._+="A"+n+","+n+",0,"+ +(c>=Wn)+","+h+","+(this._x1=e+n*Math.cos(r))+","+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Ji={},Mn={},En=34,yt=10,Cn=13;function Ml(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function of(e,t){var n=Ml(e);return function(i,r){return t(n(i),r,e)}}function Qi(e){var t=Object.create(null),n=[];return e.forEach(function(i){for(var r in i)r in t||n.push(t[r]=r)}),n}function we(e,t){var n=e+"",i=n.length;return i<t?new Array(t-i+1).join(0)+n:n}function uf(e){return e<0?"-"+we(-e,6):e>9999?"+"+we(e,6):we(e,4)}function ff(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),i=e.getUTCSeconds(),r=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":uf(e.getUTCFullYear())+"-"+we(e.getUTCMonth()+1,2)+"-"+we(e.getUTCDate(),2)+(r?"T"+we(t,2)+":"+we(n,2)+":"+we(i,2)+"."+we(r,3)+"Z":i?"T"+we(t,2)+":"+we(n,2)+":"+we(i,2)+"Z":n||t?"T"+we(t,2)+":"+we(n,2)+"Z":"")}function cf(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function i(c,f){var d,v,g=r(c,function(k,M){if(d)return d(k,M-1);v=k,d=f?of(k,f):Ml(k)});return g.columns=v||[],g}function r(c,f){var d=[],v=c.length,g=0,k=0,M,T=v<=0,b=!1;c.charCodeAt(v-1)===yt&&--v,c.charCodeAt(v-1)===Cn&&--v;function p(){if(T)return Mn;if(b)return b=!1,Ji;var O,P=g,x;if(c.charCodeAt(P)===En){for(;g++<v&&c.charCodeAt(g)!==En||c.charCodeAt(++g)===En;);return(O=g)>=v?T=!0:(x=c.charCodeAt(g++))===yt?b=!0:x===Cn&&(b=!0,c.charCodeAt(g)===yt&&++g),c.slice(P+1,O-1).replace(/""/g,'"')}for(;g<v;){if((x=c.charCodeAt(O=g++))===yt)b=!0;else if(x===Cn)b=!0,c.charCodeAt(g)===yt&&++g;else if(x!==n)continue;return c.slice(P,O)}return T=!0,c.slice(P,v)}for(;(M=p())!==Mn;){for(var A=[];M!==Ji&&M!==Mn;)A.push(M),M=p();f&&(A=f(A,k++))==null||d.push(A)}return d}function s(c,f){return c.map(function(d){return f.map(function(v){return h(d[v])}).join(e)})}function l(c,f){return f==null&&(f=Qi(c)),[f.map(h).join(e)].concat(s(c,f)).join(`
`)}function a(c,f){return f==null&&(f=Qi(c)),s(c,f).join(`
`)}function o(c){return c.map(u).join(`
`)}function u(c){return c.map(h).join(e)}function h(c){return c==null?"":c instanceof Date?ff(c):t.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:i,parseRows:r,format:l,formatBody:a,formatRows:o,formatRow:u,formatValue:h}}var hf=cf(","),df=hf.parse;function _f(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function mf(e,t){return fetch(e,t).then(_f)}function gf(e){return function(t,n,i){return arguments.length===2&&typeof n=="function"&&(i=n,n=void 0),mf(t,n).then(function(r){return e(r,i)})}}var Rt=gf(df);function pf(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $t(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function _t(e){return e=$t(Math.abs(e)),e?e[1]:NaN}function vf(e,t){return function(n,i){for(var r=n.length,s=[],l=0,a=e[0],o=0;r>0&&a>0&&(o+a+1>i&&(a=Math.max(1,i-o)),s.push(n.substring(r-=a,r+a)),!((o+=a+1)>i));)a=e[l=(l+1)%e.length];return s.reverse().join(t)}}function yf(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var wf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function en(e){if(!(t=wf.exec(e)))throw new Error("invalid format: "+e);var t;return new gi({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}en.prototype=gi.prototype;function gi(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bf(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var El;function kf(e,t){var n=$t(e,t);if(!n)return e+"";var i=n[0],r=n[1],s=r-(El=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=i.length;return s===l?i:s>l?i+new Array(s-l+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+$t(e,Math.max(0,t+s-1))[0]}function $i(e,t){var n=$t(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const er={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pf,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$i(e*100,t),r:$i,s:kf,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tr(e){return e}var nr=Array.prototype.map,ir=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function If(e){var t=e.grouping===void 0||e.thousands===void 0?tr:vf(nr.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?tr:yf(nr.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",o=e.nan===void 0?"NaN":e.nan+"";function u(c){c=en(c);var f=c.fill,d=c.align,v=c.sign,g=c.symbol,k=c.zero,M=c.width,T=c.comma,b=c.precision,p=c.trim,A=c.type;A==="n"?(T=!0,A="g"):er[A]||(b===void 0&&(b=12),p=!0,A="g"),(k||f==="0"&&d==="=")&&(k=!0,f="0",d="=");var O=g==="$"?n:g==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",P=g==="$"?i:/[%p]/.test(A)?l:"",x=er[A],E=/[defgprs%]/.test(A);b=b===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function V(y){var C=O,w=P,L,S,N;if(A==="c")w=x(y)+w,y="";else{y=+y;var Y=y<0||1/y<0;if(y=isNaN(y)?o:x(Math.abs(y),b),p&&(y=bf(y)),Y&&+y==0&&v!=="+"&&(Y=!1),C=(Y?v==="("?v:a:v==="-"||v==="("?"":v)+C,w=(A==="s"?ir[8+El/3]:"")+w+(Y&&v==="("?")":""),E){for(L=-1,S=y.length;++L<S;)if(N=y.charCodeAt(L),48>N||N>57){w=(N===46?r+y.slice(L+1):y.slice(L))+w,y=y.slice(0,L);break}}}T&&!k&&(y=t(y,1/0));var Z=C.length+y.length+w.length,J=Z<M?new Array(M-Z+1).join(f):"";switch(T&&k&&(y=t(J+y,J.length?M-w.length:1/0),J=""),d){case"<":y=C+y+w+J;break;case"=":y=C+J+y+w;break;case"^":y=J.slice(0,Z=J.length>>1)+C+y+w+J.slice(Z);break;default:y=J+C+y+w;break}return s(y)}return V.toString=function(){return c+""},V}function h(c,f){var d=u((c=en(c),c.type="f",c)),v=Math.max(-8,Math.min(8,Math.floor(_t(f)/3)))*3,g=Math.pow(10,-v),k=ir[8+v/3];return function(M){return d(g*M)+k}}return{format:u,formatPrefix:h}}var Pt,mt,Cl;Sf({thousands:",",grouping:[3],currency:["$",""]});function Sf(e){return Pt=If(e),mt=Pt.format,Cl=Pt.formatPrefix,Pt}function Af(e){return Math.max(0,-_t(Math.abs(e)))}function Mf(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_t(t)/3)))*3-_t(Math.abs(e)))}function Ef(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_t(t)-_t(e))+1}function Cf(e){var t=0,n=e.children,i=n&&n.length;if(!i)t=1;else for(;--i>=0;)t+=n[i].value;e.value=t}function Nf(){return this.eachAfter(Cf)}function Tf(e,t){let n=-1;for(const i of this)e.call(t,i,++n,this);return this}function Lf(e,t){for(var n=this,i=[n],r,s,l=-1;n=i.pop();)if(e.call(t,n,++l,this),r=n.children)for(s=r.length-1;s>=0;--s)i.push(r[s]);return this}function Ff(e,t){for(var n=this,i=[n],r=[],s,l,a,o=-1;n=i.pop();)if(r.push(n),s=n.children)for(l=0,a=s.length;l<a;++l)i.push(s[l]);for(;n=r.pop();)e.call(t,n,++o,this);return this}function Vf(e,t){let n=-1;for(const i of this)if(e.call(t,i,++n,this))return i}function Of(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,i=t.children,r=i&&i.length;--r>=0;)n+=i[r].value;t.value=n})}function Hf(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Df(e){for(var t=this,n=xf(t,e),i=[t];t!==n;)t=t.parent,i.push(t);for(var r=i.length;e!==n;)i.splice(r,0,e),e=e.parent;return i}function xf(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),r=null;for(e=n.pop(),t=i.pop();e===t;)r=e,e=n.pop(),t=i.pop();return r}function Rf(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Pf(){return Array.from(this)}function Bf(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function zf(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*qf(){var e=this,t,n=[e],i,r,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,i=e.children)for(r=0,s=i.length;r<s;++r)n.push(i[r]);while(n.length)}function Nl(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=jf)):t===void 0&&(t=Yf);for(var n=new Nt(e),i,r=[n],s,l,a,o;i=r.pop();)if((l=t(i.data))&&(o=(l=Array.from(l)).length))for(i.children=l,a=o-1;a>=0;--a)r.push(s=l[a]=new Nt(l[a])),s.parent=i,s.depth=i.depth+1;return n.eachBefore(Tl)}function Gf(){return Nl(this).eachBefore(Uf)}function Yf(e){return e.children}function jf(e){return Array.isArray(e)?e[1]:null}function Uf(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Tl(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Nt(e){this.data=e,this.depth=this.height=0,this.parent=null}Nt.prototype=Nl.prototype={constructor:Nt,count:Nf,each:Tf,eachAfter:Ff,eachBefore:Lf,find:Vf,sum:Of,sort:Hf,path:Df,ancestors:Rf,descendants:Pf,leaves:Bf,links:zf,copy:Gf,[Symbol.iterator]:qf};function Nn(e){return e==null?null:Ll(e)}function Ll(e){if(typeof e!="function")throw new Error;return e}function wt(){return 0}function bt(e){return function(){return e}}function Xf(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Wf(e,t,n,i,r){for(var s=e.children,l,a=-1,o=s.length,u=e.value&&(i-t)/e.value;++a<o;)l=s[a],l.y0=n,l.y1=r,l.x0=t,l.x1=t+=l.value*u}var Kf={depth:-1},rr={},Tn={};function Zf(e){return e.id}function Jf(e){return e.parentId}function Qf(){var e=Zf,t=Jf,n;function i(r){var s=Array.from(r),l=e,a=t,o,u,h,c,f,d,v,g,k=new Map;if(n!=null){const M=s.map((p,A)=>$f(n(p,A,r))),T=M.map(lr),b=new Set(M).add("");for(const p of T)b.has(p)||(b.add(p),M.push(p),T.push(lr(p)),s.push(Tn));l=(p,A)=>M[A],a=(p,A)=>T[A]}for(h=0,o=s.length;h<o;++h)u=s[h],d=s[h]=new Nt(u),(v=l(u,h,r))!=null&&(v+="")&&(g=d.id=v,k.set(g,k.has(g)?rr:d)),(v=a(u,h,r))!=null&&(v+="")&&(d.parent=v);for(h=0;h<o;++h)if(d=s[h],v=d.parent){if(f=k.get(v),!f)throw new Error("missing: "+v);if(f===rr)throw new Error("ambiguous: "+v);f.children?f.children.push(d):f.children=[d],d.parent=f}else{if(c)throw new Error("multiple roots");c=d}if(!c)throw new Error("no root");if(n!=null){for(;c.data===Tn&&c.children.length===1;)c=c.children[0],--o;for(let M=s.length-1;M>=0&&(d=s[M],d.data===Tn);--M)d.data=null}if(c.parent=Kf,c.eachBefore(function(M){M.depth=M.parent.depth+1,--o}).eachBefore(Tl),c.parent=null,o>0)throw new Error("cycle");return c}return i.id=function(r){return arguments.length?(e=Nn(r),i):e},i.parentId=function(r){return arguments.length?(t=Nn(r),i):t},i.path=function(r){return arguments.length?(n=Nn(r),i):n},i}function $f(e){e=`${e}`;let t=e.length;return Qn(e,t-1)&&!Qn(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function lr(e){let t=e.length;if(t<2)return"";for(;--t>1&&!Qn(e,t););return e.slice(0,t)}function Qn(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function ec(e,t,n,i,r){for(var s=e.children,l,a=-1,o=s.length,u=e.value&&(r-n)/e.value;++a<o;)l=s[a],l.x0=t,l.x1=i,l.y0=n,l.y1=n+=l.value*u}var tc=(1+Math.sqrt(5))/2;function nc(e,t,n,i,r,s){for(var l=[],a=t.children,o,u,h=0,c=0,f=a.length,d,v,g=t.value,k,M,T,b,p,A,O;h<f;){d=r-n,v=s-i;do k=a[c++].value;while(!k&&c<f);for(M=T=k,A=Math.max(v/d,d/v)/(g*e),O=k*k*A,p=Math.max(T/O,O/M);c<f;++c){if(k+=u=a[c].value,u<M&&(M=u),u>T&&(T=u),O=k*k*A,b=Math.max(T/O,O/M),b>p){k-=u;break}p=b}l.push(o={value:k,dice:d<v,children:a.slice(h,c)}),o.dice?Wf(o,n,i,r,g?i+=v*k/g:s):ec(o,n,i,g?n+=d*k/g:r,s),g-=k,h=c}return l}const Fl=function e(t){function n(i,r,s,l,a){nc(t,i,r,s,l,a)}return n.ratio=function(i){return e((i=+i)>1?i:1)},n}(tc);function ic(){var e=Fl,t=!1,n=1,i=1,r=[0],s=wt,l=wt,a=wt,o=wt,u=wt;function h(f){return f.x0=f.y0=0,f.x1=n,f.y1=i,f.eachBefore(c),r=[0],t&&f.eachBefore(Xf),f}function c(f){var d=r[f.depth],v=f.x0+d,g=f.y0+d,k=f.x1-d,M=f.y1-d;k<v&&(v=k=(v+k)/2),M<g&&(g=M=(g+M)/2),f.x0=v,f.y0=g,f.x1=k,f.y1=M,f.children&&(d=r[f.depth+1]=s(f)/2,v+=u(f)-d,g+=l(f)-d,k-=a(f)-d,M-=o(f)-d,k<v&&(v=k=(v+k)/2),M<g&&(g=M=(g+M)/2),e(f,v,g,k,M))}return h.round=function(f){return arguments.length?(t=!!f,h):t},h.size=function(f){return arguments.length?(n=+f[0],i=+f[1],h):[n,i]},h.tile=function(f){return arguments.length?(e=Ll(f),h):e},h.padding=function(f){return arguments.length?h.paddingInner(f).paddingOuter(f):h.paddingInner()},h.paddingInner=function(f){return arguments.length?(s=typeof f=="function"?f:bt(+f),h):s},h.paddingOuter=function(f){return arguments.length?h.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):h.paddingTop()},h.paddingTop=function(f){return arguments.length?(l=typeof f=="function"?f:bt(+f),h):l},h.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:bt(+f),h):a},h.paddingBottom=function(f){return arguments.length?(o=typeof f=="function"?f:bt(+f),h):o},h.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:bt(+f),h):u},h}function Vl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const sr=Symbol("implicit");function $n(){var e=new Vn,t=[],n=[],i=sr;function r(s){let l=e.get(s);if(l===void 0){if(i!==sr)return i;e.set(s,l=t.push(s)-1)}return n[l%n.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Vn;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return r},r.range=function(s){return arguments.length?(n=Array.from(s),r):n.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return $n(t,n).unknown(i)},Vl.apply(r,arguments),r}function rc(e){return function(){return e}}function lc(e){return+e}var ar=[0,1];function ut(e){return e}function ei(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:rc(isNaN(t)?NaN:.5)}function sc(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function ac(e,t,n){var i=e[0],r=e[1],s=t[0],l=t[1];return r<i?(i=ei(r,i),s=n(l,s)):(i=ei(i,r),s=n(s,l)),function(a){return s(i(a))}}function oc(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),s=new Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<i;)r[l]=ei(e[l],e[l+1]),s[l]=n(t[l],t[l+1]);return function(a){var o=As(e,a,1,i)-1;return s[o](r[o](a))}}function uc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fc(){var e=ar,t=ar,n=hi,i,r,s,l=ut,a,o,u;function h(){var f=Math.min(e.length,t.length);return l!==ut&&(l=sc(e[0],e[f-1])),a=f>2?oc:ac,o=u=null,c}function c(f){return f==null||isNaN(f=+f)?s:(o||(o=a(e.map(i),t,n)))(i(l(f)))}return c.invert=function(f){return l(r((u||(u=a(t,e.map(i),Le)))(f)))},c.domain=function(f){return arguments.length?(e=Array.from(f,lc),h()):e.slice()},c.range=function(f){return arguments.length?(t=Array.from(f),h()):t.slice()},c.rangeRound=function(f){return t=Array.from(f),n=Go,h()},c.clamp=function(f){return arguments.length?(l=f?!0:ut,h()):l!==ut},c.interpolate=function(f){return arguments.length?(n=f,h()):n},c.unknown=function(f){return arguments.length?(s=f,c):s},function(f,d){return i=f,r=d,h()}}function cc(){return fc()(ut,ut)}function hc(e,t,n,i){var r=Ls(e,t,n),s;switch(i=en(i==null?",f":i),i.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(s=Mf(r,l))&&(i.precision=s),Cl(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=Ef(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=Af(r))&&(i.precision=s-(i.type==="%")*2);break}}return mt(i)}function dc(e){var t=e.domain;return e.ticks=function(n){var i=t();return Ts(i[0],i[i.length-1],n==null?10:n)},e.tickFormat=function(n,i){var r=t();return hc(r[0],r[r.length-1],n==null?10:n,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,s=i.length-1,l=i[r],a=i[s],o,u,h=10;for(a<l&&(u=l,l=a,a=u,u=r,r=s,s=u);h-- >0;){if(u=Jr(l,a,n),u===o)return i[r]=l,i[s]=a,t(i);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;o=u}return e},e}function tn(){var e=cc();return e.copy=function(){return uc(e,tn())},Vl.apply(e,arguments),dc(e)}function _c(e){for(var t=e.length/6|0,n=new Array(t),i=0;i<t;)n[i]="#"+e.slice(i*6,++i*6);return n}const or=_c("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function ft(e,t,n){this.k=e,this.x=t,this.y=n}ft.prototype={constructor:ft,scale:function(e){return e===1?this:new ft(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ft(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new ft(1,0,0);ft.prototype;const ti=ys(2020);class mc{constructor(t){fe(this,"id");fe(this,"code");fe(this,"name");fe(this,"level");this.id=+t.location_id,this.code=t.location_code,this.name=t.location_name_short_en,this.level=t.level}}class ni{constructor(t){fe(this,"id");fe(this,"code");fe(this,"name");fe(this,"level");fe(this,"parent_id");fe(this,"parent");this.id=+t.product_id,this.code=+t.hs_product_code,this.name=t.hs_product_name_short_en,this.level=t.level,this.parent_id=+t.parent_id,this.parent=null}}class gt{constructor(t,n,i){fe(this,"location_id");fe(this,"location");fe(this,"partner_id");fe(this,"partner");fe(this,"product_id");fe(this,"product");fe(this,"year");fe(this,"export_value");fe(this,"import_value");this.location_id=+i.location_id,this.location=t.get(this.location_id),this.partner_id=+i.partner_id,this.partner=t.get(this.partner_id),this.product_id=+i.product_id,this.product=n.get(this.product_id),this.year=+i.year,this.export_value=+i.export_value,this.import_value=+i.import_value}}function gc(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r={};return r.top=n.top<0,r.left=n.left<0,r.bottom=n.bottom+i.height>(window.innerHeight||document.documentElement.clientHeight),r.right=n.right>(window.innerWidth||document.documentElement.clientWidth),r.any=r.top||r.left||r.bottom||r.right,r}function pc(e){let t,n=e[0](e[1],e[2])+"",i;return{c(){t=j("div"),this.h()},l(r){t=U(r,"DIV",{class:!0});var s=D(t);s.forEach(I),this.h()},h(){_(t,"class",i="item "+e[3]+" svelte-3e0qet")},m(r,s){B(r,t,s),t.innerHTML=n},p(r,[s]){s&7&&n!==(n=r[0](r[1],r[2])+"")&&(t.innerHTML=n),s&8&&i!==(i="item "+r[3]+" svelte-3e0qet")&&_(t,"class",i)},i:ie,o:ie,d(r){r&&I(t)}}}function vc(e,t,n){let{isActive:i=!1}=t,{isFirst:r=!1}=t,{isHover:s=!1}=t,{isSelectable:l=!1}=t,{getOptionLabel:a=void 0}=t,{item:o=void 0}=t,{filterText:u=""}=t,h="";return e.$$set=c=>{"isActive"in c&&n(4,i=c.isActive),"isFirst"in c&&n(5,r=c.isFirst),"isHover"in c&&n(6,s=c.isHover),"isSelectable"in c&&n(7,l=c.isSelectable),"getOptionLabel"in c&&n(0,a=c.getOptionLabel),"item"in c&&n(1,o=c.item),"filterText"in c&&n(2,u=c.filterText)},e.$$.update=()=>{if(e.$$.dirty&242){const c=[];i&&c.push("active"),r&&c.push("first"),s&&c.push("hover"),o.isGroupHeader&&c.push("groupHeader"),o.isGroupItem&&c.push("groupItem"),l||c.push("notSelectable"),n(3,h=c.join(" "))}},[a,o,u,h,i,r,s,l]}class Ol extends Ve{constructor(t){super(),Oe(this,t,vc,pc,He,{isActive:4,isFirst:5,isHover:6,isSelectable:7,getOptionLabel:0,item:1,filterText:2})}}function ur(e,t,n){const i=e.slice();return i[41]=t[n],i[42]=n,i}function yc(e){let t,n,i=e[1],r=[];for(let a=0;a<i.length;a+=1)r[a]=hr(ur(e,i,a));const s=a=>X(r[a],1,1,()=>{r[a]=null});let l=null;return i.length||(l=fr(e)),{c(){for(let a=0;a<r.length;a+=1)r[a].c();t=ae(),l&&l.c()},l(a){for(let o=0;o<r.length;o+=1)r[o].l(a);t=ae(),l&&l.l(a)},m(a,o){for(let u=0;u<r.length;u+=1)r[u].m(a,o);B(a,t,o),l&&l.m(a,o),n=!0},p(a,o){if(o[0]&114390){i=a[1];let u;for(u=0;u<i.length;u+=1){const h=ur(a,i,u);r[u]?(r[u].p(h,o),q(r[u],1)):(r[u]=hr(h),r[u].c(),q(r[u],1),r[u].m(t.parentNode,t))}for(me(),u=i.length;u<r.length;u+=1)s(u);ge(),!i.length&&l?l.p(a,o):i.length?l&&(l.d(1),l=null):(l=fr(a),l.c(),l.m(t.parentNode,t))}},i(a){if(!n){for(let o=0;o<i.length;o+=1)q(r[o]);n=!0}},o(a){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)X(r[o]);n=!1},d(a){li(r,a),a&&I(t),l&&l.d(a)}}}function wc(e){let t,n,i;var r=e[3];function s(l){return{props:{items:l[1],itemHeight:l[8],$$slots:{default:[Ic,({item:a,i:o})=>({41:a,42:o}),({item:a,i:o})=>[0,(a?1024:0)|(o?2048:0)]]},$$scope:{ctx:l}}}}return r&&(t=ve(r,s(e))),{c(){t&&re(t.$$.fragment),n=ae()},l(l){t&&be(t.$$.fragment,l),n=ae()},m(l,a){t&&le(t,l,a),B(l,n,a),i=!0},p(l,a){const o={};if(a[0]&2&&(o.items=l[1]),a[0]&256&&(o.itemHeight=l[8]),a[0]&9814|a[1]&11264&&(o.$$scope={dirty:a,ctx:l}),r!==(r=l[3])){if(t){me();const u=t;X(u.$$.fragment,1,0,()=>{se(u,1)}),ge()}r?(t=ve(r,s(l)),re(t.$$.fragment),q(t.$$.fragment,1),le(t,n.parentNode,n)):t=null}else r&&t.$set(o)},i(l){i||(t&&q(t.$$.fragment,l),i=!0)},o(l){t&&X(t.$$.fragment,l),i=!1},d(l){l&&I(n),t&&se(t,l)}}}function fr(e){let t,n=!e[11]&&cr(e);return{c(){n&&n.c(),t=ae()},l(i){n&&n.l(i),t=ae()},m(i,r){n&&n.m(i,r),B(i,t,r)},p(i,r){i[11]?n&&(n.d(1),n=null):n?n.p(i,r):(n=cr(i),n.c(),n.m(t.parentNode,t))},d(i){n&&n.d(i),i&&I(t)}}}function cr(e){let t,n;return{c(){t=j("div"),n=ce(e[12]),this.h()},l(i){t=U(i,"DIV",{class:!0});var r=D(t);n=he(r,e[12]),r.forEach(I),this.h()},h(){_(t,"class","empty svelte-1uyqfml")},m(i,r){B(i,t,r),H(t,n)},p(i,r){r[0]&4096&&Qe(n,i[12])},d(i){i&&I(t)}}}function bc(e){let t,n,i,r,s,l;var a=e[4];function o(f){return{props:{item:f[41],filterText:f[13],getOptionLabel:f[6],isFirst:ii(f[42]),isActive:nn(f[41],f[9],f[10]),isHover:rn(f[2],f[41],f[42],f[1]),isSelectable:tt(f[41])}}}a&&(n=ve(a,o(e)));function u(){return e[29](e[42])}function h(){return e[30](e[42])}function c(...f){return e[31](e[41],e[42],...f)}return{c(){t=j("div"),n&&re(n.$$.fragment),i=ee(),this.h()},l(f){t=U(f,"DIV",{class:!0,tabindex:!0});var d=D(t);n&&be(n.$$.fragment,d),i=te(d),d.forEach(I),this.h()},h(){_(t,"class","listItem"),_(t,"tabindex","-1")},m(f,d){B(f,t,d),n&&le(n,t,null),H(t,i),r=!0,s||(l=[ue(t,"mouseover",u),ue(t,"focus",h),ue(t,"click",c)],s=!0)},p(f,d){e=f;const v={};if(d[0]&2&&(v.item=e[41]),d[0]&8192&&(v.filterText=e[13]),d[0]&64&&(v.getOptionLabel=e[6]),d[0]&1538&&(v.isActive=nn(e[41],e[9],e[10])),d[0]&6&&(v.isHover=rn(e[2],e[41],e[42],e[1])),d[0]&2&&(v.isSelectable=tt(e[41])),a!==(a=e[4])){if(n){me();const g=n;X(g.$$.fragment,1,0,()=>{se(g,1)}),ge()}a?(n=ve(a,o(e)),re(n.$$.fragment),q(n.$$.fragment,1),le(n,t,i)):n=null}else a&&n.$set(v)},i(f){r||(n&&q(n.$$.fragment,f),r=!0)},o(f){n&&X(n.$$.fragment,f),r=!1},d(f){f&&I(t),n&&se(n),s=!1,ln(l)}}}function kc(e){let t,n=e[7](e[41])+"",i;return{c(){t=j("div"),i=ce(n),this.h()},l(r){t=U(r,"DIV",{class:!0});var s=D(t);i=he(s,n),s.forEach(I),this.h()},h(){_(t,"class","listGroupTitle svelte-1uyqfml")},m(r,s){B(r,t,s),H(t,i)},p(r,s){s[0]&130&&n!==(n=r[7](r[41])+"")&&Qe(i,n)},i:ie,o:ie,d(r){r&&I(t)}}}function hr(e){let t,n,i,r;const s=[kc,bc],l=[];function a(o,u){return o[41].isGroupHeader&&!o[41].isSelectable?0:1}return t=a(e),n=l[t]=s[t](e),{c(){n.c(),i=ae()},l(o){n.l(o),i=ae()},m(o,u){l[t].m(o,u),B(o,i,u),r=!0},p(o,u){let h=t;t=a(o),t===h?l[t].p(o,u):(me(),X(l[h],1,1,()=>{l[h]=null}),ge(),n=l[t],n?n.p(o,u):(n=l[t]=s[t](o),n.c()),q(n,1),n.m(i.parentNode,i))},i(o){r||(q(n),r=!0)},o(o){X(n),r=!1},d(o){l[t].d(o),o&&I(i)}}}function Ic(e){let t,n,i,r,s;var l=e[4];function a(c){return{props:{item:c[41],filterText:c[13],getOptionLabel:c[6],isFirst:ii(c[42]),isActive:nn(c[41],c[9],c[10]),isHover:rn(c[2],c[41],c[42],c[1]),isSelectable:tt(c[41])}}}l&&(n=ve(l,a(e)));function o(){return e[26](e[42])}function u(){return e[27](e[42])}function h(...c){return e[28](e[41],e[42],...c)}return{c(){t=j("div"),n&&re(n.$$.fragment),this.h()},l(c){t=U(c,"DIV",{class:!0});var f=D(t);n&&be(n.$$.fragment,f),f.forEach(I),this.h()},h(){_(t,"class","listItem")},m(c,f){B(c,t,f),n&&le(n,t,null),i=!0,r||(s=[ue(t,"mouseover",o),ue(t,"focus",u),ue(t,"click",h)],r=!0)},p(c,f){e=c;const d={};if(f[1]&1024&&(d.item=e[41]),f[0]&8192&&(d.filterText=e[13]),f[0]&64&&(d.getOptionLabel=e[6]),f[1]&2048&&(d.isFirst=ii(e[42])),f[0]&1536|f[1]&1024&&(d.isActive=nn(e[41],e[9],e[10])),f[0]&6|f[1]&3072&&(d.isHover=rn(e[2],e[41],e[42],e[1])),f[1]&1024&&(d.isSelectable=tt(e[41])),l!==(l=e[4])){if(n){me();const v=n;X(v.$$.fragment,1,0,()=>{se(v,1)}),ge()}l?(n=ve(l,a(e)),re(n.$$.fragment),q(n.$$.fragment,1),le(n,t,null)):n=null}else l&&n.$set(d)},i(c){i||(n&&q(n.$$.fragment,c),i=!0)},o(c){n&&X(n.$$.fragment,c),i=!1},d(c){c&&I(t),n&&se(n),r=!1,ln(s)}}}function Sc(e){let t,n,i,r,s,l;const a=[wc,yc],o=[];function u(h,c){return h[5]?0:1}return n=u(e),i=o[n]=a[n](e),{c(){t=j("div"),i.c(),this.h()},l(h){t=U(h,"DIV",{class:!0,style:!0});var c=D(t);i.l(c),c.forEach(I),this.h()},h(){_(t,"class","listContainer svelte-1uyqfml"),_(t,"style",e[14]),Ne(t,"virtualList",e[5])},m(h,c){B(h,t,c),o[n].m(t,null),e[32](t),r=!0,s||(l=[ue(window,"keydown",e[17]),ue(window,"resize",e[18])],s=!0)},p(h,c){let f=n;n=u(h),n===f?o[n].p(h,c):(me(),X(o[f],1,1,()=>{o[f]=null}),ge(),i=o[n],i?i.p(h,c):(i=o[n]=a[n](h),i.c()),q(i,1),i.m(t,null)),(!r||c[0]&16384)&&_(t,"style",h[14]),(!r||c[0]&32)&&Ne(t,"virtualList",h[5])},i(h){r||(q(i),r=!0)},o(h){X(i),r=!1},d(h){h&&I(t),o[n].d(),e[32](null),s=!1,ln(l)}}}function nn(e,t,n){return t&&t[n]===e[n]}function ii(e){return e===0}function rn(e,t,n,i){return tt(t)&&(e===n||i.length===1)}function tt(e){return e.isGroupHeader&&e.isSelectable||e.selectable||!e.hasOwnProperty("selectable")}function Ac(e,t,n){const i=ri();let{container:r=void 0}=t,{VirtualList:s=null}=t,{Item:l=Ol}=t,{isVirtualList:a=!1}=t,{items:o=[]}=t,{labelIdentifier:u="label"}=t,{getOptionLabel:h=(F,G)=>{if(F)return F.isCreator?`Create "${G}"`:F[u]}}=t,{getGroupHeaderLabel:c=null}=t,{itemHeight:f=40}=t,{hoverItemIndex:d=0}=t,{value:v=void 0}=t,{optionIdentifier:g="value"}=t,{hideEmptyState:k=!1}=t,{noOptionsMessage:M="No options"}=t,{isMulti:T=!1}=t,{activeItemIndex:b=0}=t,{filterText:p=""}=t,{parent:A=null}=t,{listPlacement:O=null}=t,{listAutoWidth:P=null}=t,{listOffset:x=5}=t,E=0,V=!1,y;sn(()=>{if(o.length>0&&!T&&v){const F=o.findIndex(G=>G[g]===v[g]);F&&n(2,d=F)}Z("active"),r.addEventListener("scroll",()=>{clearTimeout(E),E=setTimeout(()=>{V=!1},100)},!1)}),Yr(()=>{o||n(1,o=[]),o!==y&&o.length>0&&n(2,d=0),y=o});function C(F){F.isCreator||i("itemSelected",F)}function w(F){V||n(2,d=F)}function L(F){const{item:G,i:oe,event:Ae}=F;if(Ae.stopPropagation(),v&&!T&&v[g]===G[g])return S();G.isCreator?i("itemCreated",p):tt(G)&&(n(19,b=oe),n(2,d=oe),C(G))}function S(){i("closeList")}async function N(F){if(a)return;let G=!0;for(;G;)F>0&&d===o.length-1?n(2,d=0):F<0&&d===0?n(2,d=o.length-1):n(2,d=d+F),G=!tt(o[d]);await Bt(),Z("hover")}function Y(F){switch(F.key){case"Escape":F.preventDefault(),S();break;case"ArrowDown":F.preventDefault(),o.length&&N(1);break;case"ArrowUp":F.preventDefault(),o.length&&N(-1);break;case"Enter":if(F.preventDefault(),o.length===0)break;const G=o[d];if(v&&!T&&v[g]===G[g]){S();break}G.isCreator?i("itemCreated",p):(n(19,b=d),C(o[d]));break;case"Tab":if(F.preventDefault(),o.length===0||v&&v[g]===o[d][g])return S();n(19,b=d),C(o[d]);break}}function Z(F){if(a||!r)return;let G;const oe=r.querySelector(`.listItem .${F}`);oe&&(G=r.getBoundingClientRect().bottom-oe.getBoundingClientRect().bottom),n(0,r.scrollTop-=G,r)}let J;function pe(){const{height:F,width:G}=A.getBoundingClientRect();n(14,J=""),n(14,J+=`min-width:${G}px;width:${P?"auto":"100%"};`),O==="top"||O==="auto"&&gc(A,r).bottom?n(14,J+=`bottom:${F+x}px;`):n(14,J+=`top:${F+x}px;`)}const Ge=F=>w(F),R=F=>w(F),Q=(F,G,oe)=>L({item:F,i:G,event:oe}),de=F=>w(F),ye=F=>w(F),Ie=(F,G,oe)=>L({item:F,i:G,event:oe});function Se(F){Me[F?"unshift":"push"](()=>{r=F,n(0,r)})}return e.$$set=F=>{"container"in F&&n(0,r=F.container),"VirtualList"in F&&n(3,s=F.VirtualList),"Item"in F&&n(4,l=F.Item),"isVirtualList"in F&&n(5,a=F.isVirtualList),"items"in F&&n(1,o=F.items),"labelIdentifier"in F&&n(20,u=F.labelIdentifier),"getOptionLabel"in F&&n(6,h=F.getOptionLabel),"getGroupHeaderLabel"in F&&n(7,c=F.getGroupHeaderLabel),"itemHeight"in F&&n(8,f=F.itemHeight),"hoverItemIndex"in F&&n(2,d=F.hoverItemIndex),"value"in F&&n(9,v=F.value),"optionIdentifier"in F&&n(10,g=F.optionIdentifier),"hideEmptyState"in F&&n(11,k=F.hideEmptyState),"noOptionsMessage"in F&&n(12,M=F.noOptionsMessage),"isMulti"in F&&n(21,T=F.isMulti),"activeItemIndex"in F&&n(19,b=F.activeItemIndex),"filterText"in F&&n(13,p=F.filterText),"parent"in F&&n(22,A=F.parent),"listPlacement"in F&&n(23,O=F.listPlacement),"listAutoWidth"in F&&n(24,P=F.listAutoWidth),"listOffset"in F&&n(25,x=F.listOffset)},e.$$.update=()=>{e.$$.dirty[0]&4194305&&A&&r&&pe()},[r,o,d,s,l,a,h,c,f,v,g,k,M,p,J,w,L,Y,pe,b,u,T,A,O,P,x,Ge,R,Q,de,ye,Ie,Se]}class Mc extends Ve{constructor(t){super(),Oe(this,t,Ac,Sc,He,{container:0,VirtualList:3,Item:4,isVirtualList:5,items:1,labelIdentifier:20,getOptionLabel:6,getGroupHeaderLabel:7,itemHeight:8,hoverItemIndex:2,value:9,optionIdentifier:10,hideEmptyState:11,noOptionsMessage:12,isMulti:21,activeItemIndex:19,filterText:13,parent:22,listPlacement:23,listAutoWidth:24,listOffset:25},null,[-1,-1])}}function Ec(e){let t,n=e[0](e[1])+"";return{c(){t=j("div"),this.h()},l(i){t=U(i,"DIV",{class:!0});var r=D(t);r.forEach(I),this.h()},h(){_(t,"class","selection svelte-pu1q1n")},m(i,r){B(i,t,r),t.innerHTML=n},p(i,[r]){r&3&&n!==(n=i[0](i[1])+"")&&(t.innerHTML=n)},i:ie,o:ie,d(i){i&&I(t)}}}function Cc(e,t,n){let{getSelectionLabel:i=void 0}=t,{item:r=void 0}=t;return e.$$set=s=>{"getSelectionLabel"in s&&n(0,i=s.getSelectionLabel),"item"in s&&n(1,r=s.item)},[i,r]}class Nc extends Ve{constructor(t){super(),Oe(this,t,Cc,Ec,He,{getSelectionLabel:0,item:1})}}function dr(e,t,n){const i=e.slice();return i[9]=t[n],i[11]=n,i}function _r(e){let t,n,i,r,s;function l(...a){return e[6](e[11],...a)}return{c(){t=j("div"),n=W("svg"),i=W("path"),this.h()},l(a){t=U(a,"DIV",{class:!0});var o=D(t);n=K(o,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0,class:!0});var u=D(n);i=K(u,"path",{d:!0}),D(i).forEach(I),u.forEach(I),o.forEach(I),this.h()},h(){_(i,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),_(n,"width","100%"),_(n,"height","100%"),_(n,"viewBox","-2 -2 50 50"),_(n,"focusable","false"),_(n,"aria-hidden","true"),_(n,"role","presentation"),_(n,"class","svelte-liu9pa"),_(t,"class","multiSelectItem_clear svelte-liu9pa")},m(a,o){B(a,t,o),H(t,n),H(n,i),r||(s=ue(t,"click",l),r=!0)},p(a,o){e=a},d(a){a&&I(t),r=!1,s()}}}function mr(e){let t,n,i=e[4](e[9])+"",r,s,l,a,o,u=!e[2]&&!e[3]&&_r(e);function h(...c){return e[7](e[11],...c)}return{c(){t=j("div"),n=j("div"),r=ee(),u&&u.c(),s=ee(),this.h()},l(c){t=U(c,"DIV",{class:!0});var f=D(t);n=U(f,"DIV",{class:!0});var d=D(n);d.forEach(I),r=te(f),u&&u.l(f),s=te(f),f.forEach(I),this.h()},h(){_(n,"class","multiSelectItem_label svelte-liu9pa"),_(t,"class",l="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")},m(c,f){B(c,t,f),H(t,n),n.innerHTML=i,H(t,r),u&&u.m(t,null),H(t,s),a||(o=ue(t,"click",h),a=!0)},p(c,f){e=c,f&17&&i!==(i=e[4](e[9])+"")&&(n.innerHTML=i),!e[2]&&!e[3]?u?u.p(e,f):(u=_r(e),u.c(),u.m(t,s)):u&&(u.d(1),u=null),f&6&&l!==(l="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")&&_(t,"class",l)},d(c){c&&I(t),u&&u.d(),a=!1,o()}}}function Tc(e){let t,n=e[0],i=[];for(let r=0;r<n.length;r+=1)i[r]=mr(dr(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=ae()},l(r){for(let s=0;s<i.length;s+=1)i[s].l(r);t=ae()},m(r,s){for(let l=0;l<i.length;l+=1)i[l].m(r,s);B(r,t,s)},p(r,[s]){if(s&63){n=r[0];let l;for(l=0;l<n.length;l+=1){const a=dr(r,n,l);i[l]?i[l].p(a,s):(i[l]=mr(a),i[l].c(),i[l].m(t.parentNode,t))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},i:ie,o:ie,d(r){li(i,r),r&&I(t)}}}function Lc(e,t,n){const i=ri();let{value:r=[]}=t,{activeValue:s=void 0}=t,{isDisabled:l=!1}=t,{multiFullItemClearable:a=!1}=t,{getSelectionLabel:o=void 0}=t;function u(f,d){d.stopPropagation(),i("multiItemClear",{i:f})}const h=(f,d)=>u(f,d),c=(f,d)=>a?u(f,d):{};return e.$$set=f=>{"value"in f&&n(0,r=f.value),"activeValue"in f&&n(1,s=f.activeValue),"isDisabled"in f&&n(2,l=f.isDisabled),"multiFullItemClearable"in f&&n(3,a=f.multiFullItemClearable),"getSelectionLabel"in f&&n(4,o=f.getSelectionLabel)},[r,s,l,a,o,u,h,c]}class Fc extends Ve{constructor(t){super(),Oe(this,t,Lc,Tc,He,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4})}}function gr(e,t,n){const i=e.slice();return i[23]=t[n],i}const Vc=e=>({item:e&32,i:e&32,hoverItemIndex:e&2}),pr=e=>({item:e[23].data,i:e[23].index,hoverItemIndex:e[1]});function Oc(e){let t;return{c(){t=ce("Missing template")},l(n){t=he(n,"Missing template")},m(n,i){B(n,t,i)},d(n){n&&I(t)}}}function vr(e,t){let n,i,r;const s=t[15].default,l=us(s,t,t[14],pr),a=l||Oc();return{key:e,first:null,c(){n=j("svelte-virtual-list-row"),a&&a.c(),i=ee(),this.h()},l(o){n=U(o,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var u=D(n);a&&a.l(u),i=te(u),u.forEach(I),this.h()},h(){Ln(n,"class","svelte-g2cagw"),this.first=n},m(o,u){B(o,n,u),a&&a.m(n,null),H(n,i),r=!0},p(o,u){t=o,l&&l.p&&(!r||u&16418)&&fs(l,s,t,t[14],r?hs(s,t[14],u,Vc):cs(t[14]),pr)},i(o){r||(q(a,o),r=!0)},o(o){X(a,o),r=!1},d(o){o&&I(n),a&&a.d(o)}}}function Hc(e){let t,n,i=[],r=new Map,s,l,a,o,u=e[5];const h=c=>c[23].index;for(let c=0;c<u.length;c+=1){let f=gr(e,u,c),d=h(f);r.set(d,i[c]=vr(d,f))}return{c(){t=j("svelte-virtual-list-viewport"),n=j("svelte-virtual-list-contents");for(let c=0;c<i.length;c+=1)i[c].c();this.h()},l(c){t=U(c,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var f=D(t);n=U(f,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var d=D(n);for(let v=0;v<i.length;v+=1)i[v].l(d);d.forEach(I),f.forEach(I),this.h()},h(){at(n,"padding-top",e[6]+"px"),at(n,"padding-bottom",e[7]+"px"),Ln(n,"class","svelte-g2cagw"),at(t,"height",e[0]),Ln(t,"class","svelte-g2cagw"),Tt(()=>e[18].call(t))},m(c,f){B(c,t,f),H(t,n);for(let d=0;d<i.length;d+=1)i[d].m(n,null);e[16](n),e[17](t),s=an(t,e[18].bind(t)),l=!0,a||(o=ue(t,"scroll",e[8]),a=!0)},p(c,[f]){f&16418&&(u=c[5],me(),i=jt(i,f,h,1,c,u,r,n,os,vr,null,gr),ge()),(!l||f&64)&&at(n,"padding-top",c[6]+"px"),(!l||f&128)&&at(n,"padding-bottom",c[7]+"px"),(!l||f&1)&&at(t,"height",c[0])},i(c){if(!l){for(let f=0;f<u.length;f+=1)q(i[f]);l=!0}},o(c){for(let f=0;f<i.length;f+=1)X(i[f]);l=!1},d(c){c&&I(t);for(let f=0;f<i.length;f+=1)i[f].d();e[16](null),e[17](null),s(),a=!1,o()}}}function Dc(e,t,n){let{$$slots:i={},$$scope:r}=t,{items:s=void 0}=t,{height:l="100%"}=t,{itemHeight:a=40}=t,{hoverItemIndex:o=0}=t,{start:u=0}=t,{end:h=0}=t,c=[],f,d,v,g=0,k,M,T=0,b=0,p;async function A(V,y,C){const{scrollTop:w}=d;await Bt();let L=T-w,S=u;for(;L<y&&S<V.length;){let Y=f[S-u];Y||(n(10,h=S+1),await Bt(),Y=f[S-u]);const Z=c[S]=C||Y.offsetHeight;L+=Z,S+=1}n(10,h=S);const N=V.length-h;p=(T+L)/h,n(7,b=N*p),c.length=V.length,d&&n(3,d.scrollTop=0,d)}async function O(){const{scrollTop:V}=d,y=u;for(let S=0;S<f.length;S+=1)c[u+S]=a||f[S].offsetHeight;let C=0,w=0;for(;C<s.length;){const S=c[C]||p;if(w+S>V){n(9,u=C),n(6,T=w);break}w+=S,C+=1}for(;C<s.length&&(w+=c[C]||p,C+=1,!(w>V+g)););n(10,h=C);const L=s.length-h;for(p=w/h;C<s.length;)c[C++]=p;if(n(7,b=L*p),u<y){await Bt();let S=0,N=0;for(let Z=u;Z<y;Z+=1)f[Z-u]&&(S+=c[Z],N+=a||f[Z-u].offsetHeight);const Y=N-S;d.scrollTo(0,V+Y)}}sn(()=>{f=v.getElementsByTagName("svelte-virtual-list-row"),n(13,M=!0)});function P(V){Me[V?"unshift":"push"](()=>{v=V,n(4,v)})}function x(V){Me[V?"unshift":"push"](()=>{d=V,n(3,d)})}function E(){g=this.offsetHeight,n(2,g)}return e.$$set=V=>{"items"in V&&n(11,s=V.items),"height"in V&&n(0,l=V.height),"itemHeight"in V&&n(12,a=V.itemHeight),"hoverItemIndex"in V&&n(1,o=V.hoverItemIndex),"start"in V&&n(9,u=V.start),"end"in V&&n(10,h=V.end),"$$scope"in V&&n(14,r=V.$$scope)},e.$$.update=()=>{e.$$.dirty&3584&&n(5,k=s.slice(u,h).map((V,y)=>({index:y+u,data:V}))),e.$$.dirty&14340&&M&&A(s,g,a)},[l,o,g,d,v,k,T,b,O,u,h,s,a,M,r,i,P,x,E]}class xc extends Ve{constructor(t){super(),Oe(this,t,Dc,Hc,He,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10})}}function Rc(e){let t,n;return{c(){t=W("svg"),n=W("path"),this.h()},l(i){t=K(i,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0});var r=D(t);n=K(r,"path",{fill:!0,d:!0}),D(n).forEach(I),r.forEach(I),this.h()},h(){_(n,"fill","currentColor"),_(n,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),_(t,"width","100%"),_(t,"height","100%"),_(t,"viewBox","-2 -2 50 50"),_(t,"focusable","false"),_(t,"aria-hidden","true"),_(t,"role","presentation")},m(i,r){B(i,t,r),H(t,n)},p:ie,i:ie,o:ie,d(i){i&&I(t)}}}class Pc extends Ve{constructor(t){super(),Oe(this,t,null,Rc,He,{})}}function Bc(e,t,n){let i;return function(){let s=this,l=arguments,a=function(){i=null,n||e.apply(s,l)},o=n&&!i;clearTimeout(i),i=setTimeout(a,t),o&&e.apply(s,l)}}function yr(e,t,n){const i=e.slice();return i[103]=t[n],i}function wr(e){let t,n,i,r,s;return{c(){t=j("span"),n=ce(e[33]),i=ee(),r=j("span"),s=ce(e[32]),this.h()},l(l){t=U(l,"SPAN",{id:!0});var a=D(t);n=he(a,e[33]),a.forEach(I),i=te(l),r=U(l,"SPAN",{id:!0});var o=D(r);s=he(o,e[32]),o.forEach(I),this.h()},h(){_(t,"id","aria-selection"),_(r,"id","aria-context")},m(l,a){B(l,t,a),H(t,n),B(l,i,a),B(l,r,a),H(r,s)},p(l,a){a[1]&4&&Qe(n,l[33]),a[1]&2&&Qe(s,l[32])},d(l){l&&I(t),l&&I(i),l&&I(r)}}}function br(e){let t,n,i;const r=[e[18]];var s=e[17];function l(a){let o={};for(let u=0;u<r.length;u+=1)o=si(o,r[u]);return{props:o}}return s&&(t=ve(s,l())),{c(){t&&re(t.$$.fragment),n=ae()},l(a){t&&be(t.$$.fragment,a),n=ae()},m(a,o){t&&le(t,a,o),B(a,n,o),i=!0},p(a,o){const u=o[0]&262144?ai(r,[jr(a[18])]):{};if(s!==(s=a[17])){if(t){me();const h=t;X(h.$$.fragment,1,0,()=>{se(h,1)}),ge()}s?(t=ve(s,l()),re(t.$$.fragment),q(t.$$.fragment,1),le(t,n.parentNode,n)):t=null}else s&&t.$set(u)},i(a){i||(t&&q(t.$$.fragment,a),i=!0)},o(a){t&&X(t.$$.fragment,a),i=!1},d(a){a&&I(n),t&&se(t,a)}}}function kr(e){let t,n,i;var r=e[26];function s(l){return{props:{value:l[2],getSelectionLabel:l[12],activeValue:l[30],isDisabled:l[9],multiFullItemClearable:l[8]}}}return r&&(t=ve(r,s(e)),t.$on("multiItemClear",e[38]),t.$on("focus",e[40])),{c(){t&&re(t.$$.fragment),n=ae()},l(l){t&&be(t.$$.fragment,l),n=ae()},m(l,a){t&&le(t,l,a),B(l,n,a),i=!0},p(l,a){const o={};if(a[0]&4&&(o.value=l[2]),a[0]&4096&&(o.getSelectionLabel=l[12]),a[0]&1073741824&&(o.activeValue=l[30]),a[0]&512&&(o.isDisabled=l[9]),a[0]&256&&(o.multiFullItemClearable=l[8]),r!==(r=l[26])){if(t){me();const u=t;X(u.$$.fragment,1,0,()=>{se(u,1)}),ge()}r?(t=ve(r,s(l)),t.$on("multiItemClear",l[38]),t.$on("focus",l[40]),re(t.$$.fragment),q(t.$$.fragment,1),le(t,n.parentNode,n)):t=null}else r&&t.$set(o)},i(l){i||(t&&q(t.$$.fragment,l),i=!0)},o(l){t&&X(t.$$.fragment,l),i=!1},d(l){l&&I(n),t&&se(t,l)}}}function Ir(e){let t,n,i,r,s;var l=e[25];function a(o){return{props:{item:o[2],getSelectionLabel:o[12]}}}return l&&(n=ve(l,a(e))),{c(){t=j("div"),n&&re(n.$$.fragment),this.h()},l(o){t=U(o,"DIV",{class:!0});var u=D(t);n&&be(n.$$.fragment,u),u.forEach(I),this.h()},h(){_(t,"class","selectedItem svelte-17l1npl")},m(o,u){B(o,t,u),n&&le(n,t,null),i=!0,r||(s=ue(t,"focus",e[40]),r=!0)},p(o,u){const h={};if(u[0]&4&&(h.item=o[2]),u[0]&4096&&(h.getSelectionLabel=o[12]),l!==(l=o[25])){if(n){me();const c=n;X(c.$$.fragment,1,0,()=>{se(c,1)}),ge()}l?(n=ve(l,a(o)),re(n.$$.fragment),q(n.$$.fragment,1),le(n,t,null)):n=null}else l&&n.$set(h)},i(o){i||(n&&q(n.$$.fragment,o),i=!0)},o(o){n&&X(n.$$.fragment,o),i=!1},d(o){o&&I(t),n&&se(n),r=!1,s()}}}function Sr(e){let t,n,i,r,s;var l=e[23];function a(o){return{}}return l&&(n=ve(l,a())),{c(){t=j("div"),n&&re(n.$$.fragment),this.h()},l(o){t=U(o,"DIV",{class:!0,"aria-hidden":!0});var u=D(t);n&&be(n.$$.fragment,u),u.forEach(I),this.h()},h(){_(t,"class","clearSelect svelte-17l1npl"),_(t,"aria-hidden","true")},m(o,u){B(o,t,u),n&&le(n,t,null),i=!0,r||(s=ue(t,"click",ds(e[27])),r=!0)},p(o,u){if(l!==(l=o[23])){if(n){me();const h=n;X(h.$$.fragment,1,0,()=>{se(h,1)}),ge()}l?(n=ve(l,a()),re(n.$$.fragment),q(n.$$.fragment,1),le(n,t,null)):n=null}},i(o){i||(n&&q(n.$$.fragment,o),i=!0)},o(o){n&&X(n.$$.fragment,o),i=!1},d(o){o&&I(t),n&&se(n),r=!1,s()}}}function Ar(e){let t;function n(s,l){return s[22]?qc:zc}let i=n(e),r=i(e);return{c(){t=j("div"),r.c(),this.h()},l(s){t=U(s,"DIV",{class:!0,"aria-hidden":!0});var l=D(t);r.l(l),l.forEach(I),this.h()},h(){_(t,"class","indicator svelte-17l1npl"),_(t,"aria-hidden","true")},m(s,l){B(s,t,l),r.m(t,null)},p(s,l){i===(i=n(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(t,null)))},d(s){s&&I(t),r.d()}}}function zc(e){let t,n;return{c(){t=W("svg"),n=W("path"),this.h()},l(i){t=K(i,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,class:!0});var r=D(t);n=K(r,"path",{d:!0}),D(n).forEach(I),r.forEach(I),this.h()},h(){_(n,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),_(t,"width","100%"),_(t,"height","100%"),_(t,"viewBox","0 0 20 20"),_(t,"focusable","false"),_(t,"aria-hidden","true"),_(t,"class","svelte-17l1npl")},m(i,r){B(i,t,r),H(t,n)},p:ie,d(i){i&&I(t)}}}function qc(e){let t,n;return{c(){t=new ms(!1),n=ae(),this.h()},l(i){t=gs(i,!1),n=ae(),this.h()},h(){t.a=n},m(i,r){t.m(e[22],i,r),B(i,n,r)},p(i,r){r[0]&4194304&&t.p(i[22])},d(i){i&&I(n),i&&t.d()}}}function Mr(e){let t,n,i;return{c(){t=j("div"),n=W("svg"),i=W("circle"),this.h()},l(r){t=U(r,"DIV",{class:!0});var s=D(t);n=K(s,"svg",{class:!0,viewBox:!0});var l=D(n);i=K(l,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),D(i).forEach(I),l.forEach(I),s.forEach(I),this.h()},h(){_(i,"class","spinner_path svelte-17l1npl"),_(i,"cx","50"),_(i,"cy","50"),_(i,"r","20"),_(i,"fill","none"),_(i,"stroke","currentColor"),_(i,"stroke-width","5"),_(i,"stroke-miterlimit","10"),_(n,"class","spinner_icon svelte-17l1npl"),_(n,"viewBox","25 25 50 50"),_(t,"class","spinner svelte-17l1npl")},m(r,s){B(r,t,s),H(t,n),H(n,i)},d(r){r&&I(t)}}}function Er(e){let t,n,i,r;const s=[e[34]];function l(u){e[84](u)}var a=e[24];function o(u){let h={};for(let c=0;c<s.length;c+=1)h=si(h,s[c]);return u[28]!==void 0&&(h.hoverItemIndex=u[28]),{props:h}}return a&&(t=ve(a,o(e)),Me.push(()=>Fi(t,"hoverItemIndex",l)),t.$on("itemSelected",e[43]),t.$on("itemCreated",e[44]),t.$on("closeList",e[45])),{c(){t&&re(t.$$.fragment),i=ae()},l(u){t&&be(t.$$.fragment,u),i=ae()},m(u,h){t&&le(t,u,h),B(u,i,h),r=!0},p(u,h){const c=h[1]&8?ai(s,[jr(u[34])]):{};if(!n&&h[0]&268435456&&(n=!0,c.hoverItemIndex=u[28],_s(()=>n=!1)),a!==(a=u[24])){if(t){me();const f=t;X(f.$$.fragment,1,0,()=>{se(f,1)}),ge()}a?(t=ve(a,o(u)),Me.push(()=>Fi(t,"hoverItemIndex",l)),t.$on("itemSelected",u[43]),t.$on("itemCreated",u[44]),t.$on("closeList",u[45]),re(t.$$.fragment),q(t.$$.fragment,1),le(t,i.parentNode,i)):t=null}else a&&t.$set(c)},i(u){r||(t&&q(t.$$.fragment,u),r=!0)},o(u){t&&X(t.$$.fragment,u),r=!1},d(u){u&&I(i),t&&se(t,u)}}}function Cr(e){let t,n,i;return{c(){t=j("input"),this.h()},l(r){t=U(r,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){_(t,"name",n=e[16].name),_(t,"type","hidden"),t.value=i=e[2]?e[12](e[2]):null,_(t,"class","svelte-17l1npl")},m(r,s){B(r,t,s)},p(r,s){s[0]&65536&&n!==(n=r[16].name)&&_(t,"name",n),s[0]&4100&&i!==(i=r[2]?r[12](r[2]):null)&&(t.value=i)},d(r){r&&I(t)}}}function Nr(e){let t,n=e[2],i=[];for(let r=0;r<n.length;r+=1)i[r]=Tr(yr(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=ae()},l(r){for(let s=0;s<i.length;s+=1)i[s].l(r);t=ae()},m(r,s){for(let l=0;l<i.length;l+=1)i[l].m(r,s);B(r,t,s)},p(r,s){if(s[0]&69636){n=r[2];let l;for(l=0;l<n.length;l+=1){const a=yr(r,n,l);i[l]?i[l].p(a,s):(i[l]=Tr(a),i[l].c(),i[l].m(t.parentNode,t))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(r){li(i,r),r&&I(t)}}}function Tr(e){let t,n,i;return{c(){t=j("input"),this.h()},l(r){t=U(r,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){_(t,"name",n=e[16].name),_(t,"type","hidden"),t.value=i=e[103]?e[12](e[103]):null,_(t,"class","svelte-17l1npl")},m(r,s){B(r,t,s)},p(r,s){s[0]&65536&&n!==(n=r[16].name)&&_(t,"name",n),s[0]&4100&&i!==(i=r[103]?r[12](r[103]):null)&&(t.value=i)},d(r){r&&I(t)}}}function Gc(e){let t,n,i,r,s,l,a,o,u,h,c,f,d,v,g,k,M,T,b=e[1]&&wr(e),p=e[17]&&br(e),A=e[35]&&kr(e),O=[{readOnly:a=!e[13]},e[31],{placeholder:e[36]},{style:e[14]},{disabled:e[9]}],P={};for(let S=0;S<O.length;S+=1)P=si(P,O[S]);let x=!e[7]&&e[29]&&Ir(e),E=e[37]&&Sr(e),V=!e[37]&&(e[20]||e[19]&&!e[2]||!e[13]&&!e[9]&&!e[4]&&(e[29]&&!e[15]||!e[29]))&&Ar(e),y=e[4]&&Mr(),C=e[5]&&Er(e),w=(!e[7]||e[7]&&!e[35])&&Cr(e),L=e[7]&&e[35]&&Nr(e);return{c(){t=j("div"),n=j("span"),b&&b.c(),i=ee(),p&&p.c(),r=ee(),A&&A.c(),s=ee(),l=j("input"),o=ee(),x&&x.c(),u=ee(),E&&E.c(),h=ee(),V&&V.c(),c=ee(),y&&y.c(),f=ee(),C&&C.c(),d=ee(),w&&w.c(),v=ee(),L&&L.c(),this.h()},l(S){t=U(S,"DIV",{class:!0,style:!0});var N=D(t);n=U(N,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var Y=D(n);b&&b.l(Y),Y.forEach(I),i=te(N),p&&p.l(N),r=te(N),A&&A.l(N),s=te(N),l=U(N,"INPUT",{placeholder:!0,style:!0}),o=te(N),x&&x.l(N),u=te(N),E&&E.l(N),h=te(N),V&&V.l(N),c=te(N),y&&y.l(N),f=te(N),C&&C.l(N),d=te(N),w&&w.l(N),v=te(N),L&&L.l(N),N.forEach(I),this.h()},h(){_(n,"aria-live","polite"),_(n,"aria-atomic","false"),_(n,"aria-relevant","additions text"),_(n,"class","a11yText svelte-17l1npl"),Ti(l,P),Ne(l,"svelte-17l1npl",!0),_(t,"class",g="selectContainer "+e[21]+" svelte-17l1npl"),_(t,"style",e[11]),Ne(t,"hasError",e[10]),Ne(t,"multiSelect",e[7]),Ne(t,"disabled",e[9]),Ne(t,"focused",e[1])},m(S,N){B(S,t,N),H(t,n),b&&b.m(n,null),H(t,i),p&&p.m(t,null),H(t,r),A&&A.m(t,null),H(t,s),H(t,l),l.autofocus&&l.focus(),e[82](l),Li(l,e[3]),H(t,o),x&&x.m(t,null),H(t,u),E&&E.m(t,null),H(t,h),V&&V.m(t,null),H(t,c),y&&y.m(t,null),H(t,f),C&&C.m(t,null),H(t,d),w&&w.m(t,null),H(t,v),L&&L.m(t,null),e[85](t),k=!0,M||(T=[ue(window,"click",e[41]),ue(window,"focusin",e[41]),ue(window,"keydown",e[39]),ue(l,"focus",e[40]),ue(l,"input",e[83]),ue(t,"click",e[42])],M=!0)},p(S,N){S[1]?b?b.p(S,N):(b=wr(S),b.c(),b.m(n,null)):b&&(b.d(1),b=null),S[17]?p?(p.p(S,N),N[0]&131072&&q(p,1)):(p=br(S),p.c(),q(p,1),p.m(t,r)):p&&(me(),X(p,1,1,()=>{p=null}),ge()),S[35]?A?(A.p(S,N),N[1]&16&&q(A,1)):(A=kr(S),A.c(),q(A,1),A.m(t,s)):A&&(me(),X(A,1,1,()=>{A=null}),ge()),Ti(l,P=ai(O,[(!k||N[0]&8192&&a!==(a=!S[13]))&&{readOnly:a},N[1]&1&&S[31],(!k||N[1]&32)&&{placeholder:S[36]},(!k||N[0]&16384)&&{style:S[14]},(!k||N[0]&512)&&{disabled:S[9]}])),N[0]&8&&l.value!==S[3]&&Li(l,S[3]),Ne(l,"svelte-17l1npl",!0),!S[7]&&S[29]?x?(x.p(S,N),N[0]&536871040&&q(x,1)):(x=Ir(S),x.c(),q(x,1),x.m(t,u)):x&&(me(),X(x,1,1,()=>{x=null}),ge()),S[37]?E?(E.p(S,N),N[1]&64&&q(E,1)):(E=Sr(S),E.c(),q(E,1),E.m(t,h)):E&&(me(),X(E,1,1,()=>{E=null}),ge()),!S[37]&&(S[20]||S[19]&&!S[2]||!S[13]&&!S[9]&&!S[4]&&(S[29]&&!S[15]||!S[29]))?V?V.p(S,N):(V=Ar(S),V.c(),V.m(t,c)):V&&(V.d(1),V=null),S[4]?y||(y=Mr(),y.c(),y.m(t,f)):y&&(y.d(1),y=null),S[5]?C?(C.p(S,N),N[0]&32&&q(C,1)):(C=Er(S),C.c(),q(C,1),C.m(t,d)):C&&(me(),X(C,1,1,()=>{C=null}),ge()),!S[7]||S[7]&&!S[35]?w?w.p(S,N):(w=Cr(S),w.c(),w.m(t,v)):w&&(w.d(1),w=null),S[7]&&S[35]?L?L.p(S,N):(L=Nr(S),L.c(),L.m(t,null)):L&&(L.d(1),L=null),(!k||N[0]&2097152&&g!==(g="selectContainer "+S[21]+" svelte-17l1npl"))&&_(t,"class",g),(!k||N[0]&2048)&&_(t,"style",S[11]),(!k||N[0]&2098176)&&Ne(t,"hasError",S[10]),(!k||N[0]&2097280)&&Ne(t,"multiSelect",S[7]),(!k||N[0]&2097664)&&Ne(t,"disabled",S[9]),(!k||N[0]&2097154)&&Ne(t,"focused",S[1])},i(S){k||(q(p),q(A),q(x),q(E),q(C),k=!0)},o(S){X(p),X(A),X(x),X(E),X(C),k=!1},d(S){S&&I(t),b&&b.d(),p&&p.d(),A&&A.d(),e[82](null),x&&x.d(),E&&E.d(),V&&V.d(),y&&y.d(),C&&C.d(),w&&w.d(),L&&L.d(),e[85](null),M=!1,ln(T)}}}function Lr(e){return e.map((t,n)=>({index:n,value:t,label:`${t}`}))}function Yc(e,t,n){let i,r,s,l,a,o,u,h;const c=ri();let{id:f=null}=t,{container:d=void 0}=t,{input:v=void 0}=t,{isMulti:g=!1}=t,{multiFullItemClearable:k=!1}=t,{isDisabled:M=!1}=t,{isCreatable:T=!1}=t,{isFocused:b=!1}=t,{value:p=null}=t,{filterText:A=""}=t,{placeholder:O="Select..."}=t,{placeholderAlwaysShow:P=!1}=t,{items:x=null}=t,{itemFilter:E=(m,z,$)=>`${m}`.toLowerCase().includes(z.toLowerCase())}=t,{groupBy:V=void 0}=t,{groupFilter:y=m=>m}=t,{isGroupHeaderSelectable:C=!1}=t,{getGroupHeaderLabel:w=m=>m[L]||m.id}=t,{labelIdentifier:L="label"}=t,{getOptionLabel:S=(m,z)=>m.isCreator?`Create "${z}"`:m[L]}=t,{optionIdentifier:N="value"}=t,{loadOptions:Y=void 0}=t,{hasError:Z=!1}=t,{containerStyles:J=""}=t,{getSelectionLabel:pe=m=>m?m[L]:null}=t,{createGroupHeaderItem:Ge=m=>({value:m,label:m})}=t,{createItem:R=m=>({value:m,label:m})}=t;const Q=()=>i;let{isSearchable:de=!0}=t,{inputStyles:ye=""}=t,{isClearable:Ie=!0}=t,{isWaiting:Se=!1}=t,{listPlacement:F="auto"}=t,{listOpen:G=!1}=t,{isVirtualList:oe=!1}=t,{loadOptionsInterval:Ae=300}=t,{noOptionsMessage:Te="No options"}=t,{hideEmptyState:nt=!1}=t,{inputAttributes:Xe={}}=t,{listAutoWidth:it=!0}=t,{itemHeight:rt=40}=t,{Icon:pt=void 0}=t,{iconProps:pi={}}=t,{showChevron:vi=!1}=t,{showIndicator:yi=!1}=t,{containerClasses:wi=""}=t,{indicatorSvg:bi=void 0}=t,{listOffset:cn=5}=t,{ClearIcon:ki=Pc}=t,{Item:hn=Ol}=t,{List:Ii=Mc}=t,{Selection:Si=Nc}=t,{MultiSelection:Ai=Fc}=t,{VirtualList:dn=xc}=t;function Dl(m){if(m.loadOptions&&m.filterText.length>0)return;if(!m.items)return[];m.items&&m.items.length>0&&typeof m.items[0]!="object"&&(m.items=Lr(m.items));let z=m.items.filter($=>{let Ce=E(S($,m.filterText),m.filterText,$);return Ce&&m.isMulti&&m.value&&Array.isArray(m.value)&&(Ce=!m.value.some(We=>We[m.optionIdentifier]===$[m.optionIdentifier])),Ce});return m.groupBy&&(z=Bl(z)),m.isCreatable&&(z=Mi(z,m.filterText)),z}function Mi(m,z){if(z.length===0)return m;const $=R(z);return m[0]&&z===m[0][L]?m:($.isCreator=!0,[...m,$])}let{selectedValue:_n=null}=t,ne,lt,mn,gn,pn,Vt;const xl=Bc(async()=>{n(4,Se=!0);let m=await Y(A).catch(z=>{console.warn("svelte-select loadOptions error :>> ",z),c("error",{type:"loadOptions",details:z})});m&&!m.cancelled&&(m?(m&&m.length>0&&typeof m[0]!="object"&&(m=Lr(m)),n(81,i=[...m]),c("loaded",{items:i})):n(81,i=[]),T&&n(81,i=Mi(i,A)),n(4,Se=!1),n(1,b=!0),n(5,G=!0))},Ae);function Rl(){typeof p=="string"?n(2,p={[N]:p,label:p}):g&&Array.isArray(p)&&p.length>0&&n(2,p=p.map(m=>typeof m=="string"?{value:m,label:m}:m))}let st;function Pl(){n(31,st=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},Xe)),f&&n(31,st.id=f,st),de||n(31,st.readonly=!0,st)}function Bl(m){const z=[],$={};m.forEach(We=>{const Be=V(We);z.includes(Be)||(z.push(Be),$[Be]=[],Be&&$[Be].push(Object.assign(Ge(Be,We),{id:Be,isGroupHeader:!0,isSelectable:C}))),$[Be].push(Object.assign({isGroupItem:!!Be},We))});const Ce=[];return y(z).forEach(We=>{Ce.push(...$[We])}),Ce}function zl(){if(g){JSON.stringify(p)!==JSON.stringify(lt)&&Ei()&&c("select",p);return}(!lt||JSON.stringify(p[N])!==JSON.stringify(lt[N]))&&c("select",p)}function ql(){b||G?vn():v&&v.blur()}function Gl(){p&&(Array.isArray(p)?n(2,p=[...p]):n(2,p=[p]))}function Yl(){p&&n(2,p=null)}function jl(){A.length!==0&&(n(1,b=!0),n(5,G=!0),Y?xl():(n(5,G=!0),g&&n(30,ne=void 0)))}Yr(async()=>{n(77,lt=p),n(78,mn=A),n(79,gn=b),n(80,pn=g)});function Ei(){let m=!0;if(p){const z=[],$=[];p.forEach(Ce=>{z.includes(Ce[N])?m=!1:(z.push(Ce[N]),$.push(Ce))}),m||n(2,p=$)}return m}function Ci(m){let z=m?m[N]:p[N];return x.find($=>$[N]===z)}function Ul(m){!m||m.length===0||m.some(z=>typeof z!="object")||!p||(g?p.some(z=>!z||!z[N]):!p[N])||(Array.isArray(p)?n(2,p=p.map(z=>Ci(z)||z)):n(2,p=Ci()||p))}function Ni(m){const{detail:z}=m,$=p[z?z.i:p.length-1];p.length===1?n(2,p=void 0):n(2,p=p.filter(Ce=>Ce!==$)),c("clear",$)}function Xl(m){if(!!b)switch(m.key){case"ArrowDown":m.preventDefault(),n(5,G=!0),n(30,ne=void 0);break;case"ArrowUp":m.preventDefault(),n(5,G=!0),n(30,ne=void 0);break;case"Tab":G||n(1,b=!1);break;case"Backspace":if(!g||A.length>0)return;if(g&&p&&p.length>0){if(Ni(ne!==void 0?ne:p.length-1),ne===0||ne===void 0)break;n(30,ne=p.length>ne?ne-1:void 0)}break;case"ArrowLeft":if(!g||A.length>0)return;ne===void 0?n(30,ne=p.length-1):p.length>ne&&ne!==0&&n(30,ne-=1);break;case"ArrowRight":if(!g||A.length>0||ne===void 0)return;ne===p.length-1?n(30,ne=void 0):ne<p.length-1&&n(30,ne+=1);break}}function vn(){n(1,b=!0),v&&v.focus()}function Wl(m){if(!d)return;const z=m.path&&m.path.length>0?m.path[0]:m.target;d.contains(z)||d.contains(m.relatedTarget)||(n(1,b=!1),n(5,G=!1),n(30,ne=void 0),v&&v.blur())}function Kl(){M||(n(1,b=!0),n(5,G=!G))}function Zl(){n(2,p=void 0),n(5,G=!1),c("clear",p),vn()}sn(()=>{b&&v&&v.focus()});function Jl(m){const{detail:z}=m;if(z){n(3,A="");const $=Object.assign({},z);(!$.isGroupHeader||$.isSelectable)&&(g?n(2,p=p?p.concat([$]):[$]):n(2,p=$),n(2,p),setTimeout(()=>{n(5,G=!1),n(30,ne=void 0)}))}}function Ql(m){const{detail:z}=m;g?(n(2,p=p||[]),n(2,p=[...p,R(z)])):n(2,p=R(z)),c("itemCreated",z),n(3,A=""),n(5,G=!1),n(30,ne=void 0)}function $l(){n(3,A=""),n(5,G=!1)}let{ariaValues:yn=m=>`Option ${m}, selected.`}=t,{ariaListOpen:wn=(m,z)=>`You are currently focused on option ${m}. There are ${z} results available.`}=t,{ariaFocused:bn=()=>"Select is focused, type to refine list, press down to open the menu."}=t;function es(){let m;return g&&p.length>0?m=p.map(z=>pe(z)).join(", "):m=pe(p),yn(m)}function ts(){if(!b||!i||i.length===0)return"";let m=i[Vt];if(G&&m){let z=pe(m),$=i?i.length:0;return wn(z,$)}else return bn()}function ns(m){Me[m?"unshift":"push"](()=>{v=m,n(6,v)})}function is(){A=this.value,n(3,A)}function rs(m){Vt=m,n(28,Vt)}function ls(m){Me[m?"unshift":"push"](()=>{d=m,n(0,d)})}return e.$$set=m=>{"id"in m&&n(46,f=m.id),"container"in m&&n(0,d=m.container),"input"in m&&n(6,v=m.input),"isMulti"in m&&n(7,g=m.isMulti),"multiFullItemClearable"in m&&n(8,k=m.multiFullItemClearable),"isDisabled"in m&&n(9,M=m.isDisabled),"isCreatable"in m&&n(47,T=m.isCreatable),"isFocused"in m&&n(1,b=m.isFocused),"value"in m&&n(2,p=m.value),"filterText"in m&&n(3,A=m.filterText),"placeholder"in m&&n(48,O=m.placeholder),"placeholderAlwaysShow"in m&&n(49,P=m.placeholderAlwaysShow),"items"in m&&n(50,x=m.items),"itemFilter"in m&&n(51,E=m.itemFilter),"groupBy"in m&&n(52,V=m.groupBy),"groupFilter"in m&&n(53,y=m.groupFilter),"isGroupHeaderSelectable"in m&&n(54,C=m.isGroupHeaderSelectable),"getGroupHeaderLabel"in m&&n(55,w=m.getGroupHeaderLabel),"labelIdentifier"in m&&n(56,L=m.labelIdentifier),"getOptionLabel"in m&&n(57,S=m.getOptionLabel),"optionIdentifier"in m&&n(58,N=m.optionIdentifier),"loadOptions"in m&&n(59,Y=m.loadOptions),"hasError"in m&&n(10,Z=m.hasError),"containerStyles"in m&&n(11,J=m.containerStyles),"getSelectionLabel"in m&&n(12,pe=m.getSelectionLabel),"createGroupHeaderItem"in m&&n(60,Ge=m.createGroupHeaderItem),"createItem"in m&&n(61,R=m.createItem),"isSearchable"in m&&n(13,de=m.isSearchable),"inputStyles"in m&&n(14,ye=m.inputStyles),"isClearable"in m&&n(15,Ie=m.isClearable),"isWaiting"in m&&n(4,Se=m.isWaiting),"listPlacement"in m&&n(63,F=m.listPlacement),"listOpen"in m&&n(5,G=m.listOpen),"isVirtualList"in m&&n(64,oe=m.isVirtualList),"loadOptionsInterval"in m&&n(65,Ae=m.loadOptionsInterval),"noOptionsMessage"in m&&n(66,Te=m.noOptionsMessage),"hideEmptyState"in m&&n(67,nt=m.hideEmptyState),"inputAttributes"in m&&n(16,Xe=m.inputAttributes),"listAutoWidth"in m&&n(68,it=m.listAutoWidth),"itemHeight"in m&&n(69,rt=m.itemHeight),"Icon"in m&&n(17,pt=m.Icon),"iconProps"in m&&n(18,pi=m.iconProps),"showChevron"in m&&n(19,vi=m.showChevron),"showIndicator"in m&&n(20,yi=m.showIndicator),"containerClasses"in m&&n(21,wi=m.containerClasses),"indicatorSvg"in m&&n(22,bi=m.indicatorSvg),"listOffset"in m&&n(70,cn=m.listOffset),"ClearIcon"in m&&n(23,ki=m.ClearIcon),"Item"in m&&n(71,hn=m.Item),"List"in m&&n(24,Ii=m.List),"Selection"in m&&n(25,Si=m.Selection),"MultiSelection"in m&&n(26,Ai=m.MultiSelection),"VirtualList"in m&&n(72,dn=m.VirtualList),"selectedValue"in m&&n(73,_n=m.selectedValue),"ariaValues"in m&&n(74,yn=m.ariaValues),"ariaListOpen"in m&&n(75,wn=m.ariaListOpen),"ariaFocused"in m&&n(76,bn=m.ariaFocused)},e.$$.update=()=>{e.$$.dirty[0]&140|e.$$.dirty[1]&405340160&&n(81,i=Dl({loadOptions:Y,filterText:A,items:x,value:p,isMulti:g,optionIdentifier:N,groupBy:V,isCreatable:T})),e.$$.dirty[2]&2048&&_n&&console.warn("selectedValue is no longer used. Please use value instead."),e.$$.dirty[1]&524288&&Ul(x),e.$$.dirty[0]&4&&p&&Rl(),e.$$.dirty[0]&73728&&(Xe||!de)&&Pl(),e.$$.dirty[0]&128|e.$$.dirty[2]&262144&&(g&&Gl(),pn&&!g&&Yl()),e.$$.dirty[0]&132&&g&&p&&p.length>1&&Ei(),e.$$.dirty[0]&4&&p&&zl(),e.$$.dirty[0]&132|e.$$.dirty[2]&32768&&!p&&g&&lt&&c("select",p),e.$$.dirty[0]&2|e.$$.dirty[2]&131072&&b!==gn&&ql(),e.$$.dirty[0]&8|e.$$.dirty[2]&65536&&A!==mn&&jl(),e.$$.dirty[0]&12&&n(29,r=p&&A.length===0),e.$$.dirty[0]&536904208&&n(37,s=r&&Ie&&!M&&!Se),e.$$.dirty[0]&132|e.$$.dirty[1]&393216&&n(36,l=P&&g?O:p?"":O),e.$$.dirty[0]&132&&n(35,a=g&&p&&p.length>0),e.$$.dirty[0]&141|e.$$.dirty[1]&218103808|e.$$.dirty[2]&526326&&n(34,o={Item:hn,filterText:A,optionIdentifier:N,noOptionsMessage:Te,hideEmptyState:nt,isVirtualList:oe,VirtualList:dn,value:p,isMulti:g,getGroupHeaderLabel:w,items:i,itemHeight:rt,getOptionLabel:S,listPlacement:F,parent:d,listAutoWidth:it,listOffset:cn}),e.$$.dirty[0]&132&&n(33,u=p?es():""),e.$$.dirty[0]&268435490|e.$$.dirty[2]&524288&&n(32,h=ts())},[d,b,p,A,Se,G,v,g,k,M,Z,J,pe,de,ye,Ie,Xe,pt,pi,vi,yi,wi,bi,ki,Ii,Si,Ai,Zl,Vt,r,ne,st,h,u,o,a,l,s,Ni,Xl,vn,Wl,Kl,Jl,Ql,$l,f,T,O,P,x,E,V,y,C,w,L,S,N,Y,Ge,R,Q,F,oe,Ae,Te,nt,it,rt,cn,hn,dn,_n,yn,wn,bn,lt,mn,gn,pn,i,ns,is,rs,ls]}class Fr extends Ve{constructor(t){super(),Oe(this,t,Yc,Gc,He,{id:46,container:0,input:6,isMulti:7,multiFullItemClearable:8,isDisabled:9,isCreatable:47,isFocused:1,value:2,filterText:3,placeholder:48,placeholderAlwaysShow:49,items:50,itemFilter:51,groupBy:52,groupFilter:53,isGroupHeaderSelectable:54,getGroupHeaderLabel:55,labelIdentifier:56,getOptionLabel:57,optionIdentifier:58,loadOptions:59,hasError:10,containerStyles:11,getSelectionLabel:12,createGroupHeaderItem:60,createItem:61,getFilteredItems:62,isSearchable:13,inputStyles:14,isClearable:15,isWaiting:4,listPlacement:63,listOpen:5,isVirtualList:64,loadOptionsInterval:65,noOptionsMessage:66,hideEmptyState:67,inputAttributes:16,listAutoWidth:68,itemHeight:69,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,listOffset:70,ClearIcon:23,Item:71,List:24,Selection:25,MultiSelection:26,VirtualList:72,selectedValue:73,handleClear:27,ariaValues:74,ariaListOpen:75,ariaFocused:76},null,[-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[62]}get handleClear(){return this.$$.ctx[27]}}function Vr(e,t,n){const i=e.slice();return i[24]=t[n],i}function Or(e,t,n){const i=e.slice();return i[24]=t[n],i}function Hr(e,t){let n,i,r,s,l,a;return{key:e,first:null,c(){n=W("circle"),this.h()},l(o){n=K(o,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),D(n).forEach(I),this.h()},h(){_(n,"cx",i=t[9](t[24].year)),_(n,"cy",r=t[8](t[24].export_value)),_(n,"r","5"),_(n,"fill",s=t[11](t[0])),_(n,"class","svelte-wx1vup"),this.first=n},m(o,u){B(o,n,u),l||(a=ue(n,"click",function(){Xr(t[13](t[24].year))&&t[13](t[24].year).apply(this,arguments)}),l=!0)},p(o,u){t=o,u&1536&&i!==(i=t[9](t[24].year))&&_(n,"cx",i),u&1280&&r!==(r=t[8](t[24].export_value))&&_(n,"cy",r),u&2049&&s!==(s=t[11](t[0]))&&_(n,"fill",s)},d(o){o&&I(n),l=!1,a()}}}function Dr(e,t){let n,i,r,s,l,a;return{key:e,first:null,c(){n=W("circle"),this.h()},l(o){n=K(o,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),D(n).forEach(I),this.h()},h(){_(n,"cx",i=t[9](t[24].year)),_(n,"cy",r=t[8](t[24].import_value)),_(n,"r","5"),_(n,"fill",s=t[11](t[1])),_(n,"class","svelte-wx1vup"),this.first=n},m(o,u){B(o,n,u),l||(a=ue(n,"click",function(){Xr(t[13](t[24].year))&&t[13](t[24].year).apply(this,arguments)}),l=!0)},p(o,u){t=o,u&1536&&i!==(i=t[9](t[24].year))&&_(n,"cx",i),u&1280&&r!==(r=t[8](t[24].import_value))&&_(n,"cy",r),u&2050&&s!==(s=t[11](t[1]))&&_(n,"fill",s)},d(o){o&&I(n),l=!1,a()}}}function jc(e){let t,n,i,r,s,l,a,o,u,h,c,f,d,v,g=[],k=new Map,M,T,b,p=[],A=new Map,O,P=e[10];const x=y=>y[24].year;for(let y=0;y<P.length;y+=1){let C=Or(e,P,y),w=x(C);k.set(w,g[y]=Hr(w,C))}let E=e[10];const V=y=>y[24].year;for(let y=0;y<E.length;y+=1){let C=Vr(e,E,y),w=V(C);A.set(w,p[y]=Dr(w,C))}return{c(){t=j("div"),n=W("svg"),i=W("text"),r=ce("Total Trade Over Time"),l=W("rect"),u=W("g"),c=W("g"),f=W("g"),d=W("path");for(let y=0;y<g.length;y+=1)g[y].c();M=W("g"),T=W("path");for(let y=0;y<p.length;y+=1)p[y].c();this.h()},l(y){t=U(y,"DIV",{id:!0,class:!0});var C=D(t);n=K(C,"svg",{width:!0,height:!0});var w=D(n);i=K(w,"text",{class:!0,x:!0,y:!0,"text-anchor":!0});var L=D(i);r=he(L,"Total Trade Over Time"),L.forEach(I),l=K(w,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),D(l).forEach(I),u=K(w,"g",{id:!0,transform:!0}),D(u).forEach(I),c=K(w,"g",{id:!0,transform:!0}),D(c).forEach(I),f=K(w,"g",{class:!0});var S=D(f);d=K(S,"path",{fill:!0,stroke:!0,"stroke-width":!0}),D(d).forEach(I);for(let Y=0;Y<g.length;Y+=1)g[Y].l(S);S.forEach(I),M=K(w,"g",{class:!0});var N=D(M);T=K(N,"path",{fill:!0,stroke:!0,"stroke-width":!0}),D(T).forEach(I);for(let Y=0;Y<p.length;Y+=1)p[Y].l(N);N.forEach(I),w.forEach(I),C.forEach(I),this.h()},h(){_(i,"class","chart-header"),_(i,"x",s=e[2]/2),_(i,"y",je-5),_(i,"text-anchor","middle"),_(l,"x",a=e[9](e[12])-12),_(l,"y",35),_(l,"width","24"),_(l,"height",o=e[3]-35-je),_(l,"fill","rgba(0,0,0,0.2)"),_(u,"id","xAxis"),_(u,"transform",h=`translate(${0},${e[3]-je})`),_(c,"id","yAis"),_(c,"transform",`translate(${Hl},${0})`),_(d,"fill","none"),_(d,"stroke",v=e[11](e[0])),_(d,"stroke-width","2"),_(f,"class","country1-group country-group svelte-wx1vup"),_(T,"fill","none"),_(T,"stroke",b=e[11](e[1])),_(T,"stroke-width","2"),_(M,"class","country2-group country-group svelte-wx1vup"),_(n,"width",e[2]),_(n,"height",e[3]),_(t,"id","line-chart"),_(t,"class","viz-section"),Tt(()=>e[22].call(t))},m(y,C){B(y,t,C),H(t,n),H(n,i),H(i,r),H(n,l),H(n,u),e[18](u),H(n,c),e[19](c),H(n,f),H(f,d),e[20](d);for(let w=0;w<g.length;w+=1)g[w].m(f,null);H(n,M),H(M,T),e[21](T);for(let w=0;w<p.length;w+=1)p[w].m(M,null);O=an(t,e[22].bind(t))},p(y,[C]){C&4&&s!==(s=y[2]/2)&&_(i,"x",s),C&4608&&a!==(a=y[9](y[12])-12)&&_(l,"x",a),C&8&&o!==(o=y[3]-35-je)&&_(l,"height",o),C&8&&h!==(h=`translate(${0},${y[3]-je})`)&&_(u,"transform",h),C&2049&&v!==(v=y[11](y[0]))&&_(d,"stroke",v),C&12033&&(P=y[10],g=jt(g,C,x,1,y,P,k,f,Fn,Hr,null,Or)),C&2050&&b!==(b=y[11](y[1]))&&_(T,"stroke",b),C&12034&&(E=y[10],p=jt(p,C,V,1,y,E,A,M,Fn,Dr,null,Vr)),C&4&&_(n,"width",y[2]),C&8&&_(n,"height",y[3])},i:ie,o:ie,d(y){y&&I(t),e[18](null),e[19](null),e[20](null);for(let C=0;C<g.length;C+=1)g[C].d();e[21](null);for(let C=0;C<p.length;C+=1)p[C].d();O()}}}const je=35,Uc=15,Hl=50;function Xc(e,t,n){let i,r,s,l;Ur(e,ti,y=>n(12,l=y));let{data:a}=t,{bilateralData:o,locationData:u,productData:h,country1:c,country2:f,countryColorScale:d}=a,v=800,g=400;const k=y=>mt("$.2s")(y).replace(/G/,"B");let M,T,b,p;function A(y){return()=>ti.set(y)}function O(y){Me[y?"unshift":"push"](()=>{M=y,n(4,M)})}function P(y){Me[y?"unshift":"push"](()=>{T=y,n(5,T)})}function x(y){Me[y?"unshift":"push"](()=>{b=y,n(6,b)})}function E(y){Me[y?"unshift":"push"](()=>{p=y,n(7,p)})}function V(){v=this.clientWidth,g=this.clientHeight,n(2,v),n(3,g)}return e.$$set=y=>{"data"in y&&n(14,a=y.data)},e.$$.update=()=>{var y,C;if(e.$$.dirty&16384&&n(15,{bilateralData:o,locationData:u,productData:h,country1:c,country2:f,countryColorScale:d}=a,o,(n(16,u),n(14,a)),(n(17,h),n(14,a)),(n(0,c),n(14,a)),(n(1,f),n(14,a)),(n(11,d),n(14,a))),e.$$.dirty&229379&&n(10,i=Array.from((y=o==null?void 0:o.entries())!=null?y:new Array).map(w=>{var N,Y,Z;let L=w[0];return(Z=(Y=(N=w[1].get(c))==null?void 0:N.get(f))==null?void 0:Y.reduce((J,pe)=>(J.export_value+=pe.export_value,J.import_value+=pe.import_value,J),new gt(u,h,{location_id:c,partner_id:f,product_id:0,year:L,export_value:0,import_value:0})))!=null?Z:new gt(u,h,{location_id:c,partner_id:f,product_id:0,year:L,export_value:0,import_value:0})}).sort((w,L)=>w.year-L.year)),e.$$.dirty&1032&&n(8,r=tn().domain([0,(C=Pn(i,w=>Math.max(w.export_value,w.import_value)))!=null?C:0]).range([g-je,je+Uc])),e.$$.dirty&1028&&n(9,s=tn().domain(Kr(i,w=>w.year)).range([Hl,v-je])),e.$$.dirty&816){let w=$r(s).tickFormat(mt("d"));Ue(M).transition().call(w);let L=Rs(r).tickFormat(S=>k(S));Ue(T).transition().call(L)}if(e.$$.dirty&1856){let w=Jn();i.length>0&&w.moveTo(s(i[0].year),r(i[0].export_value)),i.forEach(L=>{w.lineTo(s(L.year),r(L.export_value))}),Ue(b).transition().attr("d",w.toString())}if(e.$$.dirty&1920){let w=Jn();i.length>0&&w.moveTo(s(i[0].year),r(i[0].import_value)),i.forEach(L=>{w.lineTo(s(L.year),r(L.import_value))}),Ue(p).transition().attr("d",w.toString())}},[c,f,v,g,M,T,b,p,r,s,i,d,l,A,a,o,u,h,O,P,x,E,V]}class Wc extends Ve{constructor(t){super(),Oe(this,t,Xc,jc,He,{data:14})}}function Kc(e,{delay:t=0,duration:n=400,easing:i=ps}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:i,css:s=>`opacity: ${s*r}`}}function xr(e,t,n){const i=e.slice();return i[17]=t[n],i[19]=n,i}function Zc(e){let t,n,i,r,s;return{c(){t=W("text"),n=ce("No valid data for this pair."),this.h()},l(l){t=K(l,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var a=D(t);n=he(a,"No valid data for this pair."),a.forEach(I),this.h()},h(){_(t,"x",i=e[2]/2),_(t,"y",r=e[7]/2),_(t,"alignment-baseline","central"),_(t,"text-anchor","middle")},m(l,a){B(l,t,a),H(t,n)},p(l,a){a&4&&i!==(i=l[2]/2)&&_(t,"x",i),a&128&&r!==(r=l[7]/2)&&_(t,"y",r)},i(l){s||Tt(()=>{s=vs(t,Kc,{}),s.start()})},o:ie,d(l){l&&I(t)}}}function Jc(e){var y,C;let t,n,i,r,s,l,a,o=((y=e[0])==null?void 0:y.name)+"",u,h,c,f=((C=e[1])==null?void 0:C.name)+"",d,v,g,k=[],M=new Map,T,b,p,A,O,P,x,E=e[8];const V=w=>w[17].product.name;for(let w=0;w<E.length;w+=1){let L=xr(e,E,w),S=V(L);M.set(S,k[w]=Pr(S,L))}return{c(){t=W("text"),n=ce(`Sector
      `),i=W("text"),r=ce(`Trade Flow
      `),l=W("text"),a=ce("From "),u=ce(o),h=W("text"),c=ce("From "),d=ce(f),g=W("g");for(let w=0;w<k.length;w+=1)k[w].c();T=W("line"),O=W("line"),x=W("g"),this.h()},l(w){t=K(w,"text",{"text-anchor":!0,class:!0,x:!0,y:!0,"alignment-baseline":!0});var L=D(t);n=he(L,`Sector
      `),L.forEach(I),i=K(w,"text",{"text-anchor":!0,class:!0,x:!0,y:!0,"alignment-baseline":!0});var S=D(i);r=he(S,`Trade Flow
      `),S.forEach(I),l=K(w,"text",{class:!0,x:!0,y:!0,"alignment-baseline":!0,"font-size":!0});var N=D(l);a=he(N,"From "),u=he(N,o),N.forEach(I),h=K(w,"text",{class:!0,x:!0,y:!0,"text-anchor":!0,"alignment-baseline":!0,"font-size":!0});var Y=D(h);c=he(Y,"From "),d=he(Y,f),Y.forEach(I),g=K(w,"g",{id:!0,transform:!0});var Z=D(g);for(let J=0;J<k.length;J+=1)k[J].l(Z);T=K(Z,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),D(T).forEach(I),O=K(Z,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),D(O).forEach(I),x=K(Z,"g",{id:!0}),D(x).forEach(I),Z.forEach(I),this.h()},h(){var w,L,S,N;_(t,"text-anchor","start"),_(t,"class","chart-header"),_(t,"x",15),_(t,"y",kt/2),_(t,"alignment-baseline","hanging"),_(i,"text-anchor","middle"),_(i,"class","chart-header"),_(i,"x",s=(e[2]-Ye)/2+Ye),_(i,"y",kt/2-7),_(i,"alignment-baseline","hanging"),_(l,"class","from-label"),_(l,"x",Ye+20),_(l,"y",kt/2-5),_(l,"alignment-baseline","hanging"),_(l,"font-size","13"),_(h,"class","from-label"),_(h,"x",v=e[2]-20),_(h,"y",kt/2-5),_(h,"text-anchor","end"),_(h,"alignment-baseline","hanging"),_(h,"font-size","13"),_(T,"id","midline"),_(T,"x1",b=e[4](0)),_(T,"y1",20),_(T,"x2",p=e[4](0)),_(T,"y2",A=(((L=(w=e[8])==null?void 0:w.length)!=null?L:0)+1)*_e),_(T,"stroke","rgba(0,0,0,0.7)"),_(T,"stroke-width","1"),_(O,"x1",Ye),_(O,"y1",0),_(O,"x2",Ye),_(O,"y2",P=(((N=(S=e[8])==null?void 0:S.length)!=null?N:0)+1)*_e),_(O,"stroke","rgba(0,0,0,0.1)"),_(O,"stroke-width","1"),_(x,"id","axis"),_(g,"id","bar-content"),_(g,"transform",`translate(${0},${kt})`)},m(w,L){B(w,t,L),H(t,n),B(w,i,L),H(i,r),B(w,l,L),H(l,a),H(l,u),B(w,h,L),H(h,c),H(h,d),B(w,g,L);for(let S=0;S<k.length;S+=1)k[S].m(g,null);H(g,T),H(g,O),H(g,x),e[13](x)},p(w,L){var S,N,Y,Z,J,pe;L&4&&s!==(s=(w[2]-Ye)/2+Ye)&&_(i,"x",s),L&1&&o!==(o=((S=w[0])==null?void 0:S.name)+"")&&Qe(u,o),L&2&&f!==(f=((N=w[1])==null?void 0:N.name)+"")&&Qe(d,f),L&4&&v!==(v=w[2]-20)&&_(h,"x",v),L&372&&(E=w[8],k=jt(k,L,V,1,w,E,M,g,Fn,Pr,T,xr)),L&16&&b!==(b=w[4](0))&&_(T,"x1",b),L&16&&p!==(p=w[4](0))&&_(T,"x2",p),L&256&&A!==(A=(((Z=(Y=w[8])==null?void 0:Y.length)!=null?Z:0)+1)*_e)&&_(T,"y2",A),L&256&&P!==(P=(((pe=(J=w[8])==null?void 0:J.length)!=null?pe:0)+1)*_e)&&_(O,"y2",P)},i:ie,o:ie,d(w){w&&I(t),w&&I(i),w&&I(l),w&&I(h),w&&I(g);for(let L=0;L<k.length;L+=1)k[L].d();e[13](null)}}}function Rr(e){let t,n;return{c(){t=W("rect"),this.h()},l(i){t=K(i,"rect",{x:!0,y:!0,height:!0,width:!0,fill:!0,class:!0}),D(t).forEach(I),this.h()},h(){_(t,"x","0"),_(t,"y",n=e[19]*_e+xe),_(t,"height",_e),_(t,"width",e[2]),_(t,"fill","rgba(0,0,0,0.04)"),_(t,"class","svelte-1ryw1vu")},m(i,r){B(i,t,r)},p(i,r){r&256&&n!==(n=i[19]*_e+xe)&&_(t,"y",n),r&4&&_(t,"width",i[2])},d(i){i&&I(t)}}}function Pr(e,t){let n,i,r,s,l,a=t[17].product.name+"",o,u,h,c,f,d,v,g,k,M,T,b,p=t[19]%2==0&&Rr(t);return{key:e,first:null,c(){n=W("g"),i=W("rect"),p&&p.c(),l=W("text"),o=ce(a),h=W("rect"),g=W("rect"),this.h()},l(A){n=K(A,"g",{});var O=D(n);i=K(O,"rect",{x:!0,y:!0,height:!0,width:!0,fill:!0,class:!0}),D(i).forEach(I),p&&p.l(O),l=K(O,"text",{class:!0,"alignment-baseline":!0,x:!0,y:!0});var P=D(l);o=he(P,a),P.forEach(I),h=K(O,"rect",{class:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),D(h).forEach(I),g=K(O,"rect",{class:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),D(g).forEach(I),O.forEach(I),this.h()},h(){_(i,"x","0"),_(i,"y",r=t[19]*_e+xe+2),_(i,"height",_e-4),_(i,"width","6"),_(i,"fill",s=t[5]?t[5](t[17].product.name):"white"),_(i,"class","svelte-1ryw1vu"),_(l,"class","product-text"),_(l,"alignment-baseline","hanging"),_(l,"x",10),_(l,"y",u=t[19]*_e+xe+5),_(h,"class","country1-bar svelte-1ryw1vu"),_(h,"x",c=t[4](-t[17].export_value)),_(h,"y",f=t[19]*_e+xe+ot/2),_(h,"height",_e-ot),_(h,"width",d=t[4](0)-t[4](-t[17].export_value)),_(h,"fill",v=t[6](t[17].location_id)),_(g,"class","country2-bar svelte-1ryw1vu"),_(g,"x",k=t[4](0)),_(g,"y",M=t[19]*_e+xe+ot/2),_(g,"height",_e-ot),_(g,"width",T=t[4](t[17].import_value)-t[4](0)),_(g,"fill",b=t[6](t[17].partner_id)),this.first=n},m(A,O){B(A,n,O),H(n,i),p&&p.m(n,null),H(n,l),H(l,o),H(n,h),H(n,g)},p(A,O){t=A,O&256&&r!==(r=t[19]*_e+xe+2)&&_(i,"y",r),O&288&&s!==(s=t[5]?t[5](t[17].product.name):"white")&&_(i,"fill",s),t[19]%2==0?p?p.p(t,O):(p=Rr(t),p.c(),p.m(n,l)):p&&(p.d(1),p=null),O&256&&a!==(a=t[17].product.name+"")&&Qe(o,a),O&256&&u!==(u=t[19]*_e+xe+5)&&_(l,"y",u),O&272&&c!==(c=t[4](-t[17].export_value))&&_(h,"x",c),O&256&&f!==(f=t[19]*_e+xe+ot/2)&&_(h,"y",f),O&272&&d!==(d=t[4](0)-t[4](-t[17].export_value))&&_(h,"width",d),O&320&&v!==(v=t[6](t[17].location_id))&&_(h,"fill",v),O&16&&k!==(k=t[4](0))&&_(g,"x",k),O&256&&M!==(M=t[19]*_e+xe+ot/2)&&_(g,"y",M),O&272&&T!==(T=t[4](t[17].import_value)-t[4](0))&&_(g,"width",T),O&320&&b!==(b=t[6](t[17].partner_id))&&_(g,"fill",b)},d(A){A&&I(n),p&&p.d()}}}function Qc(e){let t,n,i;function r(a,o){return a[8]&&a[8].length>0?Jc:Zc}let s=r(e),l=s(e);return{c(){t=j("div"),n=W("svg"),l.c(),this.h()},l(a){t=U(a,"DIV",{id:!0,class:!0});var o=D(t);n=K(o,"svg",{class:!0});var u=D(n);l.l(u),u.forEach(I),o.forEach(I),this.h()},h(){_(n,"class","svelte-1ryw1vu"),_(t,"id","bar-chart"),_(t,"class","viz-section svelte-1ryw1vu"),Tt(()=>e[14].call(t))},m(a,o){B(a,t,o),H(t,n),l.m(n,null),i=an(t,e[14].bind(t))},p(a,[o]){s===(s=r(a))&&l?l.p(a,o):(l.d(1),l=s(a),l&&(l.c(),q(l,1),l.m(n,null)))},i(a){q(l)},o:ie,d(a){a&&I(t),l.d(),i()}}}const kt=40,_e=30,Br=0,$c=10,xe=30,Ye=100,ot=4;function eh(e,t,n){let i,r,s,l,{data:a}=t,{bilateralDataForYear:o,productColorScale:u,countryColorScale:h,country1:c,country2:f}=a,d=800,v=500,g;const k=b=>mt("$.2s")(b).replace(/G/,"B");function M(b){Me[b?"unshift":"push"](()=>{g=b,n(3,g)})}function T(){d=this.clientWidth,v=this.clientHeight,n(2,d),n(7,v)}return e.$$set=b=>{"data"in b&&n(9,a=b.data)},e.$$.update=()=>{var b,p,A,O,P,x,E,V,y,C,w,L;if(e.$$.dirty&512&&n(10,{bilateralDataForYear:o,productColorScale:u,countryColorScale:h,country1:c,country2:f}=a,o,(n(5,u),n(9,a)),(n(6,h),n(9,a)),(n(0,c),n(9,a)),(n(1,f),n(9,a))),e.$$.dirty&1027&&n(8,i=(O=(A=o.get((b=c==null?void 0:c.id)!=null?b:0))==null?void 0:A.get((p=f==null?void 0:f.id)!=null?p:0))==null?void 0:O.filter(S=>S.product.level=="section")),e.$$.dirty&1027&&n(12,r=Pn((V=(E=o.get((P=c==null?void 0:c.id)!=null?P:0))==null?void 0:E.get((x=f==null?void 0:f.id)!=null?x:0))!=null?V:new Array,S=>S.export_value)),e.$$.dirty&1027&&n(11,s=Pn((L=(w=o.get((y=c==null?void 0:c.id)!=null?y:0))==null?void 0:w.get((C=f==null?void 0:f.id)!=null?C:0))!=null?L:new Array,S=>S.import_value)),e.$$.dirty&6144,e.$$.dirty&6148&&n(4,l=tn().domain([-r,s]).range([Ye+Br,d-Br-$c])),e.$$.dirty&24){let S=$r(l).tickFormat(N=>k(Math.abs(N)));Ue(g).transition().call(S)}},[c,f,d,g,l,u,h,v,i,a,o,s,r,M,T]}class th extends Ve{constructor(t){super(),Oe(this,t,eh,Qc,He,{data:9})}}function nh(e){let t,n,i,r;return{c(){t=j("div"),n=W("svg"),i=W("g"),this.h()},l(s){t=U(s,"DIV",{class:!0});var l=D(t);n=K(l,"svg",{class:!0});var a=D(n);i=K(a,"g",{class:!0}),D(i).forEach(I),a.forEach(I),l.forEach(I),this.h()},h(){_(i,"class","treemap"),_(n,"class","svelte-7clrht"),_(t,"class","viz-section"),Tt(()=>e[11].call(t))},m(s,l){B(s,t,l),H(t,n),H(n,i),e[10](i),r=an(t,e[11].bind(t))},p:ie,i:ie,o:ie,d(s){s&&I(t),e[10](null),r()}}}function ih(e,t,n){let i;const r=k=>mt("$.2s")(k).replace(/G/,"B");let{data:s}=t,{country1:l,country2:a,valueField:o,productColorScale:u,drilldownBilateralForYear:h}=s,c,f,d;function v(k){Me[k?"unshift":"push"](()=>{d=k,n(2,d)})}function g(){c=this.clientWidth,f=this.clientHeight,n(0,c),n(1,f)}return e.$$set=k=>{"data"in k&&n(3,s=k.data)},e.$$.update=()=>{var k,M,T,b;if(e.$$.dirty&8&&n(8,{drilldownBilateralForYear:h,valueField:o,productColorScale:u,country1:l,country2:a}=s,h,(n(6,o),n(3,s)),(n(7,u),n(3,s)),(n(4,l),n(3,s)),(n(5,a),n(3,s))),e.$$.dirty&304&&n(9,i=(b=(T=h==null?void 0:h.get((k=l==null?void 0:l.id)!=null?k:0))==null?void 0:T.get((M=a==null?void 0:a.id)!=null?M:0))!=null?b:null),e.$$.dirty&759&&i&&i.length>0){let p=new gt(new Map,new Map,{location_id:l,partner_id:a,product_id:-1,year:0,export_value:0,import_value:0});p.product=new ni({product_id:-1,name:"All",level:-1,parent_id:-1}),p.product.parent_id=null;let A=[p],O=Hn(i,P=>{var x,E;return(E=(x=P.product)==null?void 0:x.parent_id)!=null?E:-1});if(O.size>1){for(let[E,V]of O){let y=new gt(new Map,new Map,{location_id:l,partner_id:a,product_id:E,year:0,export_value:0,import_value:0});y.product=new ni({product_id:E,name:"Something",level:0,parent_id:-1}),A.push(y)}A=A.concat(i);let P=Qf().id(E=>{var V;return(V=E.product)==null?void 0:V.id}).parentId(E=>{var V;return(V=E.product)==null?void 0:V.parent_id})(A),x=P.leaves();P.sum(E=>Math.max(0,E[o])),ic().tile(Fl).size([c,f]).padding(2)(P),Ue(d).selectAll(".leaf").data(x).join("rect").attr("class","leaf").transition().attr("transform",E=>`translate(${E.x0},${E.y0})`).attr("width",E=>E.x1-E.x0).attr("height",E=>E.y1-E.y0).attr("fill",E=>{var V,y,C,w;return u?u((w=(C=(y=(V=E.data)==null?void 0:V.product)==null?void 0:y.parent)==null?void 0:C.name)!=null?w:""):"white"}),Ue(d).selectAll(".label").data(x.filter(E=>E.x1-E.x0>40&&E.y1-E.y0>10)).join("text").attr("class","label").transition().attr("transform",E=>`translate(${E.x0+3},${E.y0+3})`).attr("alignment-baseline","hanging").attr("fill","white").attr("font-size",E=>Math.max((E.x1-E.x0)/15,8)).text(E=>{var V,y,C;return(C=(y=(V=E.data)==null?void 0:V.product.name)==null?void 0:y.substring(0,40))!=null?C:""}),Ue(d).selectAll(".label-num").data(x.filter(E=>E.x1-E.x0>40&&E.y1-E.y0>30)).join("text").attr("class","label-num").transition().attr("transform",E=>`translate(${E.x0+5},${E.y0+1+Math.max((E.x1-E.x0)/10,8)})`).attr("alignment-baseline","hanging").attr("fill","white").attr("font-size",E=>Math.max((E.x1-E.x0)/15,8)-1).attr("font-weight",300).text(E=>{var V;return(V=r(E.data[o]))!=null?V:""})}}},[c,f,d,s,l,a,o,u,h,i,v,g]}class zr extends Ve{constructor(t){super(),Oe(this,t,ih,nh,He,{data:3})}}function rh(e){let t,n,i,r,s,l;return{c(){t=j("div"),n=j("h3"),i=ce("Loading data..."),r=ee(),s=W("svg"),l=W("circle"),this.h()},l(a){t=U(a,"DIV",{class:!0});var o=D(t);n=U(o,"H3",{});var u=D(n);i=he(u,"Loading data..."),u.forEach(I),r=te(o),s=K(o,"svg",{class:!0,viewBox:!0});var h=D(s);l=K(h,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0}),D(l).forEach(I),h.forEach(I),o.forEach(I),this.h()},h(){_(l,"class","path svelte-jcbfjt"),_(l,"cx","25"),_(l,"cy","25"),_(l,"r","20"),_(l,"fill","none"),_(l,"stroke-width","5"),_(s,"class","spinner svelte-jcbfjt"),_(s,"viewBox","0 0 50 50"),_(t,"class","loading svelte-jcbfjt")},m(a,o){B(a,t,o),H(t,n),H(n,i),H(t,r),H(t,s),H(s,l)},p:ie,i:ie,o:ie,d(a){a&&I(t)}}}function lh(e){var Z,J,pe,Ge;let t,n,i,r,s,l,a,o,u,h,c,f,d,v,g,k,M,T,b,p,A,O,P,x,E,V,y,C,w,L,S,N,Y;return u=new Fr({props:{optionIdentifier:qr,labelIdentifier:Gr,items:Array.from(e[0].values()),value:e[8]}}),u.$on("select",e[9]),g=new Fr({props:{optionIdentifier:qr,labelIdentifier:Gr,items:Array.from(e[0].values()),value:e[7]}}),g.$on("select",e[10]),E=new Wc({props:{data:{bilateralData:e[2],country1:(J=(Z=e[8])==null?void 0:Z.id)!=null?J:0,country2:(Ge=(pe=e[7])==null?void 0:pe.id)!=null?Ge:0,productData:e[1],locationData:e[0],countryColorScale:e[3]}}}),y=new th({props:{data:{productColorScale:e[4],country1:e[8],country2:e[7],bilateralDataForYear:e[6],countryColorScale:e[3]}}}),L=new zr({props:{data:{productColorScale:e[4],country1:e[8],country2:e[7],drilldownBilateralForYear:e[5],valueField:"export_value"}}}),N=new zr({props:{data:{productColorScale:e[4],country1:e[8],country2:e[7],drilldownBilateralForYear:e[5],valueField:"import_value"}}}),{c(){t=j("div"),n=j("div"),r=ee(),s=j("div"),l=j("span"),a=ce("Country 1"),o=ee(),re(u.$$.fragment),h=ee(),c=j("div"),f=j("span"),d=ce("Country 2"),v=ee(),re(g.$$.fragment),k=ee(),M=j("div"),b=ee(),p=j("div"),A=ee(),O=j("div"),P=j("div"),x=j("div"),re(E.$$.fragment),V=ee(),re(y.$$.fragment),C=ee(),w=j("div"),re(L.$$.fragment),S=ee(),re(N.$$.fragment),this.h()},l(R){t=U(R,"DIV",{class:!0});var Q=D(t);n=U(Q,"DIV",{class:!0,style:!0}),D(n).forEach(I),r=te(Q),s=U(Q,"DIV",{class:!0});var de=D(s);l=U(de,"SPAN",{class:!0});var ye=D(l);a=he(ye,"Country 1"),ye.forEach(I),o=te(de),be(u.$$.fragment,de),de.forEach(I),h=te(Q),c=U(Q,"DIV",{class:!0});var Ie=D(c);f=U(Ie,"SPAN",{class:!0});var Se=D(f);d=he(Se,"Country 2"),Se.forEach(I),v=te(Ie),be(g.$$.fragment,Ie),Ie.forEach(I),k=te(Q),M=U(Q,"DIV",{class:!0,style:!0}),D(M).forEach(I),Q.forEach(I),b=te(R),p=U(R,"DIV",{class:!0});var F=D(p);F.forEach(I),A=te(R),O=U(R,"DIV",{id:!0,class:!0});var G=D(O);P=U(G,"DIV",{id:!0,class:!0});var oe=D(P);x=U(oe,"DIV",{class:!0});var Ae=D(x);be(E.$$.fragment,Ae),V=te(Ae),be(y.$$.fragment,Ae),Ae.forEach(I),C=te(oe),w=U(oe,"DIV",{class:!0});var Te=D(w);be(L.$$.fragment,Te),S=te(Te),be(N.$$.fragment,Te),Te.forEach(I),oe.forEach(I),G.forEach(I),this.h()},h(){var R,Q,de,ye;_(n,"class","country-icon svelte-jcbfjt"),_(n,"style",i=`background:${e[3]((Q=(R=e[8])==null?void 0:R.id)!=null?Q:0)}`),_(l,"class","svelte-jcbfjt"),_(s,"class","dropdown svelte-jcbfjt"),_(f,"class","svelte-jcbfjt"),_(c,"class","dropdown svelte-jcbfjt"),_(M,"class","country-icon svelte-jcbfjt"),_(M,"style",T=`background:${e[3]?e[3]((ye=(de=e[7])==null?void 0:de.id)!=null?ye:0):"white"}`),_(t,"class","selectors svelte-jcbfjt"),_(p,"class","svelte-jcbfjt"),_(x,"class","viz-row svelte-jcbfjt"),_(w,"class","viz-row svelte-jcbfjt"),_(P,"id","content"),_(P,"class","svelte-jcbfjt"),_(O,"id","container"),_(O,"class","svelte-jcbfjt")},m(R,Q){B(R,t,Q),H(t,n),H(t,r),H(t,s),H(s,l),H(l,a),H(s,o),le(u,s,null),H(t,h),H(t,c),H(c,f),H(f,d),H(c,v),le(g,c,null),H(t,k),H(t,M),B(R,b,Q),B(R,p,Q),B(R,A,Q),B(R,O,Q),H(O,P),H(P,x),le(E,x,null),H(x,V),le(y,x,null),H(P,C),H(P,w),le(L,w,null),H(w,S),le(N,w,null),Y=!0},p(R,Q){var oe,Ae,Te,nt,Xe,it,rt,pt;(!Y||Q&264&&i!==(i=`background:${R[3]((Ae=(oe=R[8])==null?void 0:oe.id)!=null?Ae:0)}`))&&_(n,"style",i);const de={};Q&1&&(de.items=Array.from(R[0].values())),Q&256&&(de.value=R[8]),u.$set(de);const ye={};Q&1&&(ye.items=Array.from(R[0].values())),Q&128&&(ye.value=R[7]),g.$set(ye),(!Y||Q&136&&T!==(T=`background:${R[3]?R[3]((nt=(Te=R[7])==null?void 0:Te.id)!=null?nt:0):"white"}`))&&_(M,"style",T);const Ie={};Q&399&&(Ie.data={bilateralData:R[2],country1:(it=(Xe=R[8])==null?void 0:Xe.id)!=null?it:0,country2:(pt=(rt=R[7])==null?void 0:rt.id)!=null?pt:0,productData:R[1],locationData:R[0],countryColorScale:R[3]}),E.$set(Ie);const Se={};Q&472&&(Se.data={productColorScale:R[4],country1:R[8],country2:R[7],bilateralDataForYear:R[6],countryColorScale:R[3]}),y.$set(Se);const F={};Q&432&&(F.data={productColorScale:R[4],country1:R[8],country2:R[7],drilldownBilateralForYear:R[5],valueField:"export_value"}),L.$set(F);const G={};Q&432&&(G.data={productColorScale:R[4],country1:R[8],country2:R[7],drilldownBilateralForYear:R[5],valueField:"import_value"}),N.$set(G)},i(R){Y||(q(u.$$.fragment,R),q(g.$$.fragment,R),q(E.$$.fragment,R),q(y.$$.fragment,R),q(L.$$.fragment,R),q(N.$$.fragment,R),Y=!0)},o(R){X(u.$$.fragment,R),X(g.$$.fragment,R),X(E.$$.fragment,R),X(y.$$.fragment,R),X(L.$$.fragment,R),X(N.$$.fragment,R),Y=!1},d(R){R&&I(t),se(u),se(g),R&&I(b),R&&I(p),R&&I(A),R&&I(O),se(E),se(y),se(L),se(N)}}}function sh(e){let t,n,i,r,s,l,a,o,u,h,c;const f=[lh,rh],d=[];function v(g,k){return g[0]&&g[2]&&g[1]&&g[3]?0:1}return o=v(e),u=d[o]=f[o](e),{c(){t=j("div"),n=j("h1"),i=ce("Bilateral Trade Data"),r=ee(),s=j("h2"),l=ce("Visualization by Andrew Lee and Franklin Yuan"),a=ee(),u.c(),h=ae(),this.h()},l(g){t=U(g,"DIV",{class:!0});var k=D(t);n=U(k,"H1",{class:!0});var M=D(n);i=he(M,"Bilateral Trade Data"),M.forEach(I),r=te(k),s=U(k,"H2",{class:!0});var T=D(s);l=he(T,"Visualization by Andrew Lee and Franklin Yuan"),T.forEach(I),k.forEach(I),a=te(g),u.l(g),h=ae(),this.h()},h(){_(n,"class","svelte-jcbfjt"),_(s,"class","svelte-jcbfjt"),_(t,"class","heading svelte-jcbfjt")},m(g,k){B(g,t,k),H(t,n),H(n,i),H(t,r),H(t,s),H(s,l),B(g,a,k),d[o].m(g,k),B(g,h,k),c=!0},p(g,[k]){let M=o;o=v(g),o===M?d[o].p(g,k):(me(),X(d[M],1,1,()=>{d[M]=null}),ge(),u=d[o],u?u.p(g,k):(u=d[o]=f[o](g),u.c()),q(u,1),u.m(h.parentNode,h))},i(g){c||(q(u),c=!0)},o(g){X(u),c=!1},d(g){g&&I(t),g&&I(a),d[o].d(g),g&&I(h)}}}const qr="id",Gr="name",ah=231,oh=43;function uh(e,t,n){let i,r,s,l;Ur(e,ti,g=>n(11,l=g));const a=g=>{let k=g.detail;n(8,i=u.get(k.id))},o=g=>{let k=g.detail;n(7,r=u.get(k.id))};let u=new Map,h,c,f=new Map,d,v;return sn(async()=>{Promise.all([Rt(`${Ot}/data/location.csv`),Rt(`${Ot}/data/hs_product.csv`),Rt(`${Ot}/data/hs_2010_to_2020.csv`)]).then(([g,k,M])=>{var T;n(0,u=Oi(g.map(b=>new mc(b)).filter(b=>b.level=="country"),b=>b.id)),n(1,f=Oi(k.map(b=>new ni(b)),b=>b.id));for(let[b,p]of f)p.parent=(T=f.get(p.parent_id))!=null?T:null,f.set(b,p);n(2,d=Hn(M.map(b=>new gt(u,f,b)),b=>b.year,b=>b.location_id,b=>b.partner_id)),Kr(M,b=>+b.export_value),n(3,h=$n(u.keys(),or)),n(4,c=$n(Array.from(f).map(([b,p])=>p.level).filter(b=>b=="section"),or))})}),e.$$.update=()=>{var g,k,M;e.$$.dirty&1&&n(8,i=(g=u==null?void 0:u.get(ah))!=null?g:null),e.$$.dirty&1&&n(7,r=(k=u==null?void 0:u.get(oh))!=null?k:null),e.$$.dirty&2052&&n(6,s=(M=d==null?void 0:d.get(l))!=null?M:new Map),e.$$.dirty&2051&&Rt(`${Ot}/data/hs2_${l.toString()}.csv`).then(T=>{n(5,v=Hn(T.map(b=>new gt(u,f,b)),b=>b.location_id,b=>b.partner_id))})},[u,f,d,h,c,v,s,r,i,a,o,l]}class dh extends Ve{constructor(t){super(),Oe(this,t,uh,sh,He,{})}}export{dh as default};
