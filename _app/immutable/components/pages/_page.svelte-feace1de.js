var cs=Object.defineProperty;var hs=(e,t,n)=>t in e?cs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var he=(e,t,n)=>(hs(e,typeof t!="symbol"?t+"":t,n),n);import{S as Fe,i as Ve,s as Oe,k as X,l as W,m as V,h as b,n as _,b as z,B as se,I as Ne,J as ce,g as me,t as K,d as ge,f as x,K as an,L as ri,o as on,M as Jr,N as Me,e as ne,O as li,v as pe,w as ae,x as be,y as oe,z as ue,q as re,r as le,G as F,u as Be,A as qt,a as ee,c as te,P as U,Q as Y,p as st,R as Fn,T as Tt,U as un,V as Mt,W as ds,C as _s,D as ms,E as gs,F as ps,X as si,Y as Ti,Z as Di,_ as ai,$ as Qr,a0 as vs,a1 as Fi,a2 as ys,a3 as ws,a4 as bs,H as oi,a5 as $r,a6 as Yt,a7 as ks,a8 as Is,a9 as Ss}from"../../chunks/index-dec2a072.js";import{w as Es,b as Ot}from"../../chunks/paths-f8804f37.js";function Gt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ms(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function el(e){let t,n,i;e.length!==2?(t=Gt,n=(a,o)=>Gt(e(a),o),i=(a,o)=>e(a)-o):(t=e===Gt||e===Ms?e:As,n=e,i=e);function r(a,o,u=0,h=a.length){if(u<h){if(t(o,o)!==0)return h;do{const c=u+h>>>1;n(a[c],o)<0?u=c+1:h=c}while(u<h)}return u}function s(a,o,u=0,h=a.length){if(u<h){if(t(o,o)!==0)return h;do{const c=u+h>>>1;n(a[c],o)<=0?u=c+1:h=c}while(u<h)}return u}function l(a,o,u=0,h=a.length){const c=r(a,o,u,h-1);return c>u&&i(a[c-1],o)>-i(a[c],o)?c-1:c}return{left:r,center:l,right:s}}function As(){return 0}function Cs(e){return e===null?NaN:+e}const Ns=el(Gt),Ls=Ns.right;el(Cs).center;const Ts=Ls;function tl(e,t){let n,i;if(t===void 0)for(const r of e)r!=null&&(n===void 0?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(n===void 0?s>=s&&(n=i=s):(n>s&&(n=s),i<s&&(i=s)))}return[n,i]}class Vn extends Map{constructor(t,n=Vs){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(Vi(this,t))}has(t){return super.has(Vi(this,t))}set(t,n){return super.set(Ds(this,t),n)}delete(t){return super.delete(Fs(this,t))}}function Vi({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function Ds({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function Fs({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function Vs(e){return e!==null&&typeof e=="object"?e.valueOf():e}function On(e){return e}function Hn(e,...t){return nl(e,On,On,t)}function Oi(e,...t){return nl(e,On,Os,t)}function Os(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function nl(e,t,n,i){return function r(s,l){if(l>=i.length)return n(s);const a=new Vn,o=i[l++];let u=-1;for(const h of s){const c=o(h,++u,s),f=a.get(c);f?f.push(h):a.set(c,[h])}for(const[h,c]of a)a.set(h,r(c,l));return t(a)}(e,0)}var Rn=Math.sqrt(50),Pn=Math.sqrt(10),Bn=Math.sqrt(2);function Hs(e,t,n){var i,r=-1,s,l,a;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((i=t<e)&&(s=e,e=t,t=s),(a=il(e,t,n))===0||!isFinite(a))return[];if(a>0){let o=Math.round(e/a),u=Math.round(t/a);for(o*a<e&&++o,u*a>t&&--u,l=new Array(s=u-o+1);++r<s;)l[r]=(o+r)*a}else{a=-a;let o=Math.round(e*a),u=Math.round(t*a);for(o/a<e&&++o,u/a>t&&--u,l=new Array(s=u-o+1);++r<s;)l[r]=(o+r)/a}return i&&l.reverse(),l}function il(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,r);return r>=0?(s>=Rn?10:s>=Pn?5:s>=Bn?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=Rn?10:s>=Pn?5:s>=Bn?2:1)}function Rs(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/r;return s>=Rn?r*=10:s>=Pn?r*=5:s>=Bn&&(r*=2),t<e?-r:r}function zn(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function Ps(e){return e}var Sn=1,En=2,qn=3,kt=4,Hi=1e-6;function Bs(e){return"translate("+e+",0)"}function zs(e){return"translate(0,"+e+")"}function qs(e){return t=>+e(t)}function Gs(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function xs(){return!this.__axis}function rl(e,t){var n=[],i=null,r=null,s=6,l=6,a=3,o=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Sn||e===kt?-1:1,h=e===kt||e===En?"x":"y",c=e===Sn||e===qn?Bs:zs;function f(d){var v=i==null?t.ticks?t.ticks.apply(t,n):t.domain():i,p=r==null?t.tickFormat?t.tickFormat.apply(t,n):Ps:r,w=Math.max(s,0)+a,E=t.range(),N=+E[0]+o,M=+E[E.length-1]+o,m=(t.bandwidth?Gs:qs)(t.copy(),o),I=d.selection?d.selection():d,T=I.selectAll(".domain").data([null]),P=I.selectAll(".tick").data(v,t).order(),H=P.exit(),B=P.enter().append("g").attr("class","tick"),D=P.select("line"),y=P.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(B),D=D.merge(B.append("line").attr("stroke","currentColor").attr(h+"2",u*s)),y=y.merge(B.append("text").attr("fill","currentColor").attr(h,u*w).attr("dy",e===Sn?"0em":e===qn?"0.71em":"0.32em")),d!==I&&(T=T.transition(d),P=P.transition(d),D=D.transition(d),y=y.transition(d),H=H.transition(d).attr("opacity",Hi).attr("transform",function(k){return isFinite(k=m(k))?c(k+o):this.getAttribute("transform")}),B.attr("opacity",Hi).attr("transform",function(k){var S=this.parentNode.__axis;return c((S&&isFinite(S=S(k))?S:m(k))+o)})),H.remove(),T.attr("d",e===kt||e===En?l?"M"+u*l+","+N+"H"+o+"V"+M+"H"+u*l:"M"+o+","+N+"V"+M:l?"M"+N+","+u*l+"V"+o+"H"+M+"V"+u*l:"M"+N+","+o+"H"+M),P.attr("opacity",1).attr("transform",function(k){return c(m(k)+o)}),D.attr(h+"2",u*s),y.attr(h,u*w).text(p),I.filter(xs).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===En?"start":e===kt?"end":"middle"),I.each(function(){this.__axis=m})}return f.scale=function(d){return arguments.length?(t=d,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),f):n.slice()},f.tickValues=function(d){return arguments.length?(i=d==null?null:Array.from(d),f):i&&i.slice()},f.tickFormat=function(d){return arguments.length?(r=d,f):r},f.tickSize=function(d){return arguments.length?(s=l=+d,f):s},f.tickSizeInner=function(d){return arguments.length?(s=+d,f):s},f.tickSizeOuter=function(d){return arguments.length?(l=+d,f):l},f.tickPadding=function(d){return arguments.length?(a=+d,f):a},f.offset=function(d){return arguments.length?(o=+d,f):o},f}function ll(e){return rl(qn,e)}function js(e){return rl(kt,e)}var Us={value:()=>{}};function sl(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new xt(n)}function xt(e){this._=e}function Ys(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}xt.prototype=sl.prototype={constructor:xt,on:function(e,t){var n=this._,i=Ys(e+"",n),r,s=-1,l=i.length;if(arguments.length<2){for(;++s<l;)if((r=(e=i[s]).type)&&(r=Xs(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<l;)if(r=(e=i[s]).type)n[r]=Ri(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Ri(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new xt(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,s;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,r=s.length;i<r;++i)s[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)}};function Xs(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function Ri(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=Us,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var Gn="http://www.w3.org/1999/xhtml";const Pi={svg:"http://www.w3.org/2000/svg",xhtml:Gn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Pi.hasOwnProperty(t)?{space:Pi[t],local:e}:e}function Ws(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Gn&&t.documentElement.namespaceURI===Gn?t.createElement(e):t.createElementNS(n,e)}}function Ks(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function al(e){var t=fn(e);return(t.local?Ks:Ws)(t)}function Zs(){}function ui(e){return e==null?Zs:function(){return this.querySelector(e)}}function Js(e){typeof e!="function"&&(e=ui(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],l=s.length,a=i[r]=new Array(l),o,u,h=0;h<l;++h)(o=s[h])&&(u=e.call(o,o.__data__,h,s))&&("__data__"in o&&(u.__data__=o.__data__),a[h]=u);return new Ae(i,this._parents)}function Qs(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function $s(){return[]}function ol(e){return e==null?$s:function(){return this.querySelectorAll(e)}}function ea(e){return function(){return Qs(e.apply(this,arguments))}}function ta(e){typeof e=="function"?e=ea(e):e=ol(e);for(var t=this._groups,n=t.length,i=[],r=[],s=0;s<n;++s)for(var l=t[s],a=l.length,o,u=0;u<a;++u)(o=l[u])&&(i.push(e.call(o,o.__data__,u,l)),r.push(o));return new Ae(i,r)}function ul(e){return function(){return this.matches(e)}}function fl(e){return function(t){return t.matches(e)}}var na=Array.prototype.find;function ia(e){return function(){return na.call(this.children,e)}}function ra(){return this.firstElementChild}function la(e){return this.select(e==null?ra:ia(typeof e=="function"?e:fl(e)))}var sa=Array.prototype.filter;function aa(){return Array.from(this.children)}function oa(e){return function(){return sa.call(this.children,e)}}function ua(e){return this.selectAll(e==null?aa:oa(typeof e=="function"?e:fl(e)))}function fa(e){typeof e!="function"&&(e=ul(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],l=s.length,a=i[r]=[],o,u=0;u<l;++u)(o=s[u])&&e.call(o,o.__data__,u,s)&&a.push(o);return new Ae(i,this._parents)}function cl(e){return new Array(e.length)}function ca(){return new Ae(this._enter||this._groups.map(cl),this._parents)}function Xt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Xt.prototype={constructor:Xt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ha(e){return function(){return e}}function da(e,t,n,i,r,s){for(var l=0,a,o=t.length,u=s.length;l<u;++l)(a=t[l])?(a.__data__=s[l],i[l]=a):n[l]=new Xt(e,s[l]);for(;l<o;++l)(a=t[l])&&(r[l]=a)}function _a(e,t,n,i,r,s,l){var a,o,u=new Map,h=t.length,c=s.length,f=new Array(h),d;for(a=0;a<h;++a)(o=t[a])&&(f[a]=d=l.call(o,o.__data__,a,t)+"",u.has(d)?r[a]=o:u.set(d,o));for(a=0;a<c;++a)d=l.call(e,s[a],a,s)+"",(o=u.get(d))?(i[a]=o,o.__data__=s[a],u.delete(d)):n[a]=new Xt(e,s[a]);for(a=0;a<h;++a)(o=t[a])&&u.get(f[a])===o&&(r[a]=o)}function ma(e){return e.__data__}function ga(e,t){if(!arguments.length)return Array.from(this,ma);var n=t?_a:da,i=this._parents,r=this._groups;typeof e!="function"&&(e=ha(e));for(var s=r.length,l=new Array(s),a=new Array(s),o=new Array(s),u=0;u<s;++u){var h=i[u],c=r[u],f=c.length,d=pa(e.call(h,h&&h.__data__,u,i)),v=d.length,p=a[u]=new Array(v),w=l[u]=new Array(v),E=o[u]=new Array(f);n(h,c,p,w,E,d,t);for(var N=0,M=0,m,I;N<v;++N)if(m=p[N]){for(N>=M&&(M=N+1);!(I=w[M])&&++M<v;);m._next=I||null}}return l=new Ae(l,i),l._enter=a,l._exit=o,l}function pa(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function va(){return new Ae(this._exit||this._groups.map(cl),this._parents)}function ya(e,t,n){var i=this.enter(),r=this,s=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),i&&r?i.merge(r).order():r}function wa(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,s=i.length,l=Math.min(r,s),a=new Array(r),o=0;o<l;++o)for(var u=n[o],h=i[o],c=u.length,f=a[o]=new Array(c),d,v=0;v<c;++v)(d=u[v]||h[v])&&(f[v]=d);for(;o<r;++o)a[o]=n[o];return new Ae(a,this._parents)}function ba(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,s=i[r],l;--r>=0;)(l=i[r])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function ka(e){e||(e=Ia);function t(c,f){return c&&f?e(c.__data__,f.__data__):!c-!f}for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var l=n[s],a=l.length,o=r[s]=new Array(a),u,h=0;h<a;++h)(u=l[h])&&(o[h]=u);o.sort(t)}return new Ae(r,this._parents).order()}function Ia(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Sa(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ea(){return Array.from(this)}function Ma(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length;r<s;++r){var l=i[r];if(l)return l}return null}function Aa(){let e=0;for(const t of this)++e;return e}function Ca(){return!this.node()}function Na(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],s=0,l=r.length,a;s<l;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this}function La(e){return function(){this.removeAttribute(e)}}function Ta(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Da(e,t){return function(){this.setAttribute(e,t)}}function Fa(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Va(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Oa(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ha(e,t){var n=fn(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Ta:La:typeof t=="function"?n.local?Oa:Va:n.local?Fa:Da)(n,t))}function hl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ra(e){return function(){this.style.removeProperty(e)}}function Pa(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ba(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function za(e,t,n){return arguments.length>1?this.each((t==null?Ra:typeof t=="function"?Ba:Pa)(e,t,n==null?"":n)):ct(this.node(),e)}function ct(e,t){return e.style.getPropertyValue(t)||hl(e).getComputedStyle(e,null).getPropertyValue(t)}function qa(e){return function(){delete this[e]}}function Ga(e,t){return function(){this[e]=t}}function xa(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function ja(e,t){return arguments.length>1?this.each((t==null?qa:typeof t=="function"?xa:Ga)(e,t)):this.node()[e]}function dl(e){return e.trim().split(/^|\s+/)}function fi(e){return e.classList||new _l(e)}function _l(e){this._node=e,this._names=dl(e.getAttribute("class")||"")}_l.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ml(e,t){for(var n=fi(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function gl(e,t){for(var n=fi(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function Ua(e){return function(){ml(this,e)}}function Ya(e){return function(){gl(this,e)}}function Xa(e,t){return function(){(t.apply(this,arguments)?ml:gl)(this,e)}}function Wa(e,t){var n=dl(e+"");if(arguments.length<2){for(var i=fi(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?Xa:t?Ua:Ya)(n,t))}function Ka(){this.textContent=""}function Za(e){return function(){this.textContent=e}}function Ja(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Qa(e){return arguments.length?this.each(e==null?Ka:(typeof e=="function"?Ja:Za)(e)):this.node().textContent}function $a(){this.innerHTML=""}function eo(e){return function(){this.innerHTML=e}}function to(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function no(e){return arguments.length?this.each(e==null?$a:(typeof e=="function"?to:eo)(e)):this.node().innerHTML}function io(){this.nextSibling&&this.parentNode.appendChild(this)}function ro(){return this.each(io)}function lo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function so(){return this.each(lo)}function ao(e){var t=typeof e=="function"?e:al(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function oo(){return null}function uo(e,t){var n=typeof e=="function"?e:al(e),i=t==null?oo:typeof t=="function"?t:ui(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function fo(){var e=this.parentNode;e&&e.removeChild(this)}function co(){return this.each(fo)}function ho(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _o(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mo(e){return this.select(e?_o:ho)}function go(e){return arguments.length?this.property("__data__",e):this.node().__data__}function po(e){return function(t){e.call(this,t,this.__data__)}}function vo(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function yo(e){return function(){var t=this.__on;if(!!t){for(var n=0,i=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++i]=s;++i?t.length=i:delete this.__on}}}function wo(e,t,n){return function(){var i=this.__on,r,s=po(t);if(i){for(var l=0,a=i.length;l<a;++l)if((r=i[l]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},i?i.push(r):this.__on=[r]}}function bo(e,t,n){var i=vo(e+""),r,s=i.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var o=0,u=a.length,h;o<u;++o)for(r=0,h=a[o];r<s;++r)if((l=i[r]).type===h.type&&l.name===h.name)return h.value}return}for(a=t?wo:yo,r=0;r<s;++r)this.each(a(i[r],t,n));return this}function pl(e,t,n){var i=hl(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function ko(e,t){return function(){return pl(this,e,t)}}function Io(e,t){return function(){return pl(this,e,t.apply(this,arguments))}}function So(e,t){return this.each((typeof t=="function"?Io:ko)(e,t))}function*Eo(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length,l;r<s;++r)(l=i[r])&&(yield l)}var vl=[null];function Ae(e,t){this._groups=e,this._parents=t}function Dt(){return new Ae([[document.documentElement]],vl)}function Mo(){return this}Ae.prototype=Dt.prototype={constructor:Ae,select:Js,selectAll:ta,selectChild:la,selectChildren:ua,filter:fa,data:ga,enter:ca,exit:va,join:ya,merge:wa,selection:Mo,order:ba,sort:ka,call:Sa,nodes:Ea,node:Ma,size:Aa,empty:Ca,each:Na,attr:Ha,style:za,property:ja,classed:Wa,text:Qa,html:no,raise:ro,lower:so,append:ao,insert:uo,remove:co,clone:mo,datum:go,on:bo,dispatch:So,[Symbol.iterator]:Eo};function It(e){return typeof e=="string"?new Ae([[document.querySelector(e)]],[document.documentElement]):new Ae([[e]],vl)}function ci(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yl(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Ft(){}var At=.7,Wt=1/At,ft="\\s*([+-]?\\d+)\\s*",Ct="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ao=/^#([0-9a-f]{3,8})$/,Co=new RegExp(`^rgb\\(${ft},${ft},${ft}\\)$`),No=new RegExp(`^rgb\\(${Pe},${Pe},${Pe}\\)$`),Lo=new RegExp(`^rgba\\(${ft},${ft},${ft},${Ct}\\)$`),To=new RegExp(`^rgba\\(${Pe},${Pe},${Pe},${Ct}\\)$`),Do=new RegExp(`^hsl\\(${Ct},${Pe},${Pe}\\)$`),Fo=new RegExp(`^hsla\\(${Ct},${Pe},${Pe},${Ct}\\)$`),Bi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ci(Ft,Qe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zi,formatHex:zi,formatHex8:Vo,formatHsl:Oo,formatRgb:qi,toString:qi});function zi(){return this.rgb().formatHex()}function Vo(){return this.rgb().formatHex8()}function Oo(){return wl(this).formatHsl()}function qi(){return this.rgb().formatRgb()}function Qe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Ao.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Gi(t):n===3?new ke(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ht(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ht(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Co.exec(e))?new ke(t[1],t[2],t[3],1):(t=No.exec(e))?new ke(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Lo.exec(e))?Ht(t[1],t[2],t[3],t[4]):(t=To.exec(e))?Ht(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Do.exec(e))?Ui(t[1],t[2]/100,t[3]/100,1):(t=Fo.exec(e))?Ui(t[1],t[2]/100,t[3]/100,t[4]):Bi.hasOwnProperty(e)?Gi(Bi[e]):e==="transparent"?new ke(NaN,NaN,NaN,0):null}function Gi(e){return new ke(e>>16&255,e>>8&255,e&255,1)}function Ht(e,t,n,i){return i<=0&&(e=t=n=NaN),new ke(e,t,n,i)}function Ho(e){return e instanceof Ft||(e=Qe(e)),e?(e=e.rgb(),new ke(e.r,e.g,e.b,e.opacity)):new ke}function xn(e,t,n,i){return arguments.length===1?Ho(e):new ke(e,t,n,i==null?1:i)}function ke(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}ci(ke,xn,yl(Ft,{brighter(e){return e=e==null?Wt:Math.pow(Wt,e),new ke(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?At:Math.pow(At,e),new ke(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ke(Je(this.r),Je(this.g),Je(this.b),Kt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xi,formatHex:xi,formatHex8:Ro,formatRgb:ji,toString:ji}));function xi(){return`#${Ze(this.r)}${Ze(this.g)}${Ze(this.b)}`}function Ro(){return`#${Ze(this.r)}${Ze(this.g)}${Ze(this.b)}${Ze((isNaN(this.opacity)?1:this.opacity)*255)}`}function ji(){const e=Kt(this.opacity);return`${e===1?"rgb(":"rgba("}${Je(this.r)}, ${Je(this.g)}, ${Je(this.b)}${e===1?")":`, ${e})`}`}function Kt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Je(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ze(e){return e=Je(e),(e<16?"0":"")+e.toString(16)}function Ui(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new De(e,t,n,i)}function wl(e){if(e instanceof De)return new De(e.h,e.s,e.l,e.opacity);if(e instanceof Ft||(e=Qe(e)),!e)return new De;if(e instanceof De)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),s=Math.max(t,n,i),l=NaN,a=s-r,o=(s+r)/2;return a?(t===s?l=(n-i)/a+(n<i)*6:n===s?l=(i-t)/a+2:l=(t-n)/a+4,a/=o<.5?s+r:2-s-r,l*=60):a=o>0&&o<1?0:l,new De(l,a,o,e.opacity)}function Po(e,t,n,i){return arguments.length===1?wl(e):new De(e,t,n,i==null?1:i)}function De(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}ci(De,Po,yl(Ft,{brighter(e){return e=e==null?Wt:Math.pow(Wt,e),new De(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?At:Math.pow(At,e),new De(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new ke(Mn(e>=240?e-240:e+120,r,i),Mn(e,r,i),Mn(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new De(Yi(this.h),Rt(this.s),Rt(this.l),Kt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kt(this.opacity);return`${e===1?"hsl(":"hsla("}${Yi(this.h)}, ${Rt(this.s)*100}%, ${Rt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Yi(e){return e=(e||0)%360,e<0?e+360:e}function Rt(e){return Math.max(0,Math.min(1,e||0))}function Mn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const hi=e=>()=>e;function Bo(e,t){return function(n){return e+n*t}}function zo(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function qo(e){return(e=+e)==1?bl:function(t,n){return n-t?zo(t,n,e):hi(isNaN(t)?n:t)}}function bl(e,t){var n=t-e;return n?Bo(e,n):hi(isNaN(e)?t:e)}const Zt=function e(t){var n=qo(t);function i(r,s){var l=n((r=xn(r)).r,(s=xn(s)).r),a=n(r.g,s.g),o=n(r.b,s.b),u=bl(r.opacity,s.opacity);return function(h){return r.r=l(h),r.g=a(h),r.b=o(h),r.opacity=u(h),r+""}}return i.gamma=e,i}(1);function Go(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(s){for(r=0;r<n;++r)i[r]=e[r]*(1-s)+t[r]*s;return i}}function xo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jo(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),s=new Array(n),l;for(l=0;l<i;++l)r[l]=di(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(a){for(l=0;l<i;++l)s[l]=r[l](a);return s}}function Uo(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Te(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Yo(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=di(e[r],t[r]):i[r]=t[r];return function(s){for(r in n)i[r]=n[r](s);return i}}var jn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,An=new RegExp(jn.source,"g");function Xo(e){return function(){return e}}function Wo(e){return function(t){return e(t)+""}}function kl(e,t){var n=jn.lastIndex=An.lastIndex=0,i,r,s,l=-1,a=[],o=[];for(e=e+"",t=t+"";(i=jn.exec(e))&&(r=An.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[l]?a[l]+=s:a[++l]=s),(i=i[0])===(r=r[0])?a[l]?a[l]+=r:a[++l]=r:(a[++l]=null,o.push({i:l,x:Te(i,r)})),n=An.lastIndex;return n<t.length&&(s=t.slice(n),a[l]?a[l]+=s:a[++l]=s),a.length<2?o[0]?Wo(o[0].x):Xo(t):(t=o.length,function(u){for(var h=0,c;h<t;++h)a[(c=o[h]).i]=c.x(u);return a.join("")})}function di(e,t){var n=typeof t,i;return t==null||n==="boolean"?hi(t):(n==="number"?Te:n==="string"?(i=Qe(t))?(t=i,Zt):kl:t instanceof Qe?Zt:t instanceof Date?Uo:xo(t)?Go:Array.isArray(t)?jo:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Yo:Te)(e,t)}function Ko(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Xi=180/Math.PI,Un={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Il(e,t,n,i,r,s){var l,a,o;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(o=e*n+t*i)&&(n-=e*o,i-=t*o),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,o/=a),e*i<t*n&&(e=-e,t=-t,o=-o,l=-l),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*Xi,skewX:Math.atan(o)*Xi,scaleX:l,scaleY:a}}var Pt;function Zo(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Un:Il(t.a,t.b,t.c,t.d,t.e,t.f)}function Jo(e){return e==null||(Pt||(Pt=document.createElementNS("http://www.w3.org/2000/svg","g")),Pt.setAttribute("transform",e),!(e=Pt.transform.baseVal.consolidate()))?Un:(e=e.matrix,Il(e.a,e.b,e.c,e.d,e.e,e.f))}function Sl(e,t,n,i){function r(u){return u.length?u.pop()+" ":""}function s(u,h,c,f,d,v){if(u!==c||h!==f){var p=d.push("translate(",null,t,null,n);v.push({i:p-4,x:Te(u,c)},{i:p-2,x:Te(h,f)})}else(c||f)&&d.push("translate("+c+t+f+n)}function l(u,h,c,f){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),f.push({i:c.push(r(c)+"rotate(",null,i)-2,x:Te(u,h)})):h&&c.push(r(c)+"rotate("+h+i)}function a(u,h,c,f){u!==h?f.push({i:c.push(r(c)+"skewX(",null,i)-2,x:Te(u,h)}):h&&c.push(r(c)+"skewX("+h+i)}function o(u,h,c,f,d,v){if(u!==c||h!==f){var p=d.push(r(d)+"scale(",null,",",null,")");v.push({i:p-4,x:Te(u,c)},{i:p-2,x:Te(h,f)})}else(c!==1||f!==1)&&d.push(r(d)+"scale("+c+","+f+")")}return function(u,h){var c=[],f=[];return u=e(u),h=e(h),s(u.translateX,u.translateY,h.translateX,h.translateY,c,f),l(u.rotate,h.rotate,c,f),a(u.skewX,h.skewX,c,f),o(u.scaleX,u.scaleY,h.scaleX,h.scaleY,c,f),u=h=null,function(d){for(var v=-1,p=f.length,w;++v<p;)c[(w=f[v]).i]=w.x(d);return c.join("")}}}var Qo=Sl(Zo,"px, ","px)","deg)"),$o=Sl(Jo,", ",")",")"),ht=0,St=0,pt=0,El=1e3,Jt,Et,Qt=0,$e=0,cn=0,Nt=typeof performance=="object"&&performance.now?performance:Date,Ml=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function _i(){return $e||(Ml(eu),$e=Nt.now()+cn)}function eu(){$e=0}function $t(){this._call=this._time=this._next=null}$t.prototype=Al.prototype={constructor:$t,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?_i():+n)+(t==null?0:+t),!this._next&&Et!==this&&(Et?Et._next=this:Jt=this,Et=this),this._call=e,this._time=n,Yn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yn())}};function Al(e,t,n){var i=new $t;return i.restart(e,t,n),i}function tu(){_i(),++ht;for(var e=Jt,t;e;)(t=$e-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ht}function Wi(){$e=(Qt=Nt.now())+cn,ht=St=0;try{tu()}finally{ht=0,iu(),$e=0}}function nu(){var e=Nt.now(),t=e-Qt;t>El&&(cn-=t,Qt=e)}function iu(){for(var e,t=Jt,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Jt=n);Et=e,Yn(i)}function Yn(e){if(!ht){St&&(St=clearTimeout(St));var t=e-$e;t>24?(e<1/0&&(St=setTimeout(Wi,e-Nt.now()-cn)),pt&&(pt=clearInterval(pt))):(pt||(Qt=Nt.now(),pt=setInterval(nu,El)),ht=1,Ml(Wi))}}function Ki(e,t,n){var i=new $t;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var ru=sl("start","end","cancel","interrupt"),lu=[],Cl=0,Zi=1,Xn=2,jt=3,Ji=4,Wn=5,Ut=6;function hn(e,t,n,i,r,s){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;su(e,n,{name:t,index:i,group:r,on:ru,tween:lu,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Cl})}function mi(e,t){var n=He(e,t);if(n.state>Cl)throw new Error("too late; already scheduled");return n}function ze(e,t){var n=He(e,t);if(n.state>jt)throw new Error("too late; already running");return n}function He(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function su(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=Al(s,0,n.time);function s(u){n.state=Zi,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var h,c,f,d;if(n.state!==Zi)return o();for(h in i)if(d=i[h],d.name===n.name){if(d.state===jt)return Ki(l);d.state===Ji?(d.state=Ut,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[h]):+h<t&&(d.state=Ut,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[h])}if(Ki(function(){n.state===jt&&(n.state=Ji,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Xn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Xn){for(n.state=jt,r=new Array(f=n.tween.length),h=0,c=-1;h<f;++h)(d=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function a(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(o),n.state=Wn,1),c=-1,f=r.length;++c<f;)r[c].call(e,h);n.state===Wn&&(n.on.call("end",e,e.__data__,n.index,n.group),o())}function o(){n.state=Ut,n.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function au(e,t){var n=e.__transition,i,r,s=!0,l;if(!!n){t=t==null?null:t+"";for(l in n){if((i=n[l]).name!==t){s=!1;continue}r=i.state>Xn&&i.state<Wn,i.state=Ut,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[l]}s&&delete e.__transition}}function ou(e){return this.each(function(){au(this,e)})}function uu(e,t){var n,i;return function(){var r=ze(this,e),s=r.tween;if(s!==n){i=n=s;for(var l=0,a=i.length;l<a;++l)if(i[l].name===t){i=i.slice(),i.splice(l,1);break}}r.tween=i}}function fu(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var s=ze(this,e),l=s.tween;if(l!==i){r=(i=l).slice();for(var a={name:t,value:n},o=0,u=r.length;o<u;++o)if(r[o].name===t){r[o]=a;break}o===u&&r.push(a)}s.tween=r}}function cu(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=He(this.node(),n).tween,r=0,s=i.length,l;r<s;++r)if((l=i[r]).name===e)return l.value;return null}return this.each((t==null?uu:fu)(n,e,t))}function gi(e,t,n){var i=e._id;return e.each(function(){var r=ze(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return He(r,i).value[t]}}function Nl(e,t){var n;return(typeof t=="number"?Te:t instanceof Qe?Zt:(n=Qe(t))?(t=n,Zt):kl)(e,t)}function hu(e){return function(){this.removeAttribute(e)}}function du(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _u(e,t,n){var i,r=n+"",s;return function(){var l=this.getAttribute(e);return l===r?null:l===i?s:s=t(i=l,n)}}function mu(e,t,n){var i,r=n+"",s;return function(){var l=this.getAttributeNS(e.space,e.local);return l===r?null:l===i?s:s=t(i=l,n)}}function gu(e,t,n){var i,r,s;return function(){var l,a=n(this),o;return a==null?void this.removeAttribute(e):(l=this.getAttribute(e),o=a+"",l===o?null:l===i&&o===r?s:(r=o,s=t(i=l,a)))}}function pu(e,t,n){var i,r,s;return function(){var l,a=n(this),o;return a==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),o=a+"",l===o?null:l===i&&o===r?s:(r=o,s=t(i=l,a)))}}function vu(e,t){var n=fn(e),i=n==="transform"?$o:Nl;return this.attrTween(e,typeof t=="function"?(n.local?pu:gu)(n,i,gi(this,"attr."+e,t)):t==null?(n.local?du:hu)(n):(n.local?mu:_u)(n,i,t))}function yu(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function wu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function bu(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&wu(e,s)),n}return r._value=t,r}function ku(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&yu(e,s)),n}return r._value=t,r}function Iu(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=fn(e);return this.tween(n,(i.local?bu:ku)(i,t))}function Su(e,t){return function(){mi(this,e).delay=+t.apply(this,arguments)}}function Eu(e,t){return t=+t,function(){mi(this,e).delay=t}}function Mu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Su:Eu)(t,e)):He(this.node(),t).delay}function Au(e,t){return function(){ze(this,e).duration=+t.apply(this,arguments)}}function Cu(e,t){return t=+t,function(){ze(this,e).duration=t}}function Nu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Au:Cu)(t,e)):He(this.node(),t).duration}function Lu(e,t){if(typeof t!="function")throw new Error;return function(){ze(this,e).ease=t}}function Tu(e){var t=this._id;return arguments.length?this.each(Lu(t,e)):He(this.node(),t).ease}function Du(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ze(this,e).ease=n}}function Fu(e){if(typeof e!="function")throw new Error;return this.each(Du(this._id,e))}function Vu(e){typeof e!="function"&&(e=ul(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],l=s.length,a=i[r]=[],o,u=0;u<l;++u)(o=s[u])&&e.call(o,o.__data__,u,s)&&a.push(o);return new xe(i,this._parents,this._name,this._id)}function Ou(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,s=Math.min(i,r),l=new Array(i),a=0;a<s;++a)for(var o=t[a],u=n[a],h=o.length,c=l[a]=new Array(h),f,d=0;d<h;++d)(f=o[d]||u[d])&&(c[d]=f);for(;a<i;++a)l[a]=t[a];return new xe(l,this._parents,this._name,this._id)}function Hu(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Ru(e,t,n){var i,r,s=Hu(t)?mi:ze;return function(){var l=s(this,e),a=l.on;a!==i&&(r=(i=a).copy()).on(t,n),l.on=r}}function Pu(e,t){var n=this._id;return arguments.length<2?He(this.node(),n).on.on(e):this.each(Ru(n,e,t))}function Bu(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function zu(){return this.on("end.remove",Bu(this._id))}function qu(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ui(e));for(var i=this._groups,r=i.length,s=new Array(r),l=0;l<r;++l)for(var a=i[l],o=a.length,u=s[l]=new Array(o),h,c,f=0;f<o;++f)(h=a[f])&&(c=e.call(h,h.__data__,f,a))&&("__data__"in h&&(c.__data__=h.__data__),u[f]=c,hn(u[f],t,n,f,u,He(h,n)));return new xe(s,this._parents,t,n)}function Gu(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ol(e));for(var i=this._groups,r=i.length,s=[],l=[],a=0;a<r;++a)for(var o=i[a],u=o.length,h,c=0;c<u;++c)if(h=o[c]){for(var f=e.call(h,h.__data__,c,o),d,v=He(h,n),p=0,w=f.length;p<w;++p)(d=f[p])&&hn(d,t,n,p,f,v);s.push(f),l.push(h)}return new xe(s,l,t,n)}var xu=Dt.prototype.constructor;function ju(){return new xu(this._groups,this._parents)}function Uu(e,t){var n,i,r;return function(){var s=ct(this,e),l=(this.style.removeProperty(e),ct(this,e));return s===l?null:s===n&&l===i?r:r=t(n=s,i=l)}}function Ll(e){return function(){this.style.removeProperty(e)}}function Yu(e,t,n){var i,r=n+"",s;return function(){var l=ct(this,e);return l===r?null:l===i?s:s=t(i=l,n)}}function Xu(e,t,n){var i,r,s;return function(){var l=ct(this,e),a=n(this),o=a+"";return a==null&&(o=a=(this.style.removeProperty(e),ct(this,e))),l===o?null:l===i&&o===r?s:(r=o,s=t(i=l,a))}}function Wu(e,t){var n,i,r,s="style."+t,l="end."+s,a;return function(){var o=ze(this,e),u=o.on,h=o.value[s]==null?a||(a=Ll(t)):void 0;(u!==n||r!==h)&&(i=(n=u).copy()).on(l,r=h),o.on=i}}function Ku(e,t,n){var i=(e+="")=="transform"?Qo:Nl;return t==null?this.styleTween(e,Uu(e,i)).on("end.style."+e,Ll(e)):typeof t=="function"?this.styleTween(e,Xu(e,i,gi(this,"style."+e,t))).each(Wu(this._id,e)):this.styleTween(e,Yu(e,i,t),n).on("end.style."+e,null)}function Zu(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Ju(e,t,n){var i,r;function s(){var l=t.apply(this,arguments);return l!==r&&(i=(r=l)&&Zu(e,l,n)),i}return s._value=t,s}function Qu(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,Ju(e,t,n==null?"":n))}function $u(e){return function(){this.textContent=e}}function ef(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function tf(e){return this.tween("text",typeof e=="function"?ef(gi(this,"text",e)):$u(e==null?"":e+""))}function nf(e){return function(t){this.textContent=e.call(this,t)}}function rf(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&nf(r)),t}return i._value=e,i}function lf(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,rf(e))}function sf(){for(var e=this._name,t=this._id,n=Tl(),i=this._groups,r=i.length,s=0;s<r;++s)for(var l=i[s],a=l.length,o,u=0;u<a;++u)if(o=l[u]){var h=He(o,t);hn(o,e,n,u,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new xe(i,this._parents,e,n)}function af(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(s,l){var a={value:l},o={value:function(){--r===0&&s()}};n.each(function(){var u=ze(this,i),h=u.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(o)),u.on=t}),r===0&&s()})}var of=0;function xe(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Tl(){return++of}var Ge=Dt.prototype;xe.prototype={constructor:xe,select:qu,selectAll:Gu,selectChild:Ge.selectChild,selectChildren:Ge.selectChildren,filter:Vu,merge:Ou,selection:ju,transition:sf,call:Ge.call,nodes:Ge.nodes,node:Ge.node,size:Ge.size,empty:Ge.empty,each:Ge.each,on:Pu,attr:vu,attrTween:Iu,style:Ku,styleTween:Qu,text:tf,textTween:lf,remove:zu,tween:cu,delay:Mu,duration:Nu,ease:Tu,easeVarying:Fu,end:af,[Symbol.iterator]:Ge[Symbol.iterator]};function uf(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ff={time:null,delay:0,duration:250,ease:uf};function cf(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function hf(e){var t,n;e instanceof xe?(t=e._id,e=e._name):(t=Tl(),(n=ff).time=_i(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var l=i[s],a=l.length,o,u=0;u<a;++u)(o=l[u])&&hn(o,e,t,u,l,n||cf(o,t));return new xe(i,this._parents,e,t)}Dt.prototype.interrupt=ou;Dt.prototype.transition=hf;const Kn=Math.PI,Zn=2*Kn,Ke=1e-6,df=Zn-Ke;function Jn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Qn(){return new Jn}Jn.prototype=Qn.prototype={constructor:Jn,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,s){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+s)},arcTo:function(e,t,n,i,r){e=+e,t=+t,n=+n,i=+i,r=+r;var s=this._x1,l=this._y1,a=n-e,o=i-t,u=s-e,h=l-t,c=u*u+h*h;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(c>Ke)if(!(Math.abs(h*a-o*u)>Ke)||!r)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=n-s,d=i-l,v=a*a+o*o,p=f*f+d*d,w=Math.sqrt(v),E=Math.sqrt(c),N=r*Math.tan((Kn-Math.acos((v+c-p)/(2*w*E)))/2),M=N/E,m=N/w;Math.abs(M-1)>Ke&&(this._+="L"+(e+M*u)+","+(t+M*h)),this._+="A"+r+","+r+",0,0,"+ +(h*f>u*d)+","+(this._x1=e+m*a)+","+(this._y1=t+m*o)}},arc:function(e,t,n,i,r,s){e=+e,t=+t,n=+n,s=!!s;var l=n*Math.cos(i),a=n*Math.sin(i),o=e+l,u=t+a,h=1^s,c=s?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+o+","+u:(Math.abs(this._x1-o)>Ke||Math.abs(this._y1-u)>Ke)&&(this._+="L"+o+","+u),n&&(c<0&&(c=c%Zn+Zn),c>df?this._+="A"+n+","+n+",0,1,"+h+","+(e-l)+","+(t-a)+"A"+n+","+n+",0,1,"+h+","+(this._x1=o)+","+(this._y1=u):c>Ke&&(this._+="A"+n+","+n+",0,"+ +(c>=Kn)+","+h+","+(this._x1=e+n*Math.cos(r))+","+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Qi={},Cn={},Nn=34,vt=10,Ln=13;function Dl(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function _f(e,t){var n=Dl(e);return function(i,r){return t(n(i),r,e)}}function $i(e){var t=Object.create(null),n=[];return e.forEach(function(i){for(var r in i)r in t||n.push(t[r]=r)}),n}function we(e,t){var n=e+"",i=n.length;return i<t?new Array(t-i+1).join(0)+n:n}function mf(e){return e<0?"-"+we(-e,6):e>9999?"+"+we(e,6):we(e,4)}function gf(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),i=e.getUTCSeconds(),r=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":mf(e.getUTCFullYear())+"-"+we(e.getUTCMonth()+1,2)+"-"+we(e.getUTCDate(),2)+(r?"T"+we(t,2)+":"+we(n,2)+":"+we(i,2)+"."+we(r,3)+"Z":i?"T"+we(t,2)+":"+we(n,2)+":"+we(i,2)+"Z":n||t?"T"+we(t,2)+":"+we(n,2)+"Z":"")}function pf(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function i(c,f){var d,v,p=r(c,function(w,E){if(d)return d(w,E-1);v=w,d=f?_f(w,f):Dl(w)});return p.columns=v||[],p}function r(c,f){var d=[],v=c.length,p=0,w=0,E,N=v<=0,M=!1;c.charCodeAt(v-1)===vt&&--v,c.charCodeAt(v-1)===Ln&&--v;function m(){if(N)return Cn;if(M)return M=!1,Qi;var T,P=p,H;if(c.charCodeAt(P)===Nn){for(;p++<v&&c.charCodeAt(p)!==Nn||c.charCodeAt(++p)===Nn;);return(T=p)>=v?N=!0:(H=c.charCodeAt(p++))===vt?M=!0:H===Ln&&(M=!0,c.charCodeAt(p)===vt&&++p),c.slice(P+1,T-1).replace(/""/g,'"')}for(;p<v;){if((H=c.charCodeAt(T=p++))===vt)M=!0;else if(H===Ln)M=!0,c.charCodeAt(p)===vt&&++p;else if(H!==n)continue;return c.slice(P,T)}return N=!0,c.slice(P,v)}for(;(E=m())!==Cn;){for(var I=[];E!==Qi&&E!==Cn;)I.push(E),E=m();f&&(I=f(I,w++))==null||d.push(I)}return d}function s(c,f){return c.map(function(d){return f.map(function(v){return h(d[v])}).join(e)})}function l(c,f){return f==null&&(f=$i(c)),[f.map(h).join(e)].concat(s(c,f)).join(`
`)}function a(c,f){return f==null&&(f=$i(c)),s(c,f).join(`
`)}function o(c){return c.map(u).join(`
`)}function u(c){return c.map(h).join(e)}function h(c){return c==null?"":c instanceof Date?gf(c):t.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:i,parseRows:r,format:l,formatBody:a,formatRows:o,formatRow:u,formatValue:h}}var vf=pf(","),yf=vf.parse;function wf(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function bf(e,t){return fetch(e,t).then(wf)}function kf(e){return function(t,n,i){return arguments.length===2&&typeof n=="function"&&(i=n,n=void 0),bf(t,n).then(function(r){return e(r,i)})}}var Bt=kf(yf);function If(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function en(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function dt(e){return e=en(Math.abs(e)),e?e[1]:NaN}function Sf(e,t){return function(n,i){for(var r=n.length,s=[],l=0,a=e[0],o=0;r>0&&a>0&&(o+a+1>i&&(a=Math.max(1,i-o)),s.push(n.substring(r-=a,r+a)),!((o+=a+1)>i));)a=e[l=(l+1)%e.length];return s.reverse().join(t)}}function Ef(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Mf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tn(e){if(!(t=Mf.exec(e)))throw new Error("invalid format: "+e);var t;return new pi({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tn.prototype=pi.prototype;function pi(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Af(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var Fl;function Cf(e,t){var n=en(e,t);if(!n)return e+"";var i=n[0],r=n[1],s=r-(Fl=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=i.length;return s===l?i:s>l?i+new Array(s-l+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+en(e,Math.max(0,t+s-1))[0]}function er(e,t){var n=en(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const tr={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:If,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>er(e*100,t),r:er,s:Cf,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nr(e){return e}var ir=Array.prototype.map,rr=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Nf(e){var t=e.grouping===void 0||e.thousands===void 0?nr:Sf(ir.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?nr:Ef(ir.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",o=e.nan===void 0?"NaN":e.nan+"";function u(c){c=tn(c);var f=c.fill,d=c.align,v=c.sign,p=c.symbol,w=c.zero,E=c.width,N=c.comma,M=c.precision,m=c.trim,I=c.type;I==="n"?(N=!0,I="g"):tr[I]||(M===void 0&&(M=12),m=!0,I="g"),(w||f==="0"&&d==="=")&&(w=!0,f="0",d="=");var T=p==="$"?n:p==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",P=p==="$"?i:/[%p]/.test(I)?l:"",H=tr[I],B=/[defgprs%]/.test(I);M=M===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function D(y){var k=T,S=P,O,A,C;if(I==="c")S=H(y)+S,y="";else{y=+y;var G=y<0||1/y<0;if(y=isNaN(y)?o:H(Math.abs(y),M),m&&(y=Af(y)),G&&+y==0&&v!=="+"&&(G=!1),k=(G?v==="("?v:a:v==="-"||v==="("?"":v)+k,S=(I==="s"?rr[8+Fl/3]:"")+S+(G&&v==="("?")":""),B){for(O=-1,A=y.length;++O<A;)if(C=y.charCodeAt(O),48>C||C>57){S=(C===46?r+y.slice(O+1):y.slice(O))+S,y=y.slice(0,O);break}}}N&&!w&&(y=t(y,1/0));var J=k.length+y.length+S.length,Q=J<E?new Array(E-J+1).join(f):"";switch(N&&w&&(y=t(Q+y,Q.length?E-S.length:1/0),Q=""),d){case"<":y=k+y+S+Q;break;case"=":y=k+Q+y+S;break;case"^":y=Q.slice(0,J=Q.length>>1)+k+y+S+Q.slice(J);break;default:y=Q+k+y+S;break}return s(y)}return D.toString=function(){return c+""},D}function h(c,f){var d=u((c=tn(c),c.type="f",c)),v=Math.max(-8,Math.min(8,Math.floor(dt(f)/3)))*3,p=Math.pow(10,-v),w=rr[8+v/3];return function(E){return d(p*E)+w}}return{format:u,formatPrefix:h}}var zt,_t,Vl;Lf({thousands:",",grouping:[3],currency:["$",""]});function Lf(e){return zt=Nf(e),_t=zt.format,Vl=zt.formatPrefix,zt}function Tf(e){return Math.max(0,-dt(Math.abs(e)))}function Df(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dt(t)/3)))*3-dt(Math.abs(e)))}function Ff(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dt(t)-dt(e))+1}function Vf(e){var t=0,n=e.children,i=n&&n.length;if(!i)t=1;else for(;--i>=0;)t+=n[i].value;e.value=t}function Of(){return this.eachAfter(Vf)}function Hf(e,t){let n=-1;for(const i of this)e.call(t,i,++n,this);return this}function Rf(e,t){for(var n=this,i=[n],r,s,l=-1;n=i.pop();)if(e.call(t,n,++l,this),r=n.children)for(s=r.length-1;s>=0;--s)i.push(r[s]);return this}function Pf(e,t){for(var n=this,i=[n],r=[],s,l,a,o=-1;n=i.pop();)if(r.push(n),s=n.children)for(l=0,a=s.length;l<a;++l)i.push(s[l]);for(;n=r.pop();)e.call(t,n,++o,this);return this}function Bf(e,t){let n=-1;for(const i of this)if(e.call(t,i,++n,this))return i}function zf(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,i=t.children,r=i&&i.length;--r>=0;)n+=i[r].value;t.value=n})}function qf(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Gf(e){for(var t=this,n=xf(t,e),i=[t];t!==n;)t=t.parent,i.push(t);for(var r=i.length;e!==n;)i.splice(r,0,e),e=e.parent;return i}function xf(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),r=null;for(e=n.pop(),t=i.pop();e===t;)r=e,e=n.pop(),t=i.pop();return r}function jf(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Uf(){return Array.from(this)}function Yf(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Xf(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Wf(){var e=this,t,n=[e],i,r,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,i=e.children)for(r=0,s=i.length;r<s;++r)n.push(i[r]);while(n.length)}function Ol(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Jf)):t===void 0&&(t=Zf);for(var n=new Lt(e),i,r=[n],s,l,a,o;i=r.pop();)if((l=t(i.data))&&(o=(l=Array.from(l)).length))for(i.children=l,a=o-1;a>=0;--a)r.push(s=l[a]=new Lt(l[a])),s.parent=i,s.depth=i.depth+1;return n.eachBefore(Hl)}function Kf(){return Ol(this).eachBefore(Qf)}function Zf(e){return e.children}function Jf(e){return Array.isArray(e)?e[1]:null}function Qf(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Hl(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Lt(e){this.data=e,this.depth=this.height=0,this.parent=null}Lt.prototype=Ol.prototype={constructor:Lt,count:Of,each:Hf,eachAfter:Pf,eachBefore:Rf,find:Bf,sum:zf,sort:qf,path:Gf,ancestors:jf,descendants:Uf,leaves:Yf,links:Xf,copy:Kf,[Symbol.iterator]:Wf};function Tn(e){return e==null?null:Rl(e)}function Rl(e){if(typeof e!="function")throw new Error;return e}function yt(){return 0}function wt(e){return function(){return e}}function $f(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function ec(e,t,n,i,r){for(var s=e.children,l,a=-1,o=s.length,u=e.value&&(i-t)/e.value;++a<o;)l=s[a],l.y0=n,l.y1=r,l.x0=t,l.x1=t+=l.value*u}var tc={depth:-1},lr={},Dn={};function nc(e){return e.id}function ic(e){return e.parentId}function rc(){var e=nc,t=ic,n;function i(r){var s=Array.from(r),l=e,a=t,o,u,h,c,f,d,v,p,w=new Map;if(n!=null){const E=s.map((m,I)=>lc(n(m,I,r))),N=E.map(sr),M=new Set(E).add("");for(const m of N)M.has(m)||(M.add(m),E.push(m),N.push(sr(m)),s.push(Dn));l=(m,I)=>E[I],a=(m,I)=>N[I]}for(h=0,o=s.length;h<o;++h)u=s[h],d=s[h]=new Lt(u),(v=l(u,h,r))!=null&&(v+="")&&(p=d.id=v,w.set(p,w.has(p)?lr:d)),(v=a(u,h,r))!=null&&(v+="")&&(d.parent=v);for(h=0;h<o;++h)if(d=s[h],v=d.parent){if(f=w.get(v),!f)throw new Error("missing: "+v);if(f===lr)throw new Error("ambiguous: "+v);f.children?f.children.push(d):f.children=[d],d.parent=f}else{if(c)throw new Error("multiple roots");c=d}if(!c)throw new Error("no root");if(n!=null){for(;c.data===Dn&&c.children.length===1;)c=c.children[0],--o;for(let E=s.length-1;E>=0&&(d=s[E],d.data===Dn);--E)d.data=null}if(c.parent=tc,c.eachBefore(function(E){E.depth=E.parent.depth+1,--o}).eachBefore(Hl),c.parent=null,o>0)throw new Error("cycle");return c}return i.id=function(r){return arguments.length?(e=Tn(r),i):e},i.parentId=function(r){return arguments.length?(t=Tn(r),i):t},i.path=function(r){return arguments.length?(n=Tn(r),i):n},i}function lc(e){e=`${e}`;let t=e.length;return $n(e,t-1)&&!$n(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function sr(e){let t=e.length;if(t<2)return"";for(;--t>1&&!$n(e,t););return e.slice(0,t)}function $n(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function sc(e,t,n,i,r){for(var s=e.children,l,a=-1,o=s.length,u=e.value&&(r-n)/e.value;++a<o;)l=s[a],l.x0=t,l.x1=i,l.y0=n,l.y1=n+=l.value*u}var ac=(1+Math.sqrt(5))/2;function oc(e,t,n,i,r,s){for(var l=[],a=t.children,o,u,h=0,c=0,f=a.length,d,v,p=t.value,w,E,N,M,m,I,T;h<f;){d=r-n,v=s-i;do w=a[c++].value;while(!w&&c<f);for(E=N=w,I=Math.max(v/d,d/v)/(p*e),T=w*w*I,m=Math.max(N/T,T/E);c<f;++c){if(w+=u=a[c].value,u<E&&(E=u),u>N&&(N=u),T=w*w*I,M=Math.max(N/T,T/E),M>m){w-=u;break}m=M}l.push(o={value:w,dice:d<v,children:a.slice(h,c)}),o.dice?ec(o,n,i,r,p?i+=v*w/p:s):sc(o,n,i,p?n+=d*w/p:r,s),p-=w,h=c}return l}const uc=function e(t){function n(i,r,s,l,a){oc(t,i,r,s,l,a)}return n.ratio=function(i){return e((i=+i)>1?i:1)},n}(ac);function fc(){var e=uc,t=!1,n=1,i=1,r=[0],s=yt,l=yt,a=yt,o=yt,u=yt;function h(f){return f.x0=f.y0=0,f.x1=n,f.y1=i,f.eachBefore(c),r=[0],t&&f.eachBefore($f),f}function c(f){var d=r[f.depth],v=f.x0+d,p=f.y0+d,w=f.x1-d,E=f.y1-d;w<v&&(v=w=(v+w)/2),E<p&&(p=E=(p+E)/2),f.x0=v,f.y0=p,f.x1=w,f.y1=E,f.children&&(d=r[f.depth+1]=s(f)/2,v+=u(f)-d,p+=l(f)-d,w-=a(f)-d,E-=o(f)-d,w<v&&(v=w=(v+w)/2),E<p&&(p=E=(p+E)/2),e(f,v,p,w,E))}return h.round=function(f){return arguments.length?(t=!!f,h):t},h.size=function(f){return arguments.length?(n=+f[0],i=+f[1],h):[n,i]},h.tile=function(f){return arguments.length?(e=Rl(f),h):e},h.padding=function(f){return arguments.length?h.paddingInner(f).paddingOuter(f):h.paddingInner()},h.paddingInner=function(f){return arguments.length?(s=typeof f=="function"?f:wt(+f),h):s},h.paddingOuter=function(f){return arguments.length?h.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):h.paddingTop()},h.paddingTop=function(f){return arguments.length?(l=typeof f=="function"?f:wt(+f),h):l},h.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:wt(+f),h):a},h.paddingBottom=function(f){return arguments.length?(o=typeof f=="function"?f:wt(+f),h):o},h.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:wt(+f),h):u},h}function cc(e,t,n,i,r){var s=e.children,l,a=s.length,o,u=new Array(a+1);for(u[0]=o=l=0;l<a;++l)u[l+1]=o+=s[l].value;h(0,a,e.value,t,n,i,r);function h(c,f,d,v,p,w,E){if(c>=f-1){var N=s[c];N.x0=v,N.y0=p,N.x1=w,N.y1=E;return}for(var M=u[c],m=d/2+M,I=c+1,T=f-1;I<T;){var P=I+T>>>1;u[P]<m?I=P+1:T=P}m-u[I-1]<u[I]-m&&c+1<I&&--I;var H=u[I]-M,B=d-H;if(w-v>E-p){var D=d?(v*B+w*H)/d:w;h(c,I,H,v,p,D,E),h(I,f,B,D,p,w,E)}else{var y=d?(p*B+E*H)/d:E;h(c,I,H,v,p,w,y),h(I,f,B,v,y,w,E)}}}function Pl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const ar=Symbol("implicit");function ei(){var e=new Vn,t=[],n=[],i=ar;function r(s){let l=e.get(s);if(l===void 0){if(i!==ar)return i;e.set(s,l=t.push(s)-1)}return n[l%n.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Vn;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return r},r.range=function(s){return arguments.length?(n=Array.from(s),r):n.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return ei(t,n).unknown(i)},Pl.apply(r,arguments),r}function hc(e){return function(){return e}}function dc(e){return+e}var or=[0,1];function ot(e){return e}function ti(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:hc(isNaN(t)?NaN:.5)}function _c(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function mc(e,t,n){var i=e[0],r=e[1],s=t[0],l=t[1];return r<i?(i=ti(r,i),s=n(l,s)):(i=ti(i,r),s=n(s,l)),function(a){return s(i(a))}}function gc(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),s=new Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<i;)r[l]=ti(e[l],e[l+1]),s[l]=n(t[l],t[l+1]);return function(a){var o=Ts(e,a,1,i)-1;return s[o](r[o](a))}}function pc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vc(){var e=or,t=or,n=di,i,r,s,l=ot,a,o,u;function h(){var f=Math.min(e.length,t.length);return l!==ot&&(l=_c(e[0],e[f-1])),a=f>2?gc:mc,o=u=null,c}function c(f){return f==null||isNaN(f=+f)?s:(o||(o=a(e.map(i),t,n)))(i(l(f)))}return c.invert=function(f){return l(r((u||(u=a(t,e.map(i),Te)))(f)))},c.domain=function(f){return arguments.length?(e=Array.from(f,dc),h()):e.slice()},c.range=function(f){return arguments.length?(t=Array.from(f),h()):t.slice()},c.rangeRound=function(f){return t=Array.from(f),n=Ko,h()},c.clamp=function(f){return arguments.length?(l=f?!0:ot,h()):l!==ot},c.interpolate=function(f){return arguments.length?(n=f,h()):n},c.unknown=function(f){return arguments.length?(s=f,c):s},function(f,d){return i=f,r=d,h()}}function yc(){return vc()(ot,ot)}function wc(e,t,n,i){var r=Rs(e,t,n),s;switch(i=tn(i==null?",f":i),i.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(s=Df(r,l))&&(i.precision=s),Vl(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=Ff(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=Tf(r))&&(i.precision=s-(i.type==="%")*2);break}}return _t(i)}function bc(e){var t=e.domain;return e.ticks=function(n){var i=t();return Hs(i[0],i[i.length-1],n==null?10:n)},e.tickFormat=function(n,i){var r=t();return wc(r[0],r[r.length-1],n==null?10:n,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,s=i.length-1,l=i[r],a=i[s],o,u,h=10;for(a<l&&(u=l,l=a,a=u,u=r,r=s,s=u);h-- >0;){if(u=il(l,a,n),u===o)return i[r]=l,i[s]=a,t(i);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;o=u}return e},e}function nn(){var e=yc();return e.copy=function(){return pc(e,nn())},Pl.apply(e,arguments),bc(e)}function kc(e){for(var t=e.length/6|0,n=new Array(t),i=0;i<t;)n[i]="#"+e.slice(i*6,++i*6);return n}const ur=kc("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function ut(e,t,n){this.k=e,this.x=t,this.y=n}ut.prototype={constructor:ut,scale:function(e){return e===1?this:new ut(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ut(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new ut(1,0,0);ut.prototype;const rn=Es(2020);class Ic{constructor(t){he(this,"id");he(this,"code");he(this,"name");he(this,"level");this.id=+t.location_id,this.code=t.location_code,this.name=t.location_name_short_en,this.level=t.level}}class ni{constructor(t){he(this,"id");he(this,"code");he(this,"name");he(this,"level");he(this,"parent_id");he(this,"parent");this.id=+t.product_id,this.code=+t.hs_product_code,this.name=t.hs_product_name_short_en,this.level=t.level,this.parent_id=+t.parent_id,this.parent=null}}class mt{constructor(t,n,i){he(this,"location_id");he(this,"location");he(this,"partner_id");he(this,"partner");he(this,"product_id");he(this,"product");he(this,"year");he(this,"export_value");he(this,"import_value");this.location_id=+i.location_id,this.location=t.get(this.location_id),this.partner_id=+i.partner_id,this.partner=t.get(this.partner_id),this.product_id=+i.product_id,this.product=n.get(this.product_id),this.year=+i.year,this.export_value=+i.export_value,this.import_value=+i.import_value}}function Sc(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r={};return r.top=n.top<0,r.left=n.left<0,r.bottom=n.bottom+i.height>(window.innerHeight||document.documentElement.clientHeight),r.right=n.right>(window.innerWidth||document.documentElement.clientWidth),r.any=r.top||r.left||r.bottom||r.right,r}function Ec(e){let t,n=e[0](e[1],e[2])+"",i;return{c(){t=X("div"),this.h()},l(r){t=W(r,"DIV",{class:!0});var s=V(t);s.forEach(b),this.h()},h(){_(t,"class",i="item "+e[3]+" svelte-3e0qet")},m(r,s){z(r,t,s),t.innerHTML=n},p(r,[s]){s&7&&n!==(n=r[0](r[1],r[2])+"")&&(t.innerHTML=n),s&8&&i!==(i="item "+r[3]+" svelte-3e0qet")&&_(t,"class",i)},i:se,o:se,d(r){r&&b(t)}}}function Mc(e,t,n){let{isActive:i=!1}=t,{isFirst:r=!1}=t,{isHover:s=!1}=t,{isSelectable:l=!1}=t,{getOptionLabel:a=void 0}=t,{item:o=void 0}=t,{filterText:u=""}=t,h="";return e.$$set=c=>{"isActive"in c&&n(4,i=c.isActive),"isFirst"in c&&n(5,r=c.isFirst),"isHover"in c&&n(6,s=c.isHover),"isSelectable"in c&&n(7,l=c.isSelectable),"getOptionLabel"in c&&n(0,a=c.getOptionLabel),"item"in c&&n(1,o=c.item),"filterText"in c&&n(2,u=c.filterText)},e.$$.update=()=>{if(e.$$.dirty&242){const c=[];i&&c.push("active"),r&&c.push("first"),s&&c.push("hover"),o.isGroupHeader&&c.push("groupHeader"),o.isGroupItem&&c.push("groupItem"),l||c.push("notSelectable"),n(3,h=c.join(" "))}},[a,o,u,h,i,r,s,l]}class Bl extends Fe{constructor(t){super(),Ve(this,t,Mc,Ec,Oe,{isActive:4,isFirst:5,isHover:6,isSelectable:7,getOptionLabel:0,item:1,filterText:2})}}function fr(e,t,n){const i=e.slice();return i[41]=t[n],i[42]=n,i}function Ac(e){let t,n,i=e[1],r=[];for(let a=0;a<i.length;a+=1)r[a]=dr(fr(e,i,a));const s=a=>K(r[a],1,1,()=>{r[a]=null});let l=null;return i.length||(l=cr(e)),{c(){for(let a=0;a<r.length;a+=1)r[a].c();t=ne(),l&&l.c()},l(a){for(let o=0;o<r.length;o+=1)r[o].l(a);t=ne(),l&&l.l(a)},m(a,o){for(let u=0;u<r.length;u+=1)r[u].m(a,o);z(a,t,o),l&&l.m(a,o),n=!0},p(a,o){if(o[0]&114390){i=a[1];let u;for(u=0;u<i.length;u+=1){const h=fr(a,i,u);r[u]?(r[u].p(h,o),x(r[u],1)):(r[u]=dr(h),r[u].c(),x(r[u],1),r[u].m(t.parentNode,t))}for(me(),u=i.length;u<r.length;u+=1)s(u);ge(),!i.length&&l?l.p(a,o):i.length?l&&(l.d(1),l=null):(l=cr(a),l.c(),l.m(t.parentNode,t))}},i(a){if(!n){for(let o=0;o<i.length;o+=1)x(r[o]);n=!0}},o(a){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)K(r[o]);n=!1},d(a){li(r,a),a&&b(t),l&&l.d(a)}}}function Cc(e){let t,n,i;var r=e[3];function s(l){return{props:{items:l[1],itemHeight:l[8],$$slots:{default:[Tc,({item:a,i:o})=>({41:a,42:o}),({item:a,i:o})=>[0,(a?1024:0)|(o?2048:0)]]},$$scope:{ctx:l}}}}return r&&(t=pe(r,s(e))),{c(){t&&ae(t.$$.fragment),n=ne()},l(l){t&&be(t.$$.fragment,l),n=ne()},m(l,a){t&&oe(t,l,a),z(l,n,a),i=!0},p(l,a){const o={};if(a[0]&2&&(o.items=l[1]),a[0]&256&&(o.itemHeight=l[8]),a[0]&9814|a[1]&11264&&(o.$$scope={dirty:a,ctx:l}),r!==(r=l[3])){if(t){me();const u=t;K(u.$$.fragment,1,0,()=>{ue(u,1)}),ge()}r?(t=pe(r,s(l)),ae(t.$$.fragment),x(t.$$.fragment,1),oe(t,n.parentNode,n)):t=null}else r&&t.$set(o)},i(l){i||(t&&x(t.$$.fragment,l),i=!0)},o(l){t&&K(t.$$.fragment,l),i=!1},d(l){l&&b(n),t&&ue(t,l)}}}function cr(e){let t,n=!e[11]&&hr(e);return{c(){n&&n.c(),t=ne()},l(i){n&&n.l(i),t=ne()},m(i,r){n&&n.m(i,r),z(i,t,r)},p(i,r){i[11]?n&&(n.d(1),n=null):n?n.p(i,r):(n=hr(i),n.c(),n.m(t.parentNode,t))},d(i){n&&n.d(i),i&&b(t)}}}function hr(e){let t,n;return{c(){t=X("div"),n=re(e[12]),this.h()},l(i){t=W(i,"DIV",{class:!0});var r=V(t);n=le(r,e[12]),r.forEach(b),this.h()},h(){_(t,"class","empty svelte-1uyqfml")},m(i,r){z(i,t,r),F(t,n)},p(i,r){r[0]&4096&&Be(n,i[12])},d(i){i&&b(t)}}}function Nc(e){let t,n,i,r,s,l;var a=e[4];function o(f){return{props:{item:f[41],filterText:f[13],getOptionLabel:f[6],isFirst:ii(f[42]),isActive:ln(f[41],f[9],f[10]),isHover:sn(f[2],f[41],f[42],f[1]),isSelectable:et(f[41])}}}a&&(n=pe(a,o(e)));function u(){return e[29](e[42])}function h(){return e[30](e[42])}function c(...f){return e[31](e[41],e[42],...f)}return{c(){t=X("div"),n&&ae(n.$$.fragment),i=ee(),this.h()},l(f){t=W(f,"DIV",{class:!0,tabindex:!0});var d=V(t);n&&be(n.$$.fragment,d),i=te(d),d.forEach(b),this.h()},h(){_(t,"class","listItem"),_(t,"tabindex","-1")},m(f,d){z(f,t,d),n&&oe(n,t,null),F(t,i),r=!0,s||(l=[ce(t,"mouseover",u),ce(t,"focus",h),ce(t,"click",c)],s=!0)},p(f,d){e=f;const v={};if(d[0]&2&&(v.item=e[41]),d[0]&8192&&(v.filterText=e[13]),d[0]&64&&(v.getOptionLabel=e[6]),d[0]&1538&&(v.isActive=ln(e[41],e[9],e[10])),d[0]&6&&(v.isHover=sn(e[2],e[41],e[42],e[1])),d[0]&2&&(v.isSelectable=et(e[41])),a!==(a=e[4])){if(n){me();const p=n;K(p.$$.fragment,1,0,()=>{ue(p,1)}),ge()}a?(n=pe(a,o(e)),ae(n.$$.fragment),x(n.$$.fragment,1),oe(n,t,i)):n=null}else a&&n.$set(v)},i(f){r||(n&&x(n.$$.fragment,f),r=!0)},o(f){n&&K(n.$$.fragment,f),r=!1},d(f){f&&b(t),n&&ue(n),s=!1,an(l)}}}function Lc(e){let t,n=e[7](e[41])+"",i;return{c(){t=X("div"),i=re(n),this.h()},l(r){t=W(r,"DIV",{class:!0});var s=V(t);i=le(s,n),s.forEach(b),this.h()},h(){_(t,"class","listGroupTitle svelte-1uyqfml")},m(r,s){z(r,t,s),F(t,i)},p(r,s){s[0]&130&&n!==(n=r[7](r[41])+"")&&Be(i,n)},i:se,o:se,d(r){r&&b(t)}}}function dr(e){let t,n,i,r;const s=[Lc,Nc],l=[];function a(o,u){return o[41].isGroupHeader&&!o[41].isSelectable?0:1}return t=a(e),n=l[t]=s[t](e),{c(){n.c(),i=ne()},l(o){n.l(o),i=ne()},m(o,u){l[t].m(o,u),z(o,i,u),r=!0},p(o,u){let h=t;t=a(o),t===h?l[t].p(o,u):(me(),K(l[h],1,1,()=>{l[h]=null}),ge(),n=l[t],n?n.p(o,u):(n=l[t]=s[t](o),n.c()),x(n,1),n.m(i.parentNode,i))},i(o){r||(x(n),r=!0)},o(o){K(n),r=!1},d(o){l[t].d(o),o&&b(i)}}}function Tc(e){let t,n,i,r,s;var l=e[4];function a(c){return{props:{item:c[41],filterText:c[13],getOptionLabel:c[6],isFirst:ii(c[42]),isActive:ln(c[41],c[9],c[10]),isHover:sn(c[2],c[41],c[42],c[1]),isSelectable:et(c[41])}}}l&&(n=pe(l,a(e)));function o(){return e[26](e[42])}function u(){return e[27](e[42])}function h(...c){return e[28](e[41],e[42],...c)}return{c(){t=X("div"),n&&ae(n.$$.fragment),this.h()},l(c){t=W(c,"DIV",{class:!0});var f=V(t);n&&be(n.$$.fragment,f),f.forEach(b),this.h()},h(){_(t,"class","listItem")},m(c,f){z(c,t,f),n&&oe(n,t,null),i=!0,r||(s=[ce(t,"mouseover",o),ce(t,"focus",u),ce(t,"click",h)],r=!0)},p(c,f){e=c;const d={};if(f[1]&1024&&(d.item=e[41]),f[0]&8192&&(d.filterText=e[13]),f[0]&64&&(d.getOptionLabel=e[6]),f[1]&2048&&(d.isFirst=ii(e[42])),f[0]&1536|f[1]&1024&&(d.isActive=ln(e[41],e[9],e[10])),f[0]&6|f[1]&3072&&(d.isHover=sn(e[2],e[41],e[42],e[1])),f[1]&1024&&(d.isSelectable=et(e[41])),l!==(l=e[4])){if(n){me();const v=n;K(v.$$.fragment,1,0,()=>{ue(v,1)}),ge()}l?(n=pe(l,a(e)),ae(n.$$.fragment),x(n.$$.fragment,1),oe(n,t,null)):n=null}else l&&n.$set(d)},i(c){i||(n&&x(n.$$.fragment,c),i=!0)},o(c){n&&K(n.$$.fragment,c),i=!1},d(c){c&&b(t),n&&ue(n),r=!1,an(s)}}}function Dc(e){let t,n,i,r,s,l;const a=[Cc,Ac],o=[];function u(h,c){return h[5]?0:1}return n=u(e),i=o[n]=a[n](e),{c(){t=X("div"),i.c(),this.h()},l(h){t=W(h,"DIV",{class:!0,style:!0});var c=V(t);i.l(c),c.forEach(b),this.h()},h(){_(t,"class","listContainer svelte-1uyqfml"),_(t,"style",e[14]),Ne(t,"virtualList",e[5])},m(h,c){z(h,t,c),o[n].m(t,null),e[32](t),r=!0,s||(l=[ce(window,"keydown",e[17]),ce(window,"resize",e[18])],s=!0)},p(h,c){let f=n;n=u(h),n===f?o[n].p(h,c):(me(),K(o[f],1,1,()=>{o[f]=null}),ge(),i=o[n],i?i.p(h,c):(i=o[n]=a[n](h),i.c()),x(i,1),i.m(t,null)),(!r||c[0]&16384)&&_(t,"style",h[14]),(!r||c[0]&32)&&Ne(t,"virtualList",h[5])},i(h){r||(x(i),r=!0)},o(h){K(i),r=!1},d(h){h&&b(t),o[n].d(),e[32](null),s=!1,an(l)}}}function ln(e,t,n){return t&&t[n]===e[n]}function ii(e){return e===0}function sn(e,t,n,i){return et(t)&&(e===n||i.length===1)}function et(e){return e.isGroupHeader&&e.isSelectable||e.selectable||!e.hasOwnProperty("selectable")}function Fc(e,t,n){const i=ri();let{container:r=void 0}=t,{VirtualList:s=null}=t,{Item:l=Bl}=t,{isVirtualList:a=!1}=t,{items:o=[]}=t,{labelIdentifier:u="label"}=t,{getOptionLabel:h=(L,j)=>{if(L)return L.isCreator?`Create "${j}"`:L[u]}}=t,{getGroupHeaderLabel:c=null}=t,{itemHeight:f=40}=t,{hoverItemIndex:d=0}=t,{value:v=void 0}=t,{optionIdentifier:p="value"}=t,{hideEmptyState:w=!1}=t,{noOptionsMessage:E="No options"}=t,{isMulti:N=!1}=t,{activeItemIndex:M=0}=t,{filterText:m=""}=t,{parent:I=null}=t,{listPlacement:T=null}=t,{listAutoWidth:P=null}=t,{listOffset:H=5}=t,B=0,D=!1,y;on(()=>{if(o.length>0&&!N&&v){const L=o.findIndex(j=>j[p]===v[p]);L&&n(2,d=L)}J("active"),r.addEventListener("scroll",()=>{clearTimeout(B),B=setTimeout(()=>{D=!1},100)},!1)}),Jr(()=>{o||n(1,o=[]),o!==y&&o.length>0&&n(2,d=0),y=o});function k(L){L.isCreator||i("itemSelected",L)}function S(L){D||n(2,d=L)}function O(L){const{item:j,i:fe,event:Ee}=L;if(Ee.stopPropagation(),v&&!N&&v[p]===j[p])return A();j.isCreator?i("itemCreated",m):et(j)&&(n(19,M=fe),n(2,d=fe),k(j))}function A(){i("closeList")}async function C(L){if(a)return;let j=!0;for(;j;)L>0&&d===o.length-1?n(2,d=0):L<0&&d===0?n(2,d=o.length-1):n(2,d=d+L),j=!et(o[d]);await qt(),J("hover")}function G(L){switch(L.key){case"Escape":L.preventDefault(),A();break;case"ArrowDown":L.preventDefault(),o.length&&C(1);break;case"ArrowUp":L.preventDefault(),o.length&&C(-1);break;case"Enter":if(L.preventDefault(),o.length===0)break;const j=o[d];if(v&&!N&&v[p]===j[p]){A();break}j.isCreator?i("itemCreated",m):(n(19,M=d),k(o[d]));break;case"Tab":if(L.preventDefault(),o.length===0||v&&v[p]===o[d][p])return A();n(19,M=d),k(o[d]);break}}function J(L){if(a||!r)return;let j;const fe=r.querySelector(`.listItem .${L}`);fe&&(j=r.getBoundingClientRect().bottom-fe.getBoundingClientRect().bottom),n(0,r.scrollTop-=j,r)}let Q;function ve(){const{height:L,width:j}=I.getBoundingClientRect();n(14,Q=""),n(14,Q+=`min-width:${j}px;width:${P?"auto":"100%"};`),T==="top"||T==="auto"&&Sc(I,r).bottom?n(14,Q+=`bottom:${L+H}px;`):n(14,Q+=`top:${L+H}px;`)}const je=L=>S(L),R=L=>S(L),Z=(L,j,fe)=>O({item:L,i:j,event:fe}),de=L=>S(L),ye=L=>S(L),Ie=(L,j,fe)=>O({item:L,i:j,event:fe});function Se(L){Me[L?"unshift":"push"](()=>{r=L,n(0,r)})}return e.$$set=L=>{"container"in L&&n(0,r=L.container),"VirtualList"in L&&n(3,s=L.VirtualList),"Item"in L&&n(4,l=L.Item),"isVirtualList"in L&&n(5,a=L.isVirtualList),"items"in L&&n(1,o=L.items),"labelIdentifier"in L&&n(20,u=L.labelIdentifier),"getOptionLabel"in L&&n(6,h=L.getOptionLabel),"getGroupHeaderLabel"in L&&n(7,c=L.getGroupHeaderLabel),"itemHeight"in L&&n(8,f=L.itemHeight),"hoverItemIndex"in L&&n(2,d=L.hoverItemIndex),"value"in L&&n(9,v=L.value),"optionIdentifier"in L&&n(10,p=L.optionIdentifier),"hideEmptyState"in L&&n(11,w=L.hideEmptyState),"noOptionsMessage"in L&&n(12,E=L.noOptionsMessage),"isMulti"in L&&n(21,N=L.isMulti),"activeItemIndex"in L&&n(19,M=L.activeItemIndex),"filterText"in L&&n(13,m=L.filterText),"parent"in L&&n(22,I=L.parent),"listPlacement"in L&&n(23,T=L.listPlacement),"listAutoWidth"in L&&n(24,P=L.listAutoWidth),"listOffset"in L&&n(25,H=L.listOffset)},e.$$.update=()=>{e.$$.dirty[0]&4194305&&I&&r&&ve()},[r,o,d,s,l,a,h,c,f,v,p,w,E,m,Q,S,O,G,ve,M,u,N,I,T,P,H,je,R,Z,de,ye,Ie,Se]}class Vc extends Fe{constructor(t){super(),Ve(this,t,Fc,Dc,Oe,{container:0,VirtualList:3,Item:4,isVirtualList:5,items:1,labelIdentifier:20,getOptionLabel:6,getGroupHeaderLabel:7,itemHeight:8,hoverItemIndex:2,value:9,optionIdentifier:10,hideEmptyState:11,noOptionsMessage:12,isMulti:21,activeItemIndex:19,filterText:13,parent:22,listPlacement:23,listAutoWidth:24,listOffset:25},null,[-1,-1])}}function Oc(e){let t,n=e[0](e[1])+"";return{c(){t=X("div"),this.h()},l(i){t=W(i,"DIV",{class:!0});var r=V(t);r.forEach(b),this.h()},h(){_(t,"class","selection svelte-pu1q1n")},m(i,r){z(i,t,r),t.innerHTML=n},p(i,[r]){r&3&&n!==(n=i[0](i[1])+"")&&(t.innerHTML=n)},i:se,o:se,d(i){i&&b(t)}}}function Hc(e,t,n){let{getSelectionLabel:i=void 0}=t,{item:r=void 0}=t;return e.$$set=s=>{"getSelectionLabel"in s&&n(0,i=s.getSelectionLabel),"item"in s&&n(1,r=s.item)},[i,r]}class Rc extends Fe{constructor(t){super(),Ve(this,t,Hc,Oc,Oe,{getSelectionLabel:0,item:1})}}function _r(e,t,n){const i=e.slice();return i[9]=t[n],i[11]=n,i}function mr(e){let t,n,i,r,s;function l(...a){return e[6](e[11],...a)}return{c(){t=X("div"),n=U("svg"),i=U("path"),this.h()},l(a){t=W(a,"DIV",{class:!0});var o=V(t);n=Y(o,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0,class:!0});var u=V(n);i=Y(u,"path",{d:!0}),V(i).forEach(b),u.forEach(b),o.forEach(b),this.h()},h(){_(i,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),_(n,"width","100%"),_(n,"height","100%"),_(n,"viewBox","-2 -2 50 50"),_(n,"focusable","false"),_(n,"aria-hidden","true"),_(n,"role","presentation"),_(n,"class","svelte-liu9pa"),_(t,"class","multiSelectItem_clear svelte-liu9pa")},m(a,o){z(a,t,o),F(t,n),F(n,i),r||(s=ce(t,"click",l),r=!0)},p(a,o){e=a},d(a){a&&b(t),r=!1,s()}}}function gr(e){let t,n,i=e[4](e[9])+"",r,s,l,a,o,u=!e[2]&&!e[3]&&mr(e);function h(...c){return e[7](e[11],...c)}return{c(){t=X("div"),n=X("div"),r=ee(),u&&u.c(),s=ee(),this.h()},l(c){t=W(c,"DIV",{class:!0});var f=V(t);n=W(f,"DIV",{class:!0});var d=V(n);d.forEach(b),r=te(f),u&&u.l(f),s=te(f),f.forEach(b),this.h()},h(){_(n,"class","multiSelectItem_label svelte-liu9pa"),_(t,"class",l="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")},m(c,f){z(c,t,f),F(t,n),n.innerHTML=i,F(t,r),u&&u.m(t,null),F(t,s),a||(o=ce(t,"click",h),a=!0)},p(c,f){e=c,f&17&&i!==(i=e[4](e[9])+"")&&(n.innerHTML=i),!e[2]&&!e[3]?u?u.p(e,f):(u=mr(e),u.c(),u.m(t,s)):u&&(u.d(1),u=null),f&6&&l!==(l="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")&&_(t,"class",l)},d(c){c&&b(t),u&&u.d(),a=!1,o()}}}function Pc(e){let t,n=e[0],i=[];for(let r=0;r<n.length;r+=1)i[r]=gr(_r(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=ne()},l(r){for(let s=0;s<i.length;s+=1)i[s].l(r);t=ne()},m(r,s){for(let l=0;l<i.length;l+=1)i[l].m(r,s);z(r,t,s)},p(r,[s]){if(s&63){n=r[0];let l;for(l=0;l<n.length;l+=1){const a=_r(r,n,l);i[l]?i[l].p(a,s):(i[l]=gr(a),i[l].c(),i[l].m(t.parentNode,t))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},i:se,o:se,d(r){li(i,r),r&&b(t)}}}function Bc(e,t,n){const i=ri();let{value:r=[]}=t,{activeValue:s=void 0}=t,{isDisabled:l=!1}=t,{multiFullItemClearable:a=!1}=t,{getSelectionLabel:o=void 0}=t;function u(f,d){d.stopPropagation(),i("multiItemClear",{i:f})}const h=(f,d)=>u(f,d),c=(f,d)=>a?u(f,d):{};return e.$$set=f=>{"value"in f&&n(0,r=f.value),"activeValue"in f&&n(1,s=f.activeValue),"isDisabled"in f&&n(2,l=f.isDisabled),"multiFullItemClearable"in f&&n(3,a=f.multiFullItemClearable),"getSelectionLabel"in f&&n(4,o=f.getSelectionLabel)},[r,s,l,a,o,u,h,c]}class zc extends Fe{constructor(t){super(),Ve(this,t,Bc,Pc,Oe,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4})}}function pr(e,t,n){const i=e.slice();return i[23]=t[n],i}const qc=e=>({item:e&32,i:e&32,hoverItemIndex:e&2}),vr=e=>({item:e[23].data,i:e[23].index,hoverItemIndex:e[1]});function Gc(e){let t;return{c(){t=re("Missing template")},l(n){t=le(n,"Missing template")},m(n,i){z(n,t,i)},d(n){n&&b(t)}}}function yr(e,t){let n,i,r;const s=t[15].default,l=_s(s,t,t[14],vr),a=l||Gc();return{key:e,first:null,c(){n=X("svelte-virtual-list-row"),a&&a.c(),i=ee(),this.h()},l(o){n=W(o,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var u=V(n);a&&a.l(u),i=te(u),u.forEach(b),this.h()},h(){Fn(n,"class","svelte-g2cagw"),this.first=n},m(o,u){z(o,n,u),a&&a.m(n,null),F(n,i),r=!0},p(o,u){t=o,l&&l.p&&(!r||u&16418)&&ms(l,s,t,t[14],r?ps(s,t[14],u,qc):gs(t[14]),vr)},i(o){r||(x(a,o),r=!0)},o(o){K(a,o),r=!1},d(o){o&&b(n),a&&a.d(o)}}}function xc(e){let t,n,i=[],r=new Map,s,l,a,o,u=e[5];const h=c=>c[23].index;for(let c=0;c<u.length;c+=1){let f=pr(e,u,c),d=h(f);r.set(d,i[c]=yr(d,f))}return{c(){t=X("svelte-virtual-list-viewport"),n=X("svelte-virtual-list-contents");for(let c=0;c<i.length;c+=1)i[c].c();this.h()},l(c){t=W(c,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var f=V(t);n=W(f,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var d=V(n);for(let v=0;v<i.length;v+=1)i[v].l(d);d.forEach(b),f.forEach(b),this.h()},h(){st(n,"padding-top",e[6]+"px"),st(n,"padding-bottom",e[7]+"px"),Fn(n,"class","svelte-g2cagw"),st(t,"height",e[0]),Fn(t,"class","svelte-g2cagw"),Tt(()=>e[18].call(t))},m(c,f){z(c,t,f),F(t,n);for(let d=0;d<i.length;d+=1)i[d].m(n,null);e[16](n),e[17](t),s=un(t,e[18].bind(t)),l=!0,a||(o=ce(t,"scroll",e[8]),a=!0)},p(c,[f]){f&16418&&(u=c[5],me(),i=Mt(i,f,h,1,c,u,r,n,ds,yr,null,pr),ge()),(!l||f&64)&&st(n,"padding-top",c[6]+"px"),(!l||f&128)&&st(n,"padding-bottom",c[7]+"px"),(!l||f&1)&&st(t,"height",c[0])},i(c){if(!l){for(let f=0;f<u.length;f+=1)x(i[f]);l=!0}},o(c){for(let f=0;f<i.length;f+=1)K(i[f]);l=!1},d(c){c&&b(t);for(let f=0;f<i.length;f+=1)i[f].d();e[16](null),e[17](null),s(),a=!1,o()}}}function jc(e,t,n){let{$$slots:i={},$$scope:r}=t,{items:s=void 0}=t,{height:l="100%"}=t,{itemHeight:a=40}=t,{hoverItemIndex:o=0}=t,{start:u=0}=t,{end:h=0}=t,c=[],f,d,v,p=0,w,E,N=0,M=0,m;async function I(D,y,k){const{scrollTop:S}=d;await qt();let O=N-S,A=u;for(;O<y&&A<D.length;){let G=f[A-u];G||(n(10,h=A+1),await qt(),G=f[A-u]);const J=c[A]=k||G.offsetHeight;O+=J,A+=1}n(10,h=A);const C=D.length-h;m=(N+O)/h,n(7,M=C*m),c.length=D.length,d&&n(3,d.scrollTop=0,d)}async function T(){const{scrollTop:D}=d,y=u;for(let A=0;A<f.length;A+=1)c[u+A]=a||f[A].offsetHeight;let k=0,S=0;for(;k<s.length;){const A=c[k]||m;if(S+A>D){n(9,u=k),n(6,N=S);break}S+=A,k+=1}for(;k<s.length&&(S+=c[k]||m,k+=1,!(S>D+p)););n(10,h=k);const O=s.length-h;for(m=S/h;k<s.length;)c[k++]=m;if(n(7,M=O*m),u<y){await qt();let A=0,C=0;for(let J=u;J<y;J+=1)f[J-u]&&(A+=c[J],C+=a||f[J-u].offsetHeight);const G=C-A;d.scrollTo(0,D+G)}}on(()=>{f=v.getElementsByTagName("svelte-virtual-list-row"),n(13,E=!0)});function P(D){Me[D?"unshift":"push"](()=>{v=D,n(4,v)})}function H(D){Me[D?"unshift":"push"](()=>{d=D,n(3,d)})}function B(){p=this.offsetHeight,n(2,p)}return e.$$set=D=>{"items"in D&&n(11,s=D.items),"height"in D&&n(0,l=D.height),"itemHeight"in D&&n(12,a=D.itemHeight),"hoverItemIndex"in D&&n(1,o=D.hoverItemIndex),"start"in D&&n(9,u=D.start),"end"in D&&n(10,h=D.end),"$$scope"in D&&n(14,r=D.$$scope)},e.$$.update=()=>{e.$$.dirty&3584&&n(5,w=s.slice(u,h).map((D,y)=>({index:y+u,data:D}))),e.$$.dirty&14340&&E&&I(s,p,a)},[l,o,p,d,v,w,N,M,T,u,h,s,a,E,r,i,P,H,B]}class Uc extends Fe{constructor(t){super(),Ve(this,t,jc,xc,Oe,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10})}}function Yc(e){let t,n;return{c(){t=U("svg"),n=U("path"),this.h()},l(i){t=Y(i,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0});var r=V(t);n=Y(r,"path",{fill:!0,d:!0}),V(n).forEach(b),r.forEach(b),this.h()},h(){_(n,"fill","currentColor"),_(n,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),_(t,"width","100%"),_(t,"height","100%"),_(t,"viewBox","-2 -2 50 50"),_(t,"focusable","false"),_(t,"aria-hidden","true"),_(t,"role","presentation")},m(i,r){z(i,t,r),F(t,n)},p:se,i:se,o:se,d(i){i&&b(t)}}}class Xc extends Fe{constructor(t){super(),Ve(this,t,null,Yc,Oe,{})}}function Wc(e,t,n){let i;return function(){let s=this,l=arguments,a=function(){i=null,n||e.apply(s,l)},o=n&&!i;clearTimeout(i),i=setTimeout(a,t),o&&e.apply(s,l)}}function wr(e,t,n){const i=e.slice();return i[103]=t[n],i}function br(e){let t,n,i,r,s;return{c(){t=X("span"),n=re(e[33]),i=ee(),r=X("span"),s=re(e[32]),this.h()},l(l){t=W(l,"SPAN",{id:!0});var a=V(t);n=le(a,e[33]),a.forEach(b),i=te(l),r=W(l,"SPAN",{id:!0});var o=V(r);s=le(o,e[32]),o.forEach(b),this.h()},h(){_(t,"id","aria-selection"),_(r,"id","aria-context")},m(l,a){z(l,t,a),F(t,n),z(l,i,a),z(l,r,a),F(r,s)},p(l,a){a[1]&4&&Be(n,l[33]),a[1]&2&&Be(s,l[32])},d(l){l&&b(t),l&&b(i),l&&b(r)}}}function kr(e){let t,n,i;const r=[e[18]];var s=e[17];function l(a){let o={};for(let u=0;u<r.length;u+=1)o=si(o,r[u]);return{props:o}}return s&&(t=pe(s,l())),{c(){t&&ae(t.$$.fragment),n=ne()},l(a){t&&be(t.$$.fragment,a),n=ne()},m(a,o){t&&oe(t,a,o),z(a,n,o),i=!0},p(a,o){const u=o[0]&262144?ai(r,[Qr(a[18])]):{};if(s!==(s=a[17])){if(t){me();const h=t;K(h.$$.fragment,1,0,()=>{ue(h,1)}),ge()}s?(t=pe(s,l()),ae(t.$$.fragment),x(t.$$.fragment,1),oe(t,n.parentNode,n)):t=null}else s&&t.$set(u)},i(a){i||(t&&x(t.$$.fragment,a),i=!0)},o(a){t&&K(t.$$.fragment,a),i=!1},d(a){a&&b(n),t&&ue(t,a)}}}function Ir(e){let t,n,i;var r=e[26];function s(l){return{props:{value:l[2],getSelectionLabel:l[12],activeValue:l[30],isDisabled:l[9],multiFullItemClearable:l[8]}}}return r&&(t=pe(r,s(e)),t.$on("multiItemClear",e[38]),t.$on("focus",e[40])),{c(){t&&ae(t.$$.fragment),n=ne()},l(l){t&&be(t.$$.fragment,l),n=ne()},m(l,a){t&&oe(t,l,a),z(l,n,a),i=!0},p(l,a){const o={};if(a[0]&4&&(o.value=l[2]),a[0]&4096&&(o.getSelectionLabel=l[12]),a[0]&1073741824&&(o.activeValue=l[30]),a[0]&512&&(o.isDisabled=l[9]),a[0]&256&&(o.multiFullItemClearable=l[8]),r!==(r=l[26])){if(t){me();const u=t;K(u.$$.fragment,1,0,()=>{ue(u,1)}),ge()}r?(t=pe(r,s(l)),t.$on("multiItemClear",l[38]),t.$on("focus",l[40]),ae(t.$$.fragment),x(t.$$.fragment,1),oe(t,n.parentNode,n)):t=null}else r&&t.$set(o)},i(l){i||(t&&x(t.$$.fragment,l),i=!0)},o(l){t&&K(t.$$.fragment,l),i=!1},d(l){l&&b(n),t&&ue(t,l)}}}function Sr(e){let t,n,i,r,s;var l=e[25];function a(o){return{props:{item:o[2],getSelectionLabel:o[12]}}}return l&&(n=pe(l,a(e))),{c(){t=X("div"),n&&ae(n.$$.fragment),this.h()},l(o){t=W(o,"DIV",{class:!0});var u=V(t);n&&be(n.$$.fragment,u),u.forEach(b),this.h()},h(){_(t,"class","selectedItem svelte-17l1npl")},m(o,u){z(o,t,u),n&&oe(n,t,null),i=!0,r||(s=ce(t,"focus",e[40]),r=!0)},p(o,u){const h={};if(u[0]&4&&(h.item=o[2]),u[0]&4096&&(h.getSelectionLabel=o[12]),l!==(l=o[25])){if(n){me();const c=n;K(c.$$.fragment,1,0,()=>{ue(c,1)}),ge()}l?(n=pe(l,a(o)),ae(n.$$.fragment),x(n.$$.fragment,1),oe(n,t,null)):n=null}else l&&n.$set(h)},i(o){i||(n&&x(n.$$.fragment,o),i=!0)},o(o){n&&K(n.$$.fragment,o),i=!1},d(o){o&&b(t),n&&ue(n),r=!1,s()}}}function Er(e){let t,n,i,r,s;var l=e[23];function a(o){return{}}return l&&(n=pe(l,a())),{c(){t=X("div"),n&&ae(n.$$.fragment),this.h()},l(o){t=W(o,"DIV",{class:!0,"aria-hidden":!0});var u=V(t);n&&be(n.$$.fragment,u),u.forEach(b),this.h()},h(){_(t,"class","clearSelect svelte-17l1npl"),_(t,"aria-hidden","true")},m(o,u){z(o,t,u),n&&oe(n,t,null),i=!0,r||(s=ce(t,"click",vs(e[27])),r=!0)},p(o,u){if(l!==(l=o[23])){if(n){me();const h=n;K(h.$$.fragment,1,0,()=>{ue(h,1)}),ge()}l?(n=pe(l,a()),ae(n.$$.fragment),x(n.$$.fragment,1),oe(n,t,null)):n=null}},i(o){i||(n&&x(n.$$.fragment,o),i=!0)},o(o){n&&K(n.$$.fragment,o),i=!1},d(o){o&&b(t),n&&ue(n),r=!1,s()}}}function Mr(e){let t;function n(s,l){return s[22]?Zc:Kc}let i=n(e),r=i(e);return{c(){t=X("div"),r.c(),this.h()},l(s){t=W(s,"DIV",{class:!0,"aria-hidden":!0});var l=V(t);r.l(l),l.forEach(b),this.h()},h(){_(t,"class","indicator svelte-17l1npl"),_(t,"aria-hidden","true")},m(s,l){z(s,t,l),r.m(t,null)},p(s,l){i===(i=n(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(t,null)))},d(s){s&&b(t),r.d()}}}function Kc(e){let t,n;return{c(){t=U("svg"),n=U("path"),this.h()},l(i){t=Y(i,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,class:!0});var r=V(t);n=Y(r,"path",{d:!0}),V(n).forEach(b),r.forEach(b),this.h()},h(){_(n,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),_(t,"width","100%"),_(t,"height","100%"),_(t,"viewBox","0 0 20 20"),_(t,"focusable","false"),_(t,"aria-hidden","true"),_(t,"class","svelte-17l1npl")},m(i,r){z(i,t,r),F(t,n)},p:se,d(i){i&&b(t)}}}function Zc(e){let t,n;return{c(){t=new ws(!1),n=ne(),this.h()},l(i){t=bs(i,!1),n=ne(),this.h()},h(){t.a=n},m(i,r){t.m(e[22],i,r),z(i,n,r)},p(i,r){r[0]&4194304&&t.p(i[22])},d(i){i&&b(n),i&&t.d()}}}function Ar(e){let t,n,i;return{c(){t=X("div"),n=U("svg"),i=U("circle"),this.h()},l(r){t=W(r,"DIV",{class:!0});var s=V(t);n=Y(s,"svg",{class:!0,viewBox:!0});var l=V(n);i=Y(l,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),V(i).forEach(b),l.forEach(b),s.forEach(b),this.h()},h(){_(i,"class","spinner_path svelte-17l1npl"),_(i,"cx","50"),_(i,"cy","50"),_(i,"r","20"),_(i,"fill","none"),_(i,"stroke","currentColor"),_(i,"stroke-width","5"),_(i,"stroke-miterlimit","10"),_(n,"class","spinner_icon svelte-17l1npl"),_(n,"viewBox","25 25 50 50"),_(t,"class","spinner svelte-17l1npl")},m(r,s){z(r,t,s),F(t,n),F(n,i)},d(r){r&&b(t)}}}function Cr(e){let t,n,i,r;const s=[e[34]];function l(u){e[84](u)}var a=e[24];function o(u){let h={};for(let c=0;c<s.length;c+=1)h=si(h,s[c]);return u[28]!==void 0&&(h.hoverItemIndex=u[28]),{props:h}}return a&&(t=pe(a,o(e)),Me.push(()=>Fi(t,"hoverItemIndex",l)),t.$on("itemSelected",e[43]),t.$on("itemCreated",e[44]),t.$on("closeList",e[45])),{c(){t&&ae(t.$$.fragment),i=ne()},l(u){t&&be(t.$$.fragment,u),i=ne()},m(u,h){t&&oe(t,u,h),z(u,i,h),r=!0},p(u,h){const c=h[1]&8?ai(s,[Qr(u[34])]):{};if(!n&&h[0]&268435456&&(n=!0,c.hoverItemIndex=u[28],ys(()=>n=!1)),a!==(a=u[24])){if(t){me();const f=t;K(f.$$.fragment,1,0,()=>{ue(f,1)}),ge()}a?(t=pe(a,o(u)),Me.push(()=>Fi(t,"hoverItemIndex",l)),t.$on("itemSelected",u[43]),t.$on("itemCreated",u[44]),t.$on("closeList",u[45]),ae(t.$$.fragment),x(t.$$.fragment,1),oe(t,i.parentNode,i)):t=null}else a&&t.$set(c)},i(u){r||(t&&x(t.$$.fragment,u),r=!0)},o(u){t&&K(t.$$.fragment,u),r=!1},d(u){u&&b(i),t&&ue(t,u)}}}function Nr(e){let t,n,i;return{c(){t=X("input"),this.h()},l(r){t=W(r,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){_(t,"name",n=e[16].name),_(t,"type","hidden"),t.value=i=e[2]?e[12](e[2]):null,_(t,"class","svelte-17l1npl")},m(r,s){z(r,t,s)},p(r,s){s[0]&65536&&n!==(n=r[16].name)&&_(t,"name",n),s[0]&4100&&i!==(i=r[2]?r[12](r[2]):null)&&(t.value=i)},d(r){r&&b(t)}}}function Lr(e){let t,n=e[2],i=[];for(let r=0;r<n.length;r+=1)i[r]=Tr(wr(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=ne()},l(r){for(let s=0;s<i.length;s+=1)i[s].l(r);t=ne()},m(r,s){for(let l=0;l<i.length;l+=1)i[l].m(r,s);z(r,t,s)},p(r,s){if(s[0]&69636){n=r[2];let l;for(l=0;l<n.length;l+=1){const a=wr(r,n,l);i[l]?i[l].p(a,s):(i[l]=Tr(a),i[l].c(),i[l].m(t.parentNode,t))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(r){li(i,r),r&&b(t)}}}function Tr(e){let t,n,i;return{c(){t=X("input"),this.h()},l(r){t=W(r,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){_(t,"name",n=e[16].name),_(t,"type","hidden"),t.value=i=e[103]?e[12](e[103]):null,_(t,"class","svelte-17l1npl")},m(r,s){z(r,t,s)},p(r,s){s[0]&65536&&n!==(n=r[16].name)&&_(t,"name",n),s[0]&4100&&i!==(i=r[103]?r[12](r[103]):null)&&(t.value=i)},d(r){r&&b(t)}}}function Jc(e){let t,n,i,r,s,l,a,o,u,h,c,f,d,v,p,w,E,N,M=e[1]&&br(e),m=e[17]&&kr(e),I=e[35]&&Ir(e),T=[{readOnly:a=!e[13]},e[31],{placeholder:e[36]},{style:e[14]},{disabled:e[9]}],P={};for(let A=0;A<T.length;A+=1)P=si(P,T[A]);let H=!e[7]&&e[29]&&Sr(e),B=e[37]&&Er(e),D=!e[37]&&(e[20]||e[19]&&!e[2]||!e[13]&&!e[9]&&!e[4]&&(e[29]&&!e[15]||!e[29]))&&Mr(e),y=e[4]&&Ar(),k=e[5]&&Cr(e),S=(!e[7]||e[7]&&!e[35])&&Nr(e),O=e[7]&&e[35]&&Lr(e);return{c(){t=X("div"),n=X("span"),M&&M.c(),i=ee(),m&&m.c(),r=ee(),I&&I.c(),s=ee(),l=X("input"),o=ee(),H&&H.c(),u=ee(),B&&B.c(),h=ee(),D&&D.c(),c=ee(),y&&y.c(),f=ee(),k&&k.c(),d=ee(),S&&S.c(),v=ee(),O&&O.c(),this.h()},l(A){t=W(A,"DIV",{class:!0,style:!0});var C=V(t);n=W(C,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var G=V(n);M&&M.l(G),G.forEach(b),i=te(C),m&&m.l(C),r=te(C),I&&I.l(C),s=te(C),l=W(C,"INPUT",{placeholder:!0,style:!0}),o=te(C),H&&H.l(C),u=te(C),B&&B.l(C),h=te(C),D&&D.l(C),c=te(C),y&&y.l(C),f=te(C),k&&k.l(C),d=te(C),S&&S.l(C),v=te(C),O&&O.l(C),C.forEach(b),this.h()},h(){_(n,"aria-live","polite"),_(n,"aria-atomic","false"),_(n,"aria-relevant","additions text"),_(n,"class","a11yText svelte-17l1npl"),Ti(l,P),Ne(l,"svelte-17l1npl",!0),_(t,"class",p="selectContainer "+e[21]+" svelte-17l1npl"),_(t,"style",e[11]),Ne(t,"hasError",e[10]),Ne(t,"multiSelect",e[7]),Ne(t,"disabled",e[9]),Ne(t,"focused",e[1])},m(A,C){z(A,t,C),F(t,n),M&&M.m(n,null),F(t,i),m&&m.m(t,null),F(t,r),I&&I.m(t,null),F(t,s),F(t,l),l.autofocus&&l.focus(),e[82](l),Di(l,e[3]),F(t,o),H&&H.m(t,null),F(t,u),B&&B.m(t,null),F(t,h),D&&D.m(t,null),F(t,c),y&&y.m(t,null),F(t,f),k&&k.m(t,null),F(t,d),S&&S.m(t,null),F(t,v),O&&O.m(t,null),e[85](t),w=!0,E||(N=[ce(window,"click",e[41]),ce(window,"focusin",e[41]),ce(window,"keydown",e[39]),ce(l,"focus",e[40]),ce(l,"input",e[83]),ce(t,"click",e[42])],E=!0)},p(A,C){A[1]?M?M.p(A,C):(M=br(A),M.c(),M.m(n,null)):M&&(M.d(1),M=null),A[17]?m?(m.p(A,C),C[0]&131072&&x(m,1)):(m=kr(A),m.c(),x(m,1),m.m(t,r)):m&&(me(),K(m,1,1,()=>{m=null}),ge()),A[35]?I?(I.p(A,C),C[1]&16&&x(I,1)):(I=Ir(A),I.c(),x(I,1),I.m(t,s)):I&&(me(),K(I,1,1,()=>{I=null}),ge()),Ti(l,P=ai(T,[(!w||C[0]&8192&&a!==(a=!A[13]))&&{readOnly:a},C[1]&1&&A[31],(!w||C[1]&32)&&{placeholder:A[36]},(!w||C[0]&16384)&&{style:A[14]},(!w||C[0]&512)&&{disabled:A[9]}])),C[0]&8&&l.value!==A[3]&&Di(l,A[3]),Ne(l,"svelte-17l1npl",!0),!A[7]&&A[29]?H?(H.p(A,C),C[0]&536871040&&x(H,1)):(H=Sr(A),H.c(),x(H,1),H.m(t,u)):H&&(me(),K(H,1,1,()=>{H=null}),ge()),A[37]?B?(B.p(A,C),C[1]&64&&x(B,1)):(B=Er(A),B.c(),x(B,1),B.m(t,h)):B&&(me(),K(B,1,1,()=>{B=null}),ge()),!A[37]&&(A[20]||A[19]&&!A[2]||!A[13]&&!A[9]&&!A[4]&&(A[29]&&!A[15]||!A[29]))?D?D.p(A,C):(D=Mr(A),D.c(),D.m(t,c)):D&&(D.d(1),D=null),A[4]?y||(y=Ar(),y.c(),y.m(t,f)):y&&(y.d(1),y=null),A[5]?k?(k.p(A,C),C[0]&32&&x(k,1)):(k=Cr(A),k.c(),x(k,1),k.m(t,d)):k&&(me(),K(k,1,1,()=>{k=null}),ge()),!A[7]||A[7]&&!A[35]?S?S.p(A,C):(S=Nr(A),S.c(),S.m(t,v)):S&&(S.d(1),S=null),A[7]&&A[35]?O?O.p(A,C):(O=Lr(A),O.c(),O.m(t,null)):O&&(O.d(1),O=null),(!w||C[0]&2097152&&p!==(p="selectContainer "+A[21]+" svelte-17l1npl"))&&_(t,"class",p),(!w||C[0]&2048)&&_(t,"style",A[11]),(!w||C[0]&2098176)&&Ne(t,"hasError",A[10]),(!w||C[0]&2097280)&&Ne(t,"multiSelect",A[7]),(!w||C[0]&2097664)&&Ne(t,"disabled",A[9]),(!w||C[0]&2097154)&&Ne(t,"focused",A[1])},i(A){w||(x(m),x(I),x(H),x(B),x(k),w=!0)},o(A){K(m),K(I),K(H),K(B),K(k),w=!1},d(A){A&&b(t),M&&M.d(),m&&m.d(),I&&I.d(),e[82](null),H&&H.d(),B&&B.d(),D&&D.d(),y&&y.d(),k&&k.d(),S&&S.d(),O&&O.d(),e[85](null),E=!1,an(N)}}}function Dr(e){return e.map((t,n)=>({index:n,value:t,label:`${t}`}))}function Qc(e,t,n){let i,r,s,l,a,o,u,h;const c=ri();let{id:f=null}=t,{container:d=void 0}=t,{input:v=void 0}=t,{isMulti:p=!1}=t,{multiFullItemClearable:w=!1}=t,{isDisabled:E=!1}=t,{isCreatable:N=!1}=t,{isFocused:M=!1}=t,{value:m=null}=t,{filterText:I=""}=t,{placeholder:T="Select..."}=t,{placeholderAlwaysShow:P=!1}=t,{items:H=null}=t,{itemFilter:B=(g,q,$)=>`${g}`.toLowerCase().includes(q.toLowerCase())}=t,{groupBy:D=void 0}=t,{groupFilter:y=g=>g}=t,{isGroupHeaderSelectable:k=!1}=t,{getGroupHeaderLabel:S=g=>g[O]||g.id}=t,{labelIdentifier:O="label"}=t,{getOptionLabel:A=(g,q)=>g.isCreator?`Create "${q}"`:g[O]}=t,{optionIdentifier:C="value"}=t,{loadOptions:G=void 0}=t,{hasError:J=!1}=t,{containerStyles:Q=""}=t,{getSelectionLabel:ve=g=>g?g[O]:null}=t,{createGroupHeaderItem:je=g=>({value:g,label:g})}=t,{createItem:R=g=>({value:g,label:g})}=t;const Z=()=>i;let{isSearchable:de=!0}=t,{inputStyles:ye=""}=t,{isClearable:Ie=!0}=t,{isWaiting:Se=!1}=t,{listPlacement:L="auto"}=t,{listOpen:j=!1}=t,{isVirtualList:fe=!1}=t,{loadOptionsInterval:Ee=300}=t,{noOptionsMessage:Le="No options"}=t,{hideEmptyState:tt=!1}=t,{inputAttributes:Xe={}}=t,{listAutoWidth:nt=!0}=t,{itemHeight:it=40}=t,{Icon:gt=void 0}=t,{iconProps:vi={}}=t,{showChevron:yi=!1}=t,{showIndicator:wi=!1}=t,{containerClasses:bi=""}=t,{indicatorSvg:ki=void 0}=t,{listOffset:dn=5}=t,{ClearIcon:Ii=Xc}=t,{Item:_n=Bl}=t,{List:Si=Vc}=t,{Selection:Ei=Rc}=t,{MultiSelection:Mi=zc}=t,{VirtualList:mn=Uc}=t;function ql(g){if(g.loadOptions&&g.filterText.length>0)return;if(!g.items)return[];g.items&&g.items.length>0&&typeof g.items[0]!="object"&&(g.items=Dr(g.items));let q=g.items.filter($=>{let Ce=B(A($,g.filterText),g.filterText,$);return Ce&&g.isMulti&&g.value&&Array.isArray(g.value)&&(Ce=!g.value.some(We=>We[g.optionIdentifier]===$[g.optionIdentifier])),Ce});return g.groupBy&&(q=Ul(q)),g.isCreatable&&(q=Ai(q,g.filterText)),q}function Ai(g,q){if(q.length===0)return g;const $=R(q);return g[0]&&q===g[0][O]?g:($.isCreator=!0,[...g,$])}let{selectedValue:gn=null}=t,ie,rt,pn,vn,yn,Vt;const Gl=Wc(async()=>{n(4,Se=!0);let g=await G(I).catch(q=>{console.warn("svelte-select loadOptions error :>> ",q),c("error",{type:"loadOptions",details:q})});g&&!g.cancelled&&(g?(g&&g.length>0&&typeof g[0]!="object"&&(g=Dr(g)),n(81,i=[...g]),c("loaded",{items:i})):n(81,i=[]),N&&n(81,i=Ai(i,I)),n(4,Se=!1),n(1,M=!0),n(5,j=!0))},Ee);function xl(){typeof m=="string"?n(2,m={[C]:m,label:m}):p&&Array.isArray(m)&&m.length>0&&n(2,m=m.map(g=>typeof g=="string"?{value:g,label:g}:g))}let lt;function jl(){n(31,lt=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},Xe)),f&&n(31,lt.id=f,lt),de||n(31,lt.readonly=!0,lt)}function Ul(g){const q=[],$={};g.forEach(We=>{const qe=D(We);q.includes(qe)||(q.push(qe),$[qe]=[],qe&&$[qe].push(Object.assign(je(qe,We),{id:qe,isGroupHeader:!0,isSelectable:k}))),$[qe].push(Object.assign({isGroupItem:!!qe},We))});const Ce=[];return y(q).forEach(We=>{Ce.push(...$[We])}),Ce}function Yl(){if(p){JSON.stringify(m)!==JSON.stringify(rt)&&Ci()&&c("select",m);return}(!rt||JSON.stringify(m[C])!==JSON.stringify(rt[C]))&&c("select",m)}function Xl(){M||j?wn():v&&v.blur()}function Wl(){m&&(Array.isArray(m)?n(2,m=[...m]):n(2,m=[m]))}function Kl(){m&&n(2,m=null)}function Zl(){I.length!==0&&(n(1,M=!0),n(5,j=!0),G?Gl():(n(5,j=!0),p&&n(30,ie=void 0)))}Jr(async()=>{n(77,rt=m),n(78,pn=I),n(79,vn=M),n(80,yn=p)});function Ci(){let g=!0;if(m){const q=[],$=[];m.forEach(Ce=>{q.includes(Ce[C])?g=!1:(q.push(Ce[C]),$.push(Ce))}),g||n(2,m=$)}return g}function Ni(g){let q=g?g[C]:m[C];return H.find($=>$[C]===q)}function Jl(g){!g||g.length===0||g.some(q=>typeof q!="object")||!m||(p?m.some(q=>!q||!q[C]):!m[C])||(Array.isArray(m)?n(2,m=m.map(q=>Ni(q)||q)):n(2,m=Ni()||m))}function Li(g){const{detail:q}=g,$=m[q?q.i:m.length-1];m.length===1?n(2,m=void 0):n(2,m=m.filter(Ce=>Ce!==$)),c("clear",$)}function Ql(g){if(!!M)switch(g.key){case"ArrowDown":g.preventDefault(),n(5,j=!0),n(30,ie=void 0);break;case"ArrowUp":g.preventDefault(),n(5,j=!0),n(30,ie=void 0);break;case"Tab":j||n(1,M=!1);break;case"Backspace":if(!p||I.length>0)return;if(p&&m&&m.length>0){if(Li(ie!==void 0?ie:m.length-1),ie===0||ie===void 0)break;n(30,ie=m.length>ie?ie-1:void 0)}break;case"ArrowLeft":if(!p||I.length>0)return;ie===void 0?n(30,ie=m.length-1):m.length>ie&&ie!==0&&n(30,ie-=1);break;case"ArrowRight":if(!p||I.length>0||ie===void 0)return;ie===m.length-1?n(30,ie=void 0):ie<m.length-1&&n(30,ie+=1);break}}function wn(){n(1,M=!0),v&&v.focus()}function $l(g){if(!d)return;const q=g.path&&g.path.length>0?g.path[0]:g.target;d.contains(q)||d.contains(g.relatedTarget)||(n(1,M=!1),n(5,j=!1),n(30,ie=void 0),v&&v.blur())}function es(){E||(n(1,M=!0),n(5,j=!j))}function ts(){n(2,m=void 0),n(5,j=!1),c("clear",m),wn()}on(()=>{M&&v&&v.focus()});function ns(g){const{detail:q}=g;if(q){n(3,I="");const $=Object.assign({},q);(!$.isGroupHeader||$.isSelectable)&&(p?n(2,m=m?m.concat([$]):[$]):n(2,m=$),n(2,m),setTimeout(()=>{n(5,j=!1),n(30,ie=void 0)}))}}function is(g){const{detail:q}=g;p?(n(2,m=m||[]),n(2,m=[...m,R(q)])):n(2,m=R(q)),c("itemCreated",q),n(3,I=""),n(5,j=!1),n(30,ie=void 0)}function rs(){n(3,I=""),n(5,j=!1)}let{ariaValues:bn=g=>`Option ${g}, selected.`}=t,{ariaListOpen:kn=(g,q)=>`You are currently focused on option ${g}. There are ${q} results available.`}=t,{ariaFocused:In=()=>"Select is focused, type to refine list, press down to open the menu."}=t;function ls(){let g;return p&&m.length>0?g=m.map(q=>ve(q)).join(", "):g=ve(m),bn(g)}function ss(){if(!M||!i||i.length===0)return"";let g=i[Vt];if(j&&g){let q=ve(g),$=i?i.length:0;return kn(q,$)}else return In()}function as(g){Me[g?"unshift":"push"](()=>{v=g,n(6,v)})}function os(){I=this.value,n(3,I)}function us(g){Vt=g,n(28,Vt)}function fs(g){Me[g?"unshift":"push"](()=>{d=g,n(0,d)})}return e.$$set=g=>{"id"in g&&n(46,f=g.id),"container"in g&&n(0,d=g.container),"input"in g&&n(6,v=g.input),"isMulti"in g&&n(7,p=g.isMulti),"multiFullItemClearable"in g&&n(8,w=g.multiFullItemClearable),"isDisabled"in g&&n(9,E=g.isDisabled),"isCreatable"in g&&n(47,N=g.isCreatable),"isFocused"in g&&n(1,M=g.isFocused),"value"in g&&n(2,m=g.value),"filterText"in g&&n(3,I=g.filterText),"placeholder"in g&&n(48,T=g.placeholder),"placeholderAlwaysShow"in g&&n(49,P=g.placeholderAlwaysShow),"items"in g&&n(50,H=g.items),"itemFilter"in g&&n(51,B=g.itemFilter),"groupBy"in g&&n(52,D=g.groupBy),"groupFilter"in g&&n(53,y=g.groupFilter),"isGroupHeaderSelectable"in g&&n(54,k=g.isGroupHeaderSelectable),"getGroupHeaderLabel"in g&&n(55,S=g.getGroupHeaderLabel),"labelIdentifier"in g&&n(56,O=g.labelIdentifier),"getOptionLabel"in g&&n(57,A=g.getOptionLabel),"optionIdentifier"in g&&n(58,C=g.optionIdentifier),"loadOptions"in g&&n(59,G=g.loadOptions),"hasError"in g&&n(10,J=g.hasError),"containerStyles"in g&&n(11,Q=g.containerStyles),"getSelectionLabel"in g&&n(12,ve=g.getSelectionLabel),"createGroupHeaderItem"in g&&n(60,je=g.createGroupHeaderItem),"createItem"in g&&n(61,R=g.createItem),"isSearchable"in g&&n(13,de=g.isSearchable),"inputStyles"in g&&n(14,ye=g.inputStyles),"isClearable"in g&&n(15,Ie=g.isClearable),"isWaiting"in g&&n(4,Se=g.isWaiting),"listPlacement"in g&&n(63,L=g.listPlacement),"listOpen"in g&&n(5,j=g.listOpen),"isVirtualList"in g&&n(64,fe=g.isVirtualList),"loadOptionsInterval"in g&&n(65,Ee=g.loadOptionsInterval),"noOptionsMessage"in g&&n(66,Le=g.noOptionsMessage),"hideEmptyState"in g&&n(67,tt=g.hideEmptyState),"inputAttributes"in g&&n(16,Xe=g.inputAttributes),"listAutoWidth"in g&&n(68,nt=g.listAutoWidth),"itemHeight"in g&&n(69,it=g.itemHeight),"Icon"in g&&n(17,gt=g.Icon),"iconProps"in g&&n(18,vi=g.iconProps),"showChevron"in g&&n(19,yi=g.showChevron),"showIndicator"in g&&n(20,wi=g.showIndicator),"containerClasses"in g&&n(21,bi=g.containerClasses),"indicatorSvg"in g&&n(22,ki=g.indicatorSvg),"listOffset"in g&&n(70,dn=g.listOffset),"ClearIcon"in g&&n(23,Ii=g.ClearIcon),"Item"in g&&n(71,_n=g.Item),"List"in g&&n(24,Si=g.List),"Selection"in g&&n(25,Ei=g.Selection),"MultiSelection"in g&&n(26,Mi=g.MultiSelection),"VirtualList"in g&&n(72,mn=g.VirtualList),"selectedValue"in g&&n(73,gn=g.selectedValue),"ariaValues"in g&&n(74,bn=g.ariaValues),"ariaListOpen"in g&&n(75,kn=g.ariaListOpen),"ariaFocused"in g&&n(76,In=g.ariaFocused)},e.$$.update=()=>{e.$$.dirty[0]&140|e.$$.dirty[1]&405340160&&n(81,i=ql({loadOptions:G,filterText:I,items:H,value:m,isMulti:p,optionIdentifier:C,groupBy:D,isCreatable:N})),e.$$.dirty[2]&2048&&gn&&console.warn("selectedValue is no longer used. Please use value instead."),e.$$.dirty[1]&524288&&Jl(H),e.$$.dirty[0]&4&&m&&xl(),e.$$.dirty[0]&73728&&(Xe||!de)&&jl(),e.$$.dirty[0]&128|e.$$.dirty[2]&262144&&(p&&Wl(),yn&&!p&&Kl()),e.$$.dirty[0]&132&&p&&m&&m.length>1&&Ci(),e.$$.dirty[0]&4&&m&&Yl(),e.$$.dirty[0]&132|e.$$.dirty[2]&32768&&!m&&p&&rt&&c("select",m),e.$$.dirty[0]&2|e.$$.dirty[2]&131072&&M!==vn&&Xl(),e.$$.dirty[0]&8|e.$$.dirty[2]&65536&&I!==pn&&Zl(),e.$$.dirty[0]&12&&n(29,r=m&&I.length===0),e.$$.dirty[0]&536904208&&n(37,s=r&&Ie&&!E&&!Se),e.$$.dirty[0]&132|e.$$.dirty[1]&393216&&n(36,l=P&&p?T:m?"":T),e.$$.dirty[0]&132&&n(35,a=p&&m&&m.length>0),e.$$.dirty[0]&141|e.$$.dirty[1]&218103808|e.$$.dirty[2]&526326&&n(34,o={Item:_n,filterText:I,optionIdentifier:C,noOptionsMessage:Le,hideEmptyState:tt,isVirtualList:fe,VirtualList:mn,value:m,isMulti:p,getGroupHeaderLabel:S,items:i,itemHeight:it,getOptionLabel:A,listPlacement:L,parent:d,listAutoWidth:nt,listOffset:dn}),e.$$.dirty[0]&132&&n(33,u=m?ls():""),e.$$.dirty[0]&268435490|e.$$.dirty[2]&524288&&n(32,h=ss())},[d,M,m,I,Se,j,v,p,w,E,J,Q,ve,de,ye,Ie,Xe,gt,vi,yi,wi,bi,ki,Ii,Si,Ei,Mi,ts,Vt,r,ie,lt,h,u,o,a,l,s,Li,Ql,wn,$l,es,ns,is,rs,f,N,T,P,H,B,D,y,k,S,O,A,C,G,je,R,Z,L,fe,Ee,Le,tt,nt,it,dn,_n,mn,gn,bn,kn,In,rt,pn,vn,yn,i,as,os,us,fs]}class Fr extends Fe{constructor(t){super(),Ve(this,t,Qc,Jc,Oe,{id:46,container:0,input:6,isMulti:7,multiFullItemClearable:8,isDisabled:9,isCreatable:47,isFocused:1,value:2,filterText:3,placeholder:48,placeholderAlwaysShow:49,items:50,itemFilter:51,groupBy:52,groupFilter:53,isGroupHeaderSelectable:54,getGroupHeaderLabel:55,labelIdentifier:56,getOptionLabel:57,optionIdentifier:58,loadOptions:59,hasError:10,containerStyles:11,getSelectionLabel:12,createGroupHeaderItem:60,createItem:61,getFilteredItems:62,isSearchable:13,inputStyles:14,isClearable:15,isWaiting:4,listPlacement:63,listOpen:5,isVirtualList:64,loadOptionsInterval:65,noOptionsMessage:66,hideEmptyState:67,inputAttributes:16,listAutoWidth:68,itemHeight:69,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,listOffset:70,ClearIcon:23,Item:71,List:24,Selection:25,MultiSelection:26,VirtualList:72,selectedValue:73,handleClear:27,ariaValues:74,ariaListOpen:75,ariaFocused:76},null,[-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[62]}get handleClear(){return this.$$.ctx[27]}}function Vr(e,t,n){const i=e.slice();return i[24]=t[n],i}function Or(e,t,n){const i=e.slice();return i[24]=t[n],i}function Hr(e,t){let n,i,r,s,l,a;return{key:e,first:null,c(){n=U("circle"),this.h()},l(o){n=Y(o,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),V(n).forEach(b),this.h()},h(){_(n,"cx",i=t[9](t[24].year)),_(n,"cy",r=t[8](t[24].export_value)),_(n,"r","5"),_(n,"fill",s=t[11](t[0])),_(n,"class","svelte-wx1vup"),this.first=n},m(o,u){z(o,n,u),l||(a=ce(n,"click",function(){$r(t[13](t[24].year))&&t[13](t[24].year).apply(this,arguments)}),l=!0)},p(o,u){t=o,u&1536&&i!==(i=t[9](t[24].year))&&_(n,"cx",i),u&1280&&r!==(r=t[8](t[24].export_value))&&_(n,"cy",r),u&2049&&s!==(s=t[11](t[0]))&&_(n,"fill",s)},d(o){o&&b(n),l=!1,a()}}}function Rr(e,t){let n,i,r,s,l,a;return{key:e,first:null,c(){n=U("circle"),this.h()},l(o){n=Y(o,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),V(n).forEach(b),this.h()},h(){_(n,"cx",i=t[9](t[24].year)),_(n,"cy",r=t[8](t[24].import_value)),_(n,"r","5"),_(n,"fill",s=t[11](t[1])),_(n,"class","svelte-wx1vup"),this.first=n},m(o,u){z(o,n,u),l||(a=ce(n,"click",function(){$r(t[13](t[24].year))&&t[13](t[24].year).apply(this,arguments)}),l=!0)},p(o,u){t=o,u&1536&&i!==(i=t[9](t[24].year))&&_(n,"cx",i),u&1280&&r!==(r=t[8](t[24].import_value))&&_(n,"cy",r),u&2050&&s!==(s=t[11](t[1]))&&_(n,"fill",s)},d(o){o&&b(n),l=!1,a()}}}function $c(e){let t,n,i,r,s,l,a,o,u,h,c,f,d,v,p=[],w=new Map,E,N,M,m=[],I=new Map,T,P=e[10];const H=y=>y[24].year;for(let y=0;y<P.length;y+=1){let k=Or(e,P,y),S=H(k);w.set(S,p[y]=Hr(S,k))}let B=e[10];const D=y=>y[24].year;for(let y=0;y<B.length;y+=1){let k=Vr(e,B,y),S=D(k);I.set(S,m[y]=Rr(S,k))}return{c(){t=X("div"),n=U("svg"),i=U("text"),r=re("Total Trade Over Time"),l=U("rect"),u=U("g"),c=U("g"),f=U("g"),d=U("path");for(let y=0;y<p.length;y+=1)p[y].c();E=U("g"),N=U("path");for(let y=0;y<m.length;y+=1)m[y].c();this.h()},l(y){t=W(y,"DIV",{id:!0,class:!0});var k=V(t);n=Y(k,"svg",{width:!0,height:!0});var S=V(n);i=Y(S,"text",{class:!0,x:!0,y:!0,"text-anchor":!0});var O=V(i);r=le(O,"Total Trade Over Time"),O.forEach(b),l=Y(S,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),V(l).forEach(b),u=Y(S,"g",{id:!0,transform:!0}),V(u).forEach(b),c=Y(S,"g",{id:!0,transform:!0}),V(c).forEach(b),f=Y(S,"g",{class:!0});var A=V(f);d=Y(A,"path",{fill:!0,stroke:!0,"stroke-width":!0}),V(d).forEach(b);for(let G=0;G<p.length;G+=1)p[G].l(A);A.forEach(b),E=Y(S,"g",{class:!0});var C=V(E);N=Y(C,"path",{fill:!0,stroke:!0,"stroke-width":!0}),V(N).forEach(b);for(let G=0;G<m.length;G+=1)m[G].l(C);C.forEach(b),S.forEach(b),k.forEach(b),this.h()},h(){_(i,"class","chart-header"),_(i,"x",s=e[2]/2),_(i,"y",Ye-5),_(i,"text-anchor","middle"),_(l,"x",a=e[9](e[12])-12),_(l,"y",35),_(l,"width","24"),_(l,"height",o=e[3]-35-Ye),_(l,"fill","rgba(0,0,0,0.2)"),_(u,"id","xAxis"),_(u,"transform",h=`translate(${0},${e[3]-Ye})`),_(c,"id","yAis"),_(c,"transform",`translate(${zl},${0})`),_(d,"fill","none"),_(d,"stroke",v=e[11](e[0])),_(d,"stroke-width","2"),_(f,"class","country1-group country-group svelte-wx1vup"),_(N,"fill","none"),_(N,"stroke",M=e[11](e[1])),_(N,"stroke-width","2"),_(E,"class","country2-group country-group svelte-wx1vup"),_(n,"width",e[2]),_(n,"height",e[3]),_(t,"id","line-chart"),_(t,"class","viz-section"),Tt(()=>e[22].call(t))},m(y,k){z(y,t,k),F(t,n),F(n,i),F(i,r),F(n,l),F(n,u),e[18](u),F(n,c),e[19](c),F(n,f),F(f,d),e[20](d);for(let S=0;S<p.length;S+=1)p[S].m(f,null);F(n,E),F(E,N),e[21](N);for(let S=0;S<m.length;S+=1)m[S].m(E,null);T=un(t,e[22].bind(t))},p(y,[k]){k&4&&s!==(s=y[2]/2)&&_(i,"x",s),k&4608&&a!==(a=y[9](y[12])-12)&&_(l,"x",a),k&8&&o!==(o=y[3]-35-Ye)&&_(l,"height",o),k&8&&h!==(h=`translate(${0},${y[3]-Ye})`)&&_(u,"transform",h),k&2049&&v!==(v=y[11](y[0]))&&_(d,"stroke",v),k&12033&&(P=y[10],p=Mt(p,k,H,1,y,P,w,f,Yt,Hr,null,Or)),k&2050&&M!==(M=y[11](y[1]))&&_(N,"stroke",M),k&12034&&(B=y[10],m=Mt(m,k,D,1,y,B,I,E,Yt,Rr,null,Vr)),k&4&&_(n,"width",y[2]),k&8&&_(n,"height",y[3])},i:se,o:se,d(y){y&&b(t),e[18](null),e[19](null),e[20](null);for(let k=0;k<p.length;k+=1)p[k].d();e[21](null);for(let k=0;k<m.length;k+=1)m[k].d();T()}}}const Ye=35,eh=15,zl=50;function th(e,t,n){let i,r,s,l;oi(e,rn,y=>n(12,l=y));let{data:a}=t,{bilateralData:o,locationData:u,productData:h,country1:c,country2:f,countryColorScale:d}=a,v=800,p=400;const w=y=>_t("$.2s")(y).replace(/G/,"B");let E,N,M,m;function I(y){return()=>rn.set(y)}function T(y){Me[y?"unshift":"push"](()=>{E=y,n(4,E)})}function P(y){Me[y?"unshift":"push"](()=>{N=y,n(5,N)})}function H(y){Me[y?"unshift":"push"](()=>{M=y,n(6,M)})}function B(y){Me[y?"unshift":"push"](()=>{m=y,n(7,m)})}function D(){v=this.clientWidth,p=this.clientHeight,n(2,v),n(3,p)}return e.$$set=y=>{"data"in y&&n(14,a=y.data)},e.$$.update=()=>{var y,k;if(e.$$.dirty&16384&&n(15,{bilateralData:o,locationData:u,productData:h,country1:c,country2:f,countryColorScale:d}=a,o,(n(16,u),n(14,a)),(n(17,h),n(14,a)),(n(0,c),n(14,a)),(n(1,f),n(14,a)),(n(11,d),n(14,a))),e.$$.dirty&229379&&n(10,i=Array.from((y=o==null?void 0:o.entries())!=null?y:new Array).map(S=>{var C,G,J;let O=S[0];return(J=(G=(C=S[1].get(c))==null?void 0:C.get(f))==null?void 0:G.reduce((Q,ve)=>(Q.export_value+=ve.export_value,Q.import_value+=ve.import_value,Q),new mt(u,h,{location_id:c,partner_id:f,product_id:0,year:O,export_value:0,import_value:0})))!=null?J:new mt(u,h,{location_id:c,partner_id:f,product_id:0,year:O,export_value:0,import_value:0})}).sort((S,O)=>S.year-O.year)),e.$$.dirty&1032&&n(8,r=nn().domain([0,(k=zn(i,S=>Math.max(S.export_value,S.import_value)))!=null?k:0]).range([p-Ye,Ye+eh])),e.$$.dirty&1028&&n(9,s=nn().domain(tl(i,S=>S.year)).range([zl,v-Ye])),e.$$.dirty&816){let S=ll(s).tickFormat(_t("d"));It(E).transition().call(S);let O=js(r).tickFormat(A=>w(A));It(N).transition().call(O)}if(e.$$.dirty&1856){let S=Qn();i.length>0&&S.moveTo(s(i[0].year),r(i[0].export_value)),i.forEach(O=>{S.lineTo(s(O.year),r(O.export_value))}),It(M).transition().attr("d",S.toString())}if(e.$$.dirty&1920){let S=Qn();i.length>0&&S.moveTo(s(i[0].year),r(i[0].import_value)),i.forEach(O=>{S.lineTo(s(O.year),r(O.import_value))}),It(m).transition().attr("d",S.toString())}},[c,f,v,p,E,N,M,m,r,s,i,d,l,I,a,o,u,h,T,P,H,B,D]}class nh extends Fe{constructor(t){super(),Ve(this,t,th,$c,Oe,{data:14})}}function ih(e,{delay:t=0,duration:n=400,easing:i=ks}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:i,css:s=>`opacity: ${s*r}`}}function Pr(e,t,n){const i=e.slice();return i[18]=t[n],i[20]=n,i}function rh(e){let t,n,i,r,s;return{c(){t=U("text"),n=re("No valid data for this pair."),this.h()},l(l){t=Y(l,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var a=V(t);n=le(a,"No valid data for this pair."),a.forEach(b),this.h()},h(){_(t,"x",i=e[2]/2),_(t,"y",r=e[8]/2),_(t,"alignment-baseline","central"),_(t,"text-anchor","middle")},m(l,a){z(l,t,a),F(t,n)},p(l,a){a&4&&i!==(i=l[2]/2)&&_(t,"x",i),a&256&&r!==(r=l[8]/2)&&_(t,"y",r)},i(l){s||Tt(()=>{s=Is(t,ih,{}),s.start()})},o:se,d(l){l&&b(t)}}}function lh(e){var D,y;let t,n,i,r,s,l,a,o=((D=e[0])==null?void 0:D.name)+"",u,h,c,f=((y=e[1])==null?void 0:y.name)+"",d,v,p,w=[],E=new Map,N,M,m,I,T,P,H=e[9];const B=k=>k[18].product.name;for(let k=0;k<H.length;k+=1){let S=Pr(e,H,k),O=B(S);E.set(O,w[k]=zr(O,S))}return{c(){t=U("text"),n=re(`Sector
      `),i=U("text"),r=re(`Trade Flow
      `),l=U("text"),a=re("From "),u=re(o),h=U("text"),c=re("From "),d=re(f),p=U("g");for(let k=0;k<w.length;k+=1)w[k].c();N=U("line"),I=U("line"),P=U("g"),this.h()},l(k){t=Y(k,"text",{"text-anchor":!0,class:!0,x:!0,y:!0,"alignment-baseline":!0});var S=V(t);n=le(S,`Sector
      `),S.forEach(b),i=Y(k,"text",{"text-anchor":!0,class:!0,x:!0,y:!0,"alignment-baseline":!0});var O=V(i);r=le(O,`Trade Flow
      `),O.forEach(b),l=Y(k,"text",{class:!0,x:!0,y:!0,"alignment-baseline":!0,"font-size":!0});var A=V(l);a=le(A,"From "),u=le(A,o),A.forEach(b),h=Y(k,"text",{class:!0,x:!0,y:!0,"text-anchor":!0,"alignment-baseline":!0,"font-size":!0});var C=V(h);c=le(C,"From "),d=le(C,f),C.forEach(b),p=Y(k,"g",{id:!0,transform:!0});var G=V(p);for(let J=0;J<w.length;J+=1)w[J].l(G);N=Y(G,"line",{id:!0,transform:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,class:!0}),V(N).forEach(b),I=Y(G,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),V(I).forEach(b),P=Y(G,"g",{id:!0}),V(P).forEach(b),G.forEach(b),this.h()},h(){var k,S,O,A;_(t,"text-anchor","start"),_(t,"class","chart-header"),_(t,"x",15),_(t,"y",bt/2),_(t,"alignment-baseline","hanging"),_(i,"text-anchor","middle"),_(i,"class","chart-header"),_(i,"x",s=(e[2]-Ue)/2+Ue),_(i,"y",bt/2-7),_(i,"alignment-baseline","hanging"),_(l,"class","from-label"),_(l,"x",Ue+20),_(l,"y",bt/2-5),_(l,"alignment-baseline","hanging"),_(l,"font-size","13"),_(h,"class","from-label"),_(h,"x",v=e[2]-20),_(h,"y",bt/2-5),_(h,"text-anchor","end"),_(h,"alignment-baseline","hanging"),_(h,"font-size","13"),_(N,"id","midline"),_(N,"transform",M=`translate(${e[4](0)},0)`),_(N,"y1",20),_(N,"y2",m=(((S=(k=e[9])==null?void 0:k.length)!=null?S:0)+1)*_e),_(N,"stroke","rgba(0,0,0,0.7)"),_(N,"stroke-width","1"),_(N,"class","svelte-g5tcaj"),_(I,"x1",Ue),_(I,"y1",0),_(I,"x2",Ue),_(I,"y2",T=(((A=(O=e[9])==null?void 0:O.length)!=null?A:0)+1)*_e),_(I,"stroke","rgba(0,0,0,0.1)"),_(I,"stroke-width","1"),_(P,"id","axis"),_(p,"id","bar-content"),_(p,"transform",`translate(${0},${bt})`)},m(k,S){z(k,t,S),F(t,n),z(k,i,S),F(i,r),z(k,l,S),F(l,a),F(l,u),z(k,h,S),F(h,c),F(h,d),z(k,p,S);for(let O=0;O<w.length;O+=1)w[O].m(p,null);F(p,N),F(p,I),F(p,P),e[14](P)},p(k,S){var O,A,C,G,J,Q;S&4&&s!==(s=(k[2]-Ue)/2+Ue)&&_(i,"x",s),S&1&&o!==(o=((O=k[0])==null?void 0:O.name)+"")&&Be(u,o),S&2&&f!==(f=((A=k[1])==null?void 0:A.name)+"")&&Be(d,f),S&4&&v!==(v=k[2]-20)&&_(h,"x",v),S&628&&(H=k[9],w=Mt(w,S,B,1,k,H,E,p,Yt,zr,N,Pr)),S&16&&M!==(M=`translate(${k[4](0)},0)`)&&_(N,"transform",M),S&512&&m!==(m=(((G=(C=k[9])==null?void 0:C.length)!=null?G:0)+1)*_e)&&_(N,"y2",m),S&512&&T!==(T=(((Q=(J=k[9])==null?void 0:J.length)!=null?Q:0)+1)*_e)&&_(I,"y2",T)},i:se,o:se,d(k){k&&b(t),k&&b(i),k&&b(l),k&&b(h),k&&b(p);for(let S=0;S<w.length;S+=1)w[S].d();e[14](null)}}}function Br(e){let t,n;return{c(){t=U("rect"),this.h()},l(i){t=Y(i,"rect",{x:!0,y:!0,height:!0,width:!0,fill:!0,class:!0}),V(t).forEach(b),this.h()},h(){_(t,"x","0"),_(t,"y",n=e[20]*_e+Re),_(t,"height",_e),_(t,"width",e[2]),_(t,"fill","rgba(0,0,0,0.04)"),_(t,"class","svelte-g5tcaj")},m(i,r){z(i,t,r)},p(i,r){r&512&&n!==(n=i[20]*_e+Re)&&_(t,"y",n),r&4&&_(t,"width",i[2])},d(i){i&&b(t)}}}function zr(e,t){let n,i,r,s,l,a=t[18].product.name+"",o,u,h,c,f,d,v,p,w,E,N,M,m=t[20]%2==0&&Br(t);return{key:e,first:null,c(){n=U("g"),i=U("rect"),m&&m.c(),l=U("text"),o=re(a),h=U("rect"),p=U("rect"),this.h()},l(I){n=Y(I,"g",{});var T=V(n);i=Y(T,"rect",{x:!0,y:!0,height:!0,width:!0,fill:!0,class:!0}),V(i).forEach(b),m&&m.l(T),l=Y(T,"text",{class:!0,"alignment-baseline":!0,x:!0,y:!0});var P=V(l);o=le(P,a),P.forEach(b),h=Y(T,"rect",{class:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),V(h).forEach(b),p=Y(T,"rect",{class:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),V(p).forEach(b),T.forEach(b),this.h()},h(){_(i,"x","0"),_(i,"y",r=t[20]*_e+Re+2),_(i,"height",_e-4),_(i,"width","6"),_(i,"fill",s=t[5]?t[5](t[18].product.name):"white"),_(i,"class","svelte-g5tcaj"),_(l,"class","product-text"),_(l,"alignment-baseline","hanging"),_(l,"x",10),_(l,"y",u=t[20]*_e+Re+5),_(h,"class","country1-bar svelte-g5tcaj"),_(h,"x",c=t[4](-t[18].export_value)),_(h,"y",f=t[20]*_e+Re+at/2),_(h,"height",_e-at),_(h,"width",d=t[4](0)-t[4](-t[18].export_value)),_(h,"fill",v=t[6](t[18].location_id)),_(p,"class","country2-bar svelte-g5tcaj"),_(p,"x",w=t[4](0)),_(p,"y",E=t[20]*_e+Re+at/2),_(p,"height",_e-at),_(p,"width",N=t[4](t[18].import_value)-t[4](0)),_(p,"fill",M=t[6](t[18].partner_id)),this.first=n},m(I,T){z(I,n,T),F(n,i),m&&m.m(n,null),F(n,l),F(l,o),F(n,h),F(n,p)},p(I,T){t=I,T&512&&r!==(r=t[20]*_e+Re+2)&&_(i,"y",r),T&544&&s!==(s=t[5]?t[5](t[18].product.name):"white")&&_(i,"fill",s),t[20]%2==0?m?m.p(t,T):(m=Br(t),m.c(),m.m(n,l)):m&&(m.d(1),m=null),T&512&&a!==(a=t[18].product.name+"")&&Be(o,a),T&512&&u!==(u=t[20]*_e+Re+5)&&_(l,"y",u),T&528&&c!==(c=t[4](-t[18].export_value))&&_(h,"x",c),T&512&&f!==(f=t[20]*_e+Re+at/2)&&_(h,"y",f),T&528&&d!==(d=t[4](0)-t[4](-t[18].export_value))&&_(h,"width",d),T&576&&v!==(v=t[6](t[18].location_id))&&_(h,"fill",v),T&16&&w!==(w=t[4](0))&&_(p,"x",w),T&512&&E!==(E=t[20]*_e+Re+at/2)&&_(p,"y",E),T&528&&N!==(N=t[4](t[18].import_value)-t[4](0))&&_(p,"width",N),T&576&&M!==(M=t[6](t[18].partner_id))&&_(p,"fill",M)},d(I){I&&b(n),m&&m.d()}}}function qr(e){let t,n,i,r,s;return{c(){t=U("rect"),n=U("text"),i=re("Loading..."),this.h()},l(l){t=Y(l,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,class:!0}),V(t).forEach(b),n=Y(l,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var a=V(n);i=le(a,"Loading..."),a.forEach(b),this.h()},h(){_(t,"x","0"),_(t,"y","0"),_(t,"width",e[2]),_(t,"height",e[8]),_(t,"fill","rgba(255,255,255,0.9)"),_(t,"class","svelte-g5tcaj"),_(n,"x",r=e[2]/2),_(n,"y",s=e[8]/2),_(n,"alignment-baseline","central"),_(n,"text-anchor","middle")},m(l,a){z(l,t,a),z(l,n,a),F(n,i)},p(l,a){a&4&&_(t,"width",l[2]),a&256&&_(t,"height",l[8]),a&4&&r!==(r=l[2]/2)&&_(n,"x",r),a&256&&s!==(s=l[8]/2)&&_(n,"y",s)},d(l){l&&b(t),l&&b(n)}}}function sh(e){let t,n,i,r;function s(u,h){return u[9]&&u[9].length>0?lh:rh}let l=s(e),a=l(e),o=e[7]&&qr(e);return{c(){t=X("div"),n=U("svg"),a.c(),i=ne(),o&&o.c(),this.h()},l(u){t=W(u,"DIV",{id:!0,class:!0});var h=V(t);n=Y(h,"svg",{class:!0});var c=V(n);a.l(c),i=ne(),o&&o.l(c),c.forEach(b),h.forEach(b),this.h()},h(){_(n,"class","svelte-g5tcaj"),_(t,"id","bar-chart"),_(t,"class","viz-section svelte-g5tcaj"),Tt(()=>e[15].call(t))},m(u,h){z(u,t,h),F(t,n),a.m(n,null),F(n,i),o&&o.m(n,null),r=un(t,e[15].bind(t))},p(u,[h]){l===(l=s(u))&&a?a.p(u,h):(a.d(1),a=l(u),a&&(a.c(),x(a,1),a.m(n,i))),u[7]?o?o.p(u,h):(o=qr(u),o.c(),o.m(n,null)):o&&(o.d(1),o=null)},i(u){x(a)},o:se,d(u){u&&b(t),a.d(),o&&o.d(),r()}}}const bt=40,_e=30,Gr=0,ah=10,Re=30,Ue=100,at=4;function oh(e,t,n){let i,r,s,l,{data:a}=t,{bilateralDataForYear:o,productColorScale:u,countryColorScale:h,country1:c,country2:f,loadingDrilldown:d}=a,v=800,p=500,w;const E=m=>_t("$.2s")(m).replace(/G/,"B");function N(m){Me[m?"unshift":"push"](()=>{w=m,n(3,w)})}function M(){v=this.clientWidth,p=this.clientHeight,n(2,v),n(8,p)}return e.$$set=m=>{"data"in m&&n(10,a=m.data)},e.$$.update=()=>{var m,I,T,P,H,B,D,y,k,S,O,A;if(e.$$.dirty&1024&&n(11,{bilateralDataForYear:o,productColorScale:u,countryColorScale:h,country1:c,country2:f,loadingDrilldown:d}=a,o,(n(5,u),n(10,a)),(n(6,h),n(10,a)),(n(0,c),n(10,a)),(n(1,f),n(10,a)),(n(7,d),n(10,a))),e.$$.dirty&2051&&n(9,i=(P=(T=o.get((m=c==null?void 0:c.id)!=null?m:0))==null?void 0:T.get((I=f==null?void 0:f.id)!=null?I:0))==null?void 0:P.filter(C=>C.product.level=="section")),e.$$.dirty&2051&&n(13,r=zn((y=(D=o.get((H=c==null?void 0:c.id)!=null?H:0))==null?void 0:D.get((B=f==null?void 0:f.id)!=null?B:0))!=null?y:new Array,C=>C.export_value)),e.$$.dirty&2051&&n(12,s=zn((A=(O=o.get((k=c==null?void 0:c.id)!=null?k:0))==null?void 0:O.get((S=f==null?void 0:f.id)!=null?S:0))!=null?A:new Array,C=>C.import_value)),e.$$.dirty&12288,e.$$.dirty&12292&&n(4,l=nn().domain([-r,s]).range([Ue+Gr,v-Gr-ah])),e.$$.dirty&24){let C=ll(l).tickFormat(G=>E(Math.abs(G)));It(w).transition().call(C)}},[c,f,v,w,l,u,h,d,p,i,a,o,s,r,N,M]}class uh extends Fe{constructor(t){super(),Ve(this,t,oh,sh,Oe,{data:10})}}const{Map:fh}=Ss;function xr(e,t,n){const i=e.slice();return i[16]=t[n],i}function jr(e){var l,a,o;let t,n=((o=(a=(l=e[16].data)==null?void 0:l.product.name)==null?void 0:a.substring(0,40))!=null?o:"")+"",i,r,s;return{c(){t=U("text"),i=re(n),this.h()},l(u){t=Y(u,"text",{class:!0,transform:!0,"alignment-baseline":!0,"font-size":!0});var h=V(t);i=le(h,n),h.forEach(b),this.h()},h(){_(t,"class","label svelte-wgq8ik"),_(t,"transform",r=`translate(${e[16].x0+3},${e[16].y0+3})`),_(t,"alignment-baseline","hanging"),_(t,"font-size",s=Math.max((e[16].x1-e[16].x0)/15,8))},m(u,h){z(u,t,h),F(t,i)},p(u,h){var c,f,d;h&128&&n!==(n=((d=(f=(c=u[16].data)==null?void 0:c.product.name)==null?void 0:f.substring(0,40))!=null?d:"")+"")&&Be(i,n),h&128&&r!==(r=`translate(${u[16].x0+3},${u[16].y0+3})`)&&_(t,"transform",r),h&128&&s!==(s=Math.max((u[16].x1-u[16].x0)/15,8))&&_(t,"font-size",s)},d(u){u&&b(t)}}}function Ur(e){let t,n=e[8](e[0]==="export_value"?e[16].data.export_value:e[16].data.import_value)+"",i,r,s;return{c(){t=U("text"),i=re(n),this.h()},l(l){t=Y(l,"text",{class:!0,transform:!0,"alignment-baseline":!0,"font-size":!0,"font-weight":!0});var a=V(t);i=le(a,n),a.forEach(b),this.h()},h(){_(t,"class","label-num svelte-wgq8ik"),_(t,"transform",r=`translate(${e[16].x0+5},${e[16].y0+1+Math.max((e[16].x1-e[16].x0)/10,8)})`),_(t,"alignment-baseline","hanging"),_(t,"font-size",s=Math.max((e[16].x1-e[16].x0)/15,8)-1),_(t,"font-weight","300")},m(l,a){z(l,t,a),F(t,i)},p(l,a){a&129&&n!==(n=l[8](l[0]==="export_value"?l[16].data.export_value:l[16].data.import_value)+"")&&Be(i,n),a&128&&r!==(r=`translate(${l[16].x0+5},${l[16].y0+1+Math.max((l[16].x1-l[16].x0)/10,8)})`)&&_(t,"transform",r),a&128&&s!==(s=Math.max((l[16].x1-l[16].x0)/15,8)-1)&&_(t,"font-size",s)},d(l){l&&b(t)}}}function Yr(e,t){let n,i,r,s,l,a,o,u=t[16].x1-t[16].x0>40&&t[16].y1-t[16].y0>10&&jr(t),h=t[16].x1-t[16].x0>40&&t[16].y1-t[16].y0>30&&Ur(t);return{key:e,first:null,c(){n=U("rect"),u&&u.c(),a=ne(),h&&h.c(),o=ne(),this.h()},l(c){n=Y(c,"rect",{class:!0,transform:!0,width:!0,height:!0,fill:!0}),V(n).forEach(b),u&&u.l(c),a=ne(),h&&h.l(c),o=ne(),this.h()},h(){var c,f,d,v,p;_(n,"class","leaf svelte-wgq8ik"),_(n,"transform",i=`translate(${t[16].x0},${(c=t[16])==null?void 0:c.y0})`),_(n,"width",r=t[16].x1-t[16].x0),_(n,"height",s=t[16].y1-t[16].y0),_(n,"fill",l=t[4]?t[4]((p=(v=(d=(f=t[16].data)==null?void 0:f.product)==null?void 0:d.parent)==null?void 0:v.name)!=null?p:""):"white"),this.first=n},m(c,f){z(c,n,f),u&&u.m(c,f),z(c,a,f),h&&h.m(c,f),z(c,o,f)},p(c,f){var d,v,p,w,E;t=c,f&128&&i!==(i=`translate(${t[16].x0},${(d=t[16])==null?void 0:d.y0})`)&&_(n,"transform",i),f&128&&r!==(r=t[16].x1-t[16].x0)&&_(n,"width",r),f&128&&s!==(s=t[16].y1-t[16].y0)&&_(n,"height",s),f&144&&l!==(l=t[4]?t[4]((E=(w=(p=(v=t[16].data)==null?void 0:v.product)==null?void 0:p.parent)==null?void 0:w.name)!=null?E:""):"white")&&_(n,"fill",l),t[16].x1-t[16].x0>40&&t[16].y1-t[16].y0>10?u?u.p(t,f):(u=jr(t),u.c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null),t[16].x1-t[16].x0>40&&t[16].y1-t[16].y0>30?h?h.p(t,f):(h=Ur(t),h.c(),h.m(o.parentNode,o)):h&&(h.d(1),h=null)},d(c){c&&b(n),u&&u.d(c),c&&b(a),h&&h.d(c),c&&b(o)}}}function Xr(e){let t,n,i,r=e[5]?"Loading...":"No Data",s,l,a;return{c(){t=U("rect"),i=U("text"),s=re(r),this.h()},l(o){t=Y(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),V(t).forEach(b),i=Y(o,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var u=V(i);s=le(u,r),u.forEach(b),this.h()},h(){_(t,"x","0"),_(t,"y","0"),_(t,"width",e[1]),_(t,"height",e[2]),_(t,"fill",n=e[5]?"rgba(255,255,255, 0.9)":"rgba(255,255,255,1)"),_(i,"x",l=e[1]/2),_(i,"y",a=e[2]/2),_(i,"alignment-baseline","central"),_(i,"text-anchor","middle")},m(o,u){z(o,t,u),z(o,i,u),F(i,s)},p(o,u){u&2&&_(t,"width",o[1]),u&4&&_(t,"height",o[2]),u&32&&n!==(n=o[5]?"rgba(255,255,255, 0.9)":"rgba(255,255,255,1)")&&_(t,"fill",n),u&32&&r!==(r=o[5]?"Loading...":"No Data")&&Be(s,r),u&2&&l!==(l=o[1]/2)&&_(i,"x",l),u&4&&a!==(a=o[2]/2)&&_(i,"y",a)},d(o){o&&b(t),o&&b(i)}}}function ch(e){var h,c;let t,n,i,r=[],s=new fh,l,a=e[7];const o=f=>f[16].data.product_id;for(let f=0;f<a.length;f+=1){let d=xr(e,a,f),v=o(d);s.set(v,r[f]=Yr(v,d))}let u=((c=(h=e[3])==null?void 0:h.length)!=null?c:0)===0&&Xr(e);return{c(){t=X("div"),n=U("svg"),i=U("g");for(let f=0;f<r.length;f+=1)r[f].c();u&&u.c(),this.h()},l(f){t=W(f,"DIV",{class:!0});var d=V(t);n=Y(d,"svg",{class:!0});var v=V(n);i=Y(v,"g",{class:!0});var p=V(i);for(let w=0;w<r.length;w+=1)r[w].l(p);p.forEach(b),u&&u.l(v),v.forEach(b),d.forEach(b),this.h()},h(){_(i,"class","treemap svelte-wgq8ik"),_(n,"class","svelte-wgq8ik"),_(t,"class","viz-section"),Tt(()=>e[15].call(t))},m(f,d){z(f,t,d),F(t,n),F(n,i);for(let v=0;v<r.length;v+=1)r[v].m(i,null);e[14](i),u&&u.m(n,null),l=un(t,e[15].bind(t))},p(f,[d]){var v,p;d&401&&(a=f[7],r=Mt(r,d,o,1,f,a,s,i,Yt,Yr,null,xr)),((p=(v=f[3])==null?void 0:v.length)!=null?p:0)===0?u?u.p(f,d):(u=Xr(f),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i:se,o:se,d(f){f&&b(t);for(let d=0;d<r.length;d+=1)r[d].d();e[14](null),u&&u.d(),l()}}}function hh(e,t,n){let i,r;oi(e,rn,M=>n(13,r=M));const s=M=>_t("$.2s")(M).replace(/G/,"B");let{data:l}=t,{country1:a,country2:o,valueField:u,productColorScale:h,drilldownBilateral:c,loadingDrilldown:f}=l,d,v,p,w=new Array;function E(M){Me[M?"unshift":"push"](()=>{p=M,n(6,p)})}function N(){d=this.clientWidth,v=this.clientHeight,n(1,d),n(2,v)}return e.$$set=M=>{"data"in M&&n(9,l=M.data)},e.$$.update=()=>{var M,m,I;if(e.$$.dirty&512&&n(12,{drilldownBilateral:c,valueField:u,productColorScale:h,country1:a,country2:o,loadingDrilldown:f}=l,c,(n(0,u),n(9,l)),(n(4,h),n(9,l)),(n(10,a),n(9,l)),(n(11,o),n(9,l)),(n(5,f),n(9,l))),e.$$.dirty&14336&&n(3,i=(I=(m=c==null?void 0:c.get((M=o==null?void 0:o.id)!=null?M:0))==null?void 0:m.get(r!=null?r:0))!=null?I:null),e.$$.dirty&3087&&i&&i.length>0){let T=new mt(new Map,new Map,{location_id:a,partner_id:o,product_id:-1,year:0,export_value:0,import_value:0});T.product=new ni({product_id:-1,name:"All",level:-1,parent_id:-1}),T.product.parent_id=null;let P=[T],H=Hn(i,B=>{var D,y;return(y=(D=B.product)==null?void 0:D.parent_id)!=null?y:-1});if(H.size>1){for(let[D,y]of H){let k=new mt(new Map,new Map,{location_id:a,partner_id:o,product_id:D,year:0,export_value:0,import_value:0});k.product=new ni({product_id:D,name:"Something",level:0,parent_id:-1}),P.push(k)}P=P.concat(i);let B=rc().id(D=>{var y;return(y=D.product)==null?void 0:y.id}).parentId(D=>{var y;return(y=D.product)==null?void 0:y.parent_id})(P);B.sum(D=>Math.max(0,D[u])),fc().tile(cc).size([d,v]).padding(2)(B),n(7,w=B.leaves())}}},[u,d,v,i,h,f,p,w,s,l,a,o,c,r,E,N]}class Wr extends Fe{constructor(t){super(),Ve(this,t,hh,ch,Oe,{data:9})}}function dh(e){let t,n,i,r,s,l;return{c(){t=X("div"),n=X("h3"),i=re("Loading data..."),r=ee(),s=U("svg"),l=U("circle"),this.h()},l(a){t=W(a,"DIV",{class:!0});var o=V(t);n=W(o,"H3",{});var u=V(n);i=le(u,"Loading data..."),u.forEach(b),r=te(o),s=Y(o,"svg",{class:!0,viewBox:!0});var h=V(s);l=Y(h,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0}),V(l).forEach(b),h.forEach(b),o.forEach(b),this.h()},h(){_(l,"class","path svelte-jcbfjt"),_(l,"cx","25"),_(l,"cy","25"),_(l,"r","20"),_(l,"fill","none"),_(l,"stroke-width","5"),_(s,"class","spinner svelte-jcbfjt"),_(s,"viewBox","0 0 50 50"),_(t,"class","loading svelte-jcbfjt")},m(a,o){z(a,t,o),F(t,n),F(n,i),F(t,r),F(t,s),F(s,l)},p:se,i:se,o:se,d(a){a&&b(t)}}}function _h(e){var J,Q,ve,je;let t,n,i,r,s,l,a,o,u,h,c,f,d,v,p,w,E,N,M,m,I,T,P,H,B,D,y,k,S,O,A,C,G;return u=new Fr({props:{optionIdentifier:Kr,labelIdentifier:Zr,items:Array.from(e[0].values()),value:e[3]}}),u.$on("select",e[10]),p=new Fr({props:{optionIdentifier:Kr,labelIdentifier:Zr,items:Array.from(e[0].values()),value:e[9]}}),p.$on("select",e[11]),B=new nh({props:{data:{bilateralData:e[2],country1:(Q=(J=e[3])==null?void 0:J.id)!=null?Q:0,country2:(je=(ve=e[9])==null?void 0:ve.id)!=null?je:0,productData:e[1],locationData:e[0],countryColorScale:e[4]}}}),y=new uh({props:{data:{loadingDrilldown:e[7],productColorScale:e[5],country1:e[3],country2:e[9],bilateralDataForYear:e[8],countryColorScale:e[4]}}}),O=new Wr({props:{data:{productColorScale:e[5],country1:e[3],country2:e[9],drilldownBilateral:e[6],loadingDrilldown:e[7],valueField:"export_value"}}}),C=new Wr({props:{data:{productColorScale:e[5],country1:e[3],country2:e[9],drilldownBilateral:e[6],loadingDrilldown:e[7],valueField:"import_value"}}}),{c(){t=X("div"),n=X("div"),r=ee(),s=X("div"),l=X("span"),a=re("Country 1"),o=ee(),ae(u.$$.fragment),h=ee(),c=X("div"),f=X("span"),d=re("Country 2"),v=ee(),ae(p.$$.fragment),w=ee(),E=X("div"),M=ee(),m=X("div"),I=ee(),T=X("div"),P=X("div"),H=X("div"),ae(B.$$.fragment),D=ee(),ae(y.$$.fragment),k=ee(),S=X("div"),ae(O.$$.fragment),A=ee(),ae(C.$$.fragment),this.h()},l(R){t=W(R,"DIV",{class:!0});var Z=V(t);n=W(Z,"DIV",{class:!0,style:!0}),V(n).forEach(b),r=te(Z),s=W(Z,"DIV",{class:!0});var de=V(s);l=W(de,"SPAN",{class:!0});var ye=V(l);a=le(ye,"Country 1"),ye.forEach(b),o=te(de),be(u.$$.fragment,de),de.forEach(b),h=te(Z),c=W(Z,"DIV",{class:!0});var Ie=V(c);f=W(Ie,"SPAN",{class:!0});var Se=V(f);d=le(Se,"Country 2"),Se.forEach(b),v=te(Ie),be(p.$$.fragment,Ie),Ie.forEach(b),w=te(Z),E=W(Z,"DIV",{class:!0,style:!0}),V(E).forEach(b),Z.forEach(b),M=te(R),m=W(R,"DIV",{class:!0});var L=V(m);L.forEach(b),I=te(R),T=W(R,"DIV",{id:!0,class:!0});var j=V(T);P=W(j,"DIV",{id:!0,class:!0});var fe=V(P);H=W(fe,"DIV",{class:!0});var Ee=V(H);be(B.$$.fragment,Ee),D=te(Ee),be(y.$$.fragment,Ee),Ee.forEach(b),k=te(fe),S=W(fe,"DIV",{class:!0});var Le=V(S);be(O.$$.fragment,Le),A=te(Le),be(C.$$.fragment,Le),Le.forEach(b),fe.forEach(b),j.forEach(b),this.h()},h(){var R,Z,de,ye;_(n,"class","country-icon svelte-jcbfjt"),_(n,"style",i=`background:${e[4]((Z=(R=e[3])==null?void 0:R.id)!=null?Z:0)}`),_(l,"class","svelte-jcbfjt"),_(s,"class","dropdown svelte-jcbfjt"),_(f,"class","svelte-jcbfjt"),_(c,"class","dropdown svelte-jcbfjt"),_(E,"class","country-icon svelte-jcbfjt"),_(E,"style",N=`background:${e[4]?e[4]((ye=(de=e[9])==null?void 0:de.id)!=null?ye:0):"white"}`),_(t,"class","selectors svelte-jcbfjt"),_(m,"class","svelte-jcbfjt"),_(H,"class","viz-row svelte-jcbfjt"),_(S,"class","viz-row svelte-jcbfjt"),_(P,"id","content"),_(P,"class","svelte-jcbfjt"),_(T,"id","container"),_(T,"class","svelte-jcbfjt")},m(R,Z){z(R,t,Z),F(t,n),F(t,r),F(t,s),F(s,l),F(l,a),F(s,o),oe(u,s,null),F(t,h),F(t,c),F(c,f),F(f,d),F(c,v),oe(p,c,null),F(t,w),F(t,E),z(R,M,Z),z(R,m,Z),z(R,I,Z),z(R,T,Z),F(T,P),F(P,H),oe(B,H,null),F(H,D),oe(y,H,null),F(P,k),F(P,S),oe(O,S,null),F(S,A),oe(C,S,null),G=!0},p(R,Z){var fe,Ee,Le,tt,Xe,nt,it,gt;(!G||Z&24&&i!==(i=`background:${R[4]((Ee=(fe=R[3])==null?void 0:fe.id)!=null?Ee:0)}`))&&_(n,"style",i);const de={};Z&1&&(de.items=Array.from(R[0].values())),Z&8&&(de.value=R[3]),u.$set(de);const ye={};Z&1&&(ye.items=Array.from(R[0].values())),Z&512&&(ye.value=R[9]),p.$set(ye),(!G||Z&528&&N!==(N=`background:${R[4]?R[4]((tt=(Le=R[9])==null?void 0:Le.id)!=null?tt:0):"white"}`))&&_(E,"style",N);const Ie={};Z&543&&(Ie.data={bilateralData:R[2],country1:(nt=(Xe=R[3])==null?void 0:Xe.id)!=null?nt:0,country2:(gt=(it=R[9])==null?void 0:it.id)!=null?gt:0,productData:R[1],locationData:R[0],countryColorScale:R[4]}),B.$set(Ie);const Se={};Z&952&&(Se.data={loadingDrilldown:R[7],productColorScale:R[5],country1:R[3],country2:R[9],bilateralDataForYear:R[8],countryColorScale:R[4]}),y.$set(Se);const L={};Z&744&&(L.data={productColorScale:R[5],country1:R[3],country2:R[9],drilldownBilateral:R[6],loadingDrilldown:R[7],valueField:"export_value"}),O.$set(L);const j={};Z&744&&(j.data={productColorScale:R[5],country1:R[3],country2:R[9],drilldownBilateral:R[6],loadingDrilldown:R[7],valueField:"import_value"}),C.$set(j)},i(R){G||(x(u.$$.fragment,R),x(p.$$.fragment,R),x(B.$$.fragment,R),x(y.$$.fragment,R),x(O.$$.fragment,R),x(C.$$.fragment,R),G=!0)},o(R){K(u.$$.fragment,R),K(p.$$.fragment,R),K(B.$$.fragment,R),K(y.$$.fragment,R),K(O.$$.fragment,R),K(C.$$.fragment,R),G=!1},d(R){R&&b(t),ue(u),ue(p),R&&b(M),R&&b(m),R&&b(I),R&&b(T),ue(B),ue(y),ue(O),ue(C)}}}function mh(e){let t,n,i,r,s,l,a,o,u,h,c;const f=[_h,dh],d=[];function v(p,w){return p[0]&&p[2]&&p[1]&&p[4]?0:1}return o=v(e),u=d[o]=f[o](e),{c(){t=X("div"),n=X("h1"),i=re("Bilateral Trade Data"),r=ee(),s=X("h2"),l=re("Visualization by Andrew Lee and Franklin Yuan"),a=ee(),u.c(),h=ne(),this.h()},l(p){t=W(p,"DIV",{class:!0});var w=V(t);n=W(w,"H1",{class:!0});var E=V(n);i=le(E,"Bilateral Trade Data"),E.forEach(b),r=te(w),s=W(w,"H2",{class:!0});var N=V(s);l=le(N,"Visualization by Andrew Lee and Franklin Yuan"),N.forEach(b),w.forEach(b),a=te(p),u.l(p),h=ne(),this.h()},h(){_(n,"class","svelte-jcbfjt"),_(s,"class","svelte-jcbfjt"),_(t,"class","heading svelte-jcbfjt")},m(p,w){z(p,t,w),F(t,n),F(n,i),F(t,r),F(t,s),F(s,l),z(p,a,w),d[o].m(p,w),z(p,h,w),c=!0},p(p,[w]){let E=o;o=v(p),o===E?d[o].p(p,w):(me(),K(d[E],1,1,()=>{d[E]=null}),ge(),u=d[o],u?u.p(p,w):(u=d[o]=f[o](p),u.c()),x(u,1),u.m(h.parentNode,h))},i(p){c||(x(u),c=!0)},o(p){K(u),c=!1},d(p){p&&b(t),p&&b(a),d[o].d(p),p&&b(h)}}}const Kr="id",Zr="name",gh=231,ph=43;function vh(e,t,n){let i,r,s,l;oi(e,rn,w=>n(12,l=w));const a=w=>{let E=w.detail;n(3,i=c.get(E.id))},o=w=>{let E=w.detail;n(9,r=c.get(E.id))};let u,h,c=new Map,f=new Map,d,v,p=!1;return on(async()=>{Promise.all([Bt(`${Ot}/data/location.csv`),Bt(`${Ot}/data/hs_product.csv`),Bt(`${Ot}/data/hs_2010_to_2020.csv`)]).then(([w,E,N])=>{var M;n(0,c=Oi(w.map(m=>new Ic(m)).filter(m=>m.level=="country"),m=>m.id)),n(1,f=Oi(E.map(m=>new ni(m)),m=>m.id));for(let[m,I]of f)I.parent=(M=f.get(I.parent_id))!=null?M:null,f.set(m,I);n(2,d=Hn(N.map(m=>new mt(c,f,m)),m=>m.year,m=>m.location_id,m=>m.partner_id)),tl(N,m=>+m.export_value),n(4,u=ei(c.keys(),ur)),n(5,h=ei(Array.from(f).map(([m,I])=>I.level).filter(m=>m=="section"),ur))})}),e.$$.update=()=>{var w,E,N,M,m;e.$$.dirty&1&&n(3,i=(w=c==null?void 0:c.get(gh))!=null?w:null),e.$$.dirty&1&&n(9,r=(E=c==null?void 0:c.get(ph))!=null?E:null),e.$$.dirty&4100&&n(8,s=(N=d==null?void 0:d.get(l))!=null?N:new Map),e.$$.dirty&11&&(n(6,v=null),n(7,p=!0),Bt(`${Ot}/data/${(M=i==null?void 0:i.code)!=null?M:"USA"}/${(m=i==null?void 0:i.code)!=null?m:"USA"}_hs2_2010_to_2020.csv`).then(I=>{n(6,v=Hn(I.map(T=>new mt(c,f,T)),T=>T.partner_id,T=>T.year)),n(7,p=!1)}))},[c,f,d,i,u,h,v,p,s,r,a,o,l]}class kh extends Fe{constructor(t){super(),Ve(this,t,vh,mh,Oe,{})}}export{kh as default};
