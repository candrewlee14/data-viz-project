var hs=Object.defineProperty;var ds=(e,t,n)=>t in e?hs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var he=(e,t,n)=>(ds(e,typeof t!="symbol"?t+"":t,n),n);import{S as De,i as Ve,s as Oe,k as X,l as W,m as D,h as w,n as d,b as B,B as se,I as Ne,J as ce,g as me,t as K,d as ge,f as G,K as sn,L as ri,o as an,M as Zr,N as Me,e as ne,O as li,v as pe,w as ae,x as be,y as oe,z as ue,q as re,r as le,G as F,u as Be,A as xt,a as ee,c as te,P as Y,Q as U,p as st,R as Fn,T as Tt,U as on,V as Mt,W as _s,C as ms,D as gs,E as ps,F as vs,X as si,Y as Li,Z as Ti,_ as ai,$ as Jr,a0 as ys,a1 as Fi,a2 as ws,a3 as bs,a4 as ks,H as Qr,a5 as $r,a6 as Ut,a7 as Is,a8 as Ss,a9 as Es}from"../../chunks/index-dec2a072.js";import{w as Ms,b as Ot}from"../../chunks/paths-f8804f37.js";function qt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function As(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function el(e){let t,n,i;e.length!==2?(t=qt,n=(a,o)=>qt(e(a),o),i=(a,o)=>e(a)-o):(t=e===qt||e===As?e:Cs,n=e,i=e);function r(a,o,u=0,h=a.length){if(u<h){if(t(o,o)!==0)return h;do{const c=u+h>>>1;n(a[c],o)<0?u=c+1:h=c}while(u<h)}return u}function s(a,o,u=0,h=a.length){if(u<h){if(t(o,o)!==0)return h;do{const c=u+h>>>1;n(a[c],o)<=0?u=c+1:h=c}while(u<h)}return u}function l(a,o,u=0,h=a.length){const c=r(a,o,u,h-1);return c>u&&i(a[c-1],o)>-i(a[c],o)?c-1:c}return{left:r,center:l,right:s}}function Cs(){return 0}function Ns(e){return e===null?NaN:+e}const Ls=el(qt),Ts=Ls.right;el(Ns).center;const Fs=Ts;function tl(e,t){let n,i;if(t===void 0)for(const r of e)r!=null&&(n===void 0?r>=r&&(n=i=r):(n>r&&(n=r),i<r&&(i=r)));else{let r=-1;for(let s of e)(s=t(s,++r,e))!=null&&(n===void 0?s>=s&&(n=i=s):(n>s&&(n=s),i<s&&(i=s)))}return[n,i]}class Dn extends Map{constructor(t,n=Os){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(Di(this,t))}has(t){return super.has(Di(this,t))}set(t,n){return super.set(Ds(this,t),n)}delete(t){return super.delete(Vs(this,t))}}function Di({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function Ds({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function Vs({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function Os(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Vn(e){return e}function On(e,...t){return nl(e,Vn,Vn,t)}function Vi(e,...t){return nl(e,Vn,Hs,t)}function Hs(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function nl(e,t,n,i){return function r(s,l){if(l>=i.length)return n(s);const a=new Dn,o=i[l++];let u=-1;for(const h of s){const c=o(h,++u,s),f=a.get(c);f?f.push(h):a.set(c,[h])}for(const[h,c]of a)a.set(h,r(c,l));return t(a)}(e,0)}var Hn=Math.sqrt(50),Rn=Math.sqrt(10),Pn=Math.sqrt(2);function Rs(e,t,n){var i,r=-1,s,l,a;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((i=t<e)&&(s=e,e=t,t=s),(a=il(e,t,n))===0||!isFinite(a))return[];if(a>0){let o=Math.round(e/a),u=Math.round(t/a);for(o*a<e&&++o,u*a>t&&--u,l=new Array(s=u-o+1);++r<s;)l[r]=(o+r)*a}else{a=-a;let o=Math.round(e*a),u=Math.round(t*a);for(o/a<e&&++o,u/a>t&&--u,l=new Array(s=u-o+1);++r<s;)l[r]=(o+r)/a}return i&&l.reverse(),l}function il(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,r);return r>=0?(s>=Hn?10:s>=Rn?5:s>=Pn?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=Hn?10:s>=Rn?5:s>=Pn?2:1)}function Ps(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/r;return s>=Hn?r*=10:s>=Rn?r*=5:s>=Pn&&(r*=2),t<e?-r:r}function Bn(e,t){let n;if(t===void 0)for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let r of e)(r=t(r,++i,e))!=null&&(n<r||n===void 0&&r>=r)&&(n=r)}return n}function Bs(e){return e}var In=1,Sn=2,zn=3,kt=4,Oi=1e-6;function zs(e){return"translate("+e+",0)"}function xs(e){return"translate(0,"+e+")"}function qs(e){return t=>+e(t)}function Gs(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function js(){return!this.__axis}function rl(e,t){var n=[],i=null,r=null,s=6,l=6,a=3,o=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===In||e===kt?-1:1,h=e===kt||e===Sn?"x":"y",c=e===In||e===zn?zs:xs;function f(_){var v=i==null?t.ticks?t.ticks.apply(t,n):t.domain():i,p=r==null?t.tickFormat?t.tickFormat.apply(t,n):Bs:r,k=Math.max(s,0)+a,M=t.range(),A=+M[0]+o,C=+M[M.length-1]+o,m=(t.bandwidth?Gs:qs)(t.copy(),o),S=_.selection?_.selection():_,V=S.selectAll(".domain").data([null]),P=S.selectAll(".tick").data(v,t).order(),R=P.exit(),z=P.enter().append("g").attr("class","tick"),T=P.select("line"),y=P.select("text");V=V.merge(V.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),P=P.merge(z),T=T.merge(z.append("line").attr("stroke","currentColor").attr(h+"2",u*s)),y=y.merge(z.append("text").attr("fill","currentColor").attr(h,u*k).attr("dy",e===In?"0em":e===zn?"0.71em":"0.32em")),_!==S&&(V=V.transition(_),P=P.transition(_),T=T.transition(_),y=y.transition(_),R=R.transition(_).attr("opacity",Oi).attr("transform",function(b){return isFinite(b=m(b))?c(b+o):this.getAttribute("transform")}),z.attr("opacity",Oi).attr("transform",function(b){var I=this.parentNode.__axis;return c((I&&isFinite(I=I(b))?I:m(b))+o)})),R.remove(),V.attr("d",e===kt||e===Sn?l?"M"+u*l+","+A+"H"+o+"V"+C+"H"+u*l:"M"+o+","+A+"V"+C:l?"M"+A+","+u*l+"V"+o+"H"+C+"V"+u*l:"M"+A+","+o+"H"+C),P.attr("opacity",1).attr("transform",function(b){return c(m(b)+o)}),T.attr(h+"2",u*s),y.attr(h,u*k).text(p),S.filter(js).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Sn?"start":e===kt?"end":"middle"),S.each(function(){this.__axis=m})}return f.scale=function(_){return arguments.length?(t=_,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(_){return arguments.length?(n=_==null?[]:Array.from(_),f):n.slice()},f.tickValues=function(_){return arguments.length?(i=_==null?null:Array.from(_),f):i&&i.slice()},f.tickFormat=function(_){return arguments.length?(r=_,f):r},f.tickSize=function(_){return arguments.length?(s=l=+_,f):s},f.tickSizeInner=function(_){return arguments.length?(s=+_,f):s},f.tickSizeOuter=function(_){return arguments.length?(l=+_,f):l},f.tickPadding=function(_){return arguments.length?(a=+_,f):a},f.offset=function(_){return arguments.length?(o=+_,f):o},f}function ll(e){return rl(zn,e)}function Ys(e){return rl(kt,e)}var Us={value:()=>{}};function sl(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Gt(n)}function Gt(e){this._=e}function Xs(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Gt.prototype=sl.prototype={constructor:Gt,on:function(e,t){var n=this._,i=Xs(e+"",n),r,s=-1,l=i.length;if(arguments.length<2){for(;++s<l;)if((r=(e=i[s]).type)&&(r=Ws(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<l;)if(r=(e=i[s]).type)n[r]=Hi(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Hi(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Gt(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,s;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],i=0,r=s.length;i<r;++i)s[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)}};function Ws(e,t){for(var n=0,i=e.length,r;n<i;++n)if((r=e[n]).name===t)return r.value}function Hi(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=Us,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var xn="http://www.w3.org/1999/xhtml";const Ri={svg:"http://www.w3.org/2000/svg",xhtml:xn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function un(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ri.hasOwnProperty(t)?{space:Ri[t],local:e}:e}function Ks(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===xn&&t.documentElement.namespaceURI===xn?t.createElement(e):t.createElementNS(n,e)}}function Zs(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function al(e){var t=un(e);return(t.local?Zs:Ks)(t)}function Js(){}function oi(e){return e==null?Js:function(){return this.querySelector(e)}}function Qs(e){typeof e!="function"&&(e=oi(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],l=s.length,a=i[r]=new Array(l),o,u,h=0;h<l;++h)(o=s[h])&&(u=e.call(o,o.__data__,h,s))&&("__data__"in o&&(u.__data__=o.__data__),a[h]=u);return new Ae(i,this._parents)}function $s(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ea(){return[]}function ol(e){return e==null?ea:function(){return this.querySelectorAll(e)}}function ta(e){return function(){return $s(e.apply(this,arguments))}}function na(e){typeof e=="function"?e=ta(e):e=ol(e);for(var t=this._groups,n=t.length,i=[],r=[],s=0;s<n;++s)for(var l=t[s],a=l.length,o,u=0;u<a;++u)(o=l[u])&&(i.push(e.call(o,o.__data__,u,l)),r.push(o));return new Ae(i,r)}function ul(e){return function(){return this.matches(e)}}function fl(e){return function(t){return t.matches(e)}}var ia=Array.prototype.find;function ra(e){return function(){return ia.call(this.children,e)}}function la(){return this.firstElementChild}function sa(e){return this.select(e==null?la:ra(typeof e=="function"?e:fl(e)))}var aa=Array.prototype.filter;function oa(){return Array.from(this.children)}function ua(e){return function(){return aa.call(this.children,e)}}function fa(e){return this.selectAll(e==null?oa:ua(typeof e=="function"?e:fl(e)))}function ca(e){typeof e!="function"&&(e=ul(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],l=s.length,a=i[r]=[],o,u=0;u<l;++u)(o=s[u])&&e.call(o,o.__data__,u,s)&&a.push(o);return new Ae(i,this._parents)}function cl(e){return new Array(e.length)}function ha(){return new Ae(this._enter||this._groups.map(cl),this._parents)}function Xt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Xt.prototype={constructor:Xt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function da(e){return function(){return e}}function _a(e,t,n,i,r,s){for(var l=0,a,o=t.length,u=s.length;l<u;++l)(a=t[l])?(a.__data__=s[l],i[l]=a):n[l]=new Xt(e,s[l]);for(;l<o;++l)(a=t[l])&&(r[l]=a)}function ma(e,t,n,i,r,s,l){var a,o,u=new Map,h=t.length,c=s.length,f=new Array(h),_;for(a=0;a<h;++a)(o=t[a])&&(f[a]=_=l.call(o,o.__data__,a,t)+"",u.has(_)?r[a]=o:u.set(_,o));for(a=0;a<c;++a)_=l.call(e,s[a],a,s)+"",(o=u.get(_))?(i[a]=o,o.__data__=s[a],u.delete(_)):n[a]=new Xt(e,s[a]);for(a=0;a<h;++a)(o=t[a])&&u.get(f[a])===o&&(r[a]=o)}function ga(e){return e.__data__}function pa(e,t){if(!arguments.length)return Array.from(this,ga);var n=t?ma:_a,i=this._parents,r=this._groups;typeof e!="function"&&(e=da(e));for(var s=r.length,l=new Array(s),a=new Array(s),o=new Array(s),u=0;u<s;++u){var h=i[u],c=r[u],f=c.length,_=va(e.call(h,h&&h.__data__,u,i)),v=_.length,p=a[u]=new Array(v),k=l[u]=new Array(v),M=o[u]=new Array(f);n(h,c,p,k,M,_,t);for(var A=0,C=0,m,S;A<v;++A)if(m=p[A]){for(A>=C&&(C=A+1);!(S=k[C])&&++C<v;);m._next=S||null}}return l=new Ae(l,i),l._enter=a,l._exit=o,l}function va(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ya(){return new Ae(this._exit||this._groups.map(cl),this._parents)}function wa(e,t,n){var i=this.enter(),r=this,s=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),i&&r?i.merge(r).order():r}function ba(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,r=n.length,s=i.length,l=Math.min(r,s),a=new Array(r),o=0;o<l;++o)for(var u=n[o],h=i[o],c=u.length,f=a[o]=new Array(c),_,v=0;v<c;++v)(_=u[v]||h[v])&&(f[v]=_);for(;o<r;++o)a[o]=n[o];return new Ae(a,this._parents)}function ka(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],r=i.length-1,s=i[r],l;--r>=0;)(l=i[r])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function Ia(e){e||(e=Sa);function t(c,f){return c&&f?e(c.__data__,f.__data__):!c-!f}for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var l=n[s],a=l.length,o=r[s]=new Array(a),u,h=0;h<a;++h)(u=l[h])&&(o[h]=u);o.sort(t)}return new Ae(r,this._parents).order()}function Sa(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ea(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ma(){return Array.from(this)}function Aa(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length;r<s;++r){var l=i[r];if(l)return l}return null}function Ca(){let e=0;for(const t of this)++e;return e}function Na(){return!this.node()}function La(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r=t[n],s=0,l=r.length,a;s<l;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this}function Ta(e){return function(){this.removeAttribute(e)}}function Fa(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Da(e,t){return function(){this.setAttribute(e,t)}}function Va(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Oa(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Ha(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ra(e,t){var n=un(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Fa:Ta:typeof t=="function"?n.local?Ha:Oa:n.local?Va:Da)(n,t))}function hl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Pa(e){return function(){this.style.removeProperty(e)}}function Ba(e,t,n){return function(){this.style.setProperty(e,t,n)}}function za(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function xa(e,t,n){return arguments.length>1?this.each((t==null?Pa:typeof t=="function"?za:Ba)(e,t,n==null?"":n)):ct(this.node(),e)}function ct(e,t){return e.style.getPropertyValue(t)||hl(e).getComputedStyle(e,null).getPropertyValue(t)}function qa(e){return function(){delete this[e]}}function Ga(e,t){return function(){this[e]=t}}function ja(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ya(e,t){return arguments.length>1?this.each((t==null?qa:typeof t=="function"?ja:Ga)(e,t)):this.node()[e]}function dl(e){return e.trim().split(/^|\s+/)}function ui(e){return e.classList||new _l(e)}function _l(e){this._node=e,this._names=dl(e.getAttribute("class")||"")}_l.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ml(e,t){for(var n=ui(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function gl(e,t){for(var n=ui(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function Ua(e){return function(){ml(this,e)}}function Xa(e){return function(){gl(this,e)}}function Wa(e,t){return function(){(t.apply(this,arguments)?ml:gl)(this,e)}}function Ka(e,t){var n=dl(e+"");if(arguments.length<2){for(var i=ui(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?Wa:t?Ua:Xa)(n,t))}function Za(){this.textContent=""}function Ja(e){return function(){this.textContent=e}}function Qa(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function $a(e){return arguments.length?this.each(e==null?Za:(typeof e=="function"?Qa:Ja)(e)):this.node().textContent}function eo(){this.innerHTML=""}function to(e){return function(){this.innerHTML=e}}function no(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function io(e){return arguments.length?this.each(e==null?eo:(typeof e=="function"?no:to)(e)):this.node().innerHTML}function ro(){this.nextSibling&&this.parentNode.appendChild(this)}function lo(){return this.each(ro)}function so(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ao(){return this.each(so)}function oo(e){var t=typeof e=="function"?e:al(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function uo(){return null}function fo(e,t){var n=typeof e=="function"?e:al(e),i=t==null?uo:typeof t=="function"?t:oi(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function co(){var e=this.parentNode;e&&e.removeChild(this)}function ho(){return this.each(co)}function _o(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mo(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function go(e){return this.select(e?mo:_o)}function po(e){return arguments.length?this.property("__data__",e):this.node().__data__}function vo(e){return function(t){e.call(this,t,this.__data__)}}function yo(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function wo(e){return function(){var t=this.__on;if(!!t){for(var n=0,i=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++i]=s;++i?t.length=i:delete this.__on}}}function bo(e,t,n){return function(){var i=this.__on,r,s=vo(t);if(i){for(var l=0,a=i.length;l<a;++l)if((r=i[l]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},i?i.push(r):this.__on=[r]}}function ko(e,t,n){var i=yo(e+""),r,s=i.length,l;if(arguments.length<2){var a=this.node().__on;if(a){for(var o=0,u=a.length,h;o<u;++o)for(r=0,h=a[o];r<s;++r)if((l=i[r]).type===h.type&&l.name===h.name)return h.value}return}for(a=t?bo:wo,r=0;r<s;++r)this.each(a(i[r],t,n));return this}function pl(e,t,n){var i=hl(e),r=i.CustomEvent;typeof r=="function"?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Io(e,t){return function(){return pl(this,e,t)}}function So(e,t){return function(){return pl(this,e,t.apply(this,arguments))}}function Eo(e,t){return this.each((typeof t=="function"?So:Io)(e,t))}function*Mo(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length,l;r<s;++r)(l=i[r])&&(yield l)}var vl=[null];function Ae(e,t){this._groups=e,this._parents=t}function Ft(){return new Ae([[document.documentElement]],vl)}function Ao(){return this}Ae.prototype=Ft.prototype={constructor:Ae,select:Qs,selectAll:na,selectChild:sa,selectChildren:fa,filter:ca,data:pa,enter:ha,exit:ya,join:wa,merge:ba,selection:Ao,order:ka,sort:Ia,call:Ea,nodes:Ma,node:Aa,size:Ca,empty:Na,each:La,attr:Ra,style:xa,property:Ya,classed:Ka,text:$a,html:io,raise:lo,lower:ao,append:oo,insert:fo,remove:ho,clone:go,datum:po,on:ko,dispatch:Eo,[Symbol.iterator]:Mo};function It(e){return typeof e=="string"?new Ae([[document.querySelector(e)]],[document.documentElement]):new Ae([[e]],vl)}function fi(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yl(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Dt(){}var At=.7,Wt=1/At,ft="\\s*([+-]?\\d+)\\s*",Ct="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Co=/^#([0-9a-f]{3,8})$/,No=new RegExp(`^rgb\\(${ft},${ft},${ft}\\)$`),Lo=new RegExp(`^rgb\\(${Pe},${Pe},${Pe}\\)$`),To=new RegExp(`^rgba\\(${ft},${ft},${ft},${Ct}\\)$`),Fo=new RegExp(`^rgba\\(${Pe},${Pe},${Pe},${Ct}\\)$`),Do=new RegExp(`^hsl\\(${Ct},${Pe},${Pe}\\)$`),Vo=new RegExp(`^hsla\\(${Ct},${Pe},${Pe},${Ct}\\)$`),Pi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fi(Dt,Qe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Bi,formatHex:Bi,formatHex8:Oo,formatHsl:Ho,formatRgb:zi,toString:zi});function Bi(){return this.rgb().formatHex()}function Oo(){return this.rgb().formatHex8()}function Ho(){return wl(this).formatHsl()}function zi(){return this.rgb().formatRgb()}function Qe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Co.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xi(t):n===3?new ke(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ht(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ht(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=No.exec(e))?new ke(t[1],t[2],t[3],1):(t=Lo.exec(e))?new ke(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=To.exec(e))?Ht(t[1],t[2],t[3],t[4]):(t=Fo.exec(e))?Ht(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Do.exec(e))?ji(t[1],t[2]/100,t[3]/100,1):(t=Vo.exec(e))?ji(t[1],t[2]/100,t[3]/100,t[4]):Pi.hasOwnProperty(e)?xi(Pi[e]):e==="transparent"?new ke(NaN,NaN,NaN,0):null}function xi(e){return new ke(e>>16&255,e>>8&255,e&255,1)}function Ht(e,t,n,i){return i<=0&&(e=t=n=NaN),new ke(e,t,n,i)}function Ro(e){return e instanceof Dt||(e=Qe(e)),e?(e=e.rgb(),new ke(e.r,e.g,e.b,e.opacity)):new ke}function qn(e,t,n,i){return arguments.length===1?Ro(e):new ke(e,t,n,i==null?1:i)}function ke(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}fi(ke,qn,yl(Dt,{brighter(e){return e=e==null?Wt:Math.pow(Wt,e),new ke(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?At:Math.pow(At,e),new ke(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ke(Je(this.r),Je(this.g),Je(this.b),Kt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qi,formatHex:qi,formatHex8:Po,formatRgb:Gi,toString:Gi}));function qi(){return`#${Ze(this.r)}${Ze(this.g)}${Ze(this.b)}`}function Po(){return`#${Ze(this.r)}${Ze(this.g)}${Ze(this.b)}${Ze((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gi(){const e=Kt(this.opacity);return`${e===1?"rgb(":"rgba("}${Je(this.r)}, ${Je(this.g)}, ${Je(this.b)}${e===1?")":`, ${e})`}`}function Kt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Je(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ze(e){return e=Je(e),(e<16?"0":"")+e.toString(16)}function ji(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Fe(e,t,n,i)}function wl(e){if(e instanceof Fe)return new Fe(e.h,e.s,e.l,e.opacity);if(e instanceof Dt||(e=Qe(e)),!e)return new Fe;if(e instanceof Fe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),s=Math.max(t,n,i),l=NaN,a=s-r,o=(s+r)/2;return a?(t===s?l=(n-i)/a+(n<i)*6:n===s?l=(i-t)/a+2:l=(t-n)/a+4,a/=o<.5?s+r:2-s-r,l*=60):a=o>0&&o<1?0:l,new Fe(l,a,o,e.opacity)}function Bo(e,t,n,i){return arguments.length===1?wl(e):new Fe(e,t,n,i==null?1:i)}function Fe(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}fi(Fe,Bo,yl(Dt,{brighter(e){return e=e==null?Wt:Math.pow(Wt,e),new Fe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?At:Math.pow(At,e),new Fe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new ke(En(e>=240?e-240:e+120,r,i),En(e,r,i),En(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Fe(Yi(this.h),Rt(this.s),Rt(this.l),Kt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Kt(this.opacity);return`${e===1?"hsl(":"hsla("}${Yi(this.h)}, ${Rt(this.s)*100}%, ${Rt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Yi(e){return e=(e||0)%360,e<0?e+360:e}function Rt(e){return Math.max(0,Math.min(1,e||0))}function En(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ci=e=>()=>e;function zo(e,t){return function(n){return e+n*t}}function xo(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function qo(e){return(e=+e)==1?bl:function(t,n){return n-t?xo(t,n,e):ci(isNaN(t)?n:t)}}function bl(e,t){var n=t-e;return n?zo(e,n):ci(isNaN(e)?t:e)}const Zt=function e(t){var n=qo(t);function i(r,s){var l=n((r=qn(r)).r,(s=qn(s)).r),a=n(r.g,s.g),o=n(r.b,s.b),u=bl(r.opacity,s.opacity);return function(h){return r.r=l(h),r.g=a(h),r.b=o(h),r.opacity=u(h),r+""}}return i.gamma=e,i}(1);function Go(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(s){for(r=0;r<n;++r)i[r]=e[r]*(1-s)+t[r]*s;return i}}function jo(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Yo(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),s=new Array(n),l;for(l=0;l<i;++l)r[l]=hi(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(a){for(l=0;l<i;++l)s[l]=r[l](a);return s}}function Uo(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Te(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Xo(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=hi(e[r],t[r]):i[r]=t[r];return function(s){for(r in n)i[r]=n[r](s);return i}}var Gn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mn=new RegExp(Gn.source,"g");function Wo(e){return function(){return e}}function Ko(e){return function(t){return e(t)+""}}function kl(e,t){var n=Gn.lastIndex=Mn.lastIndex=0,i,r,s,l=-1,a=[],o=[];for(e=e+"",t=t+"";(i=Gn.exec(e))&&(r=Mn.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[l]?a[l]+=s:a[++l]=s),(i=i[0])===(r=r[0])?a[l]?a[l]+=r:a[++l]=r:(a[++l]=null,o.push({i:l,x:Te(i,r)})),n=Mn.lastIndex;return n<t.length&&(s=t.slice(n),a[l]?a[l]+=s:a[++l]=s),a.length<2?o[0]?Ko(o[0].x):Wo(t):(t=o.length,function(u){for(var h=0,c;h<t;++h)a[(c=o[h]).i]=c.x(u);return a.join("")})}function hi(e,t){var n=typeof t,i;return t==null||n==="boolean"?ci(t):(n==="number"?Te:n==="string"?(i=Qe(t))?(t=i,Zt):kl:t instanceof Qe?Zt:t instanceof Date?Uo:jo(t)?Go:Array.isArray(t)?Yo:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Xo:Te)(e,t)}function Zo(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Ui=180/Math.PI,jn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Il(e,t,n,i,r,s){var l,a,o;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(o=e*n+t*i)&&(n-=e*o,i-=t*o),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,o/=a),e*i<t*n&&(e=-e,t=-t,o=-o,l=-l),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*Ui,skewX:Math.atan(o)*Ui,scaleX:l,scaleY:a}}var Pt;function Jo(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?jn:Il(t.a,t.b,t.c,t.d,t.e,t.f)}function Qo(e){return e==null||(Pt||(Pt=document.createElementNS("http://www.w3.org/2000/svg","g")),Pt.setAttribute("transform",e),!(e=Pt.transform.baseVal.consolidate()))?jn:(e=e.matrix,Il(e.a,e.b,e.c,e.d,e.e,e.f))}function Sl(e,t,n,i){function r(u){return u.length?u.pop()+" ":""}function s(u,h,c,f,_,v){if(u!==c||h!==f){var p=_.push("translate(",null,t,null,n);v.push({i:p-4,x:Te(u,c)},{i:p-2,x:Te(h,f)})}else(c||f)&&_.push("translate("+c+t+f+n)}function l(u,h,c,f){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),f.push({i:c.push(r(c)+"rotate(",null,i)-2,x:Te(u,h)})):h&&c.push(r(c)+"rotate("+h+i)}function a(u,h,c,f){u!==h?f.push({i:c.push(r(c)+"skewX(",null,i)-2,x:Te(u,h)}):h&&c.push(r(c)+"skewX("+h+i)}function o(u,h,c,f,_,v){if(u!==c||h!==f){var p=_.push(r(_)+"scale(",null,",",null,")");v.push({i:p-4,x:Te(u,c)},{i:p-2,x:Te(h,f)})}else(c!==1||f!==1)&&_.push(r(_)+"scale("+c+","+f+")")}return function(u,h){var c=[],f=[];return u=e(u),h=e(h),s(u.translateX,u.translateY,h.translateX,h.translateY,c,f),l(u.rotate,h.rotate,c,f),a(u.skewX,h.skewX,c,f),o(u.scaleX,u.scaleY,h.scaleX,h.scaleY,c,f),u=h=null,function(_){for(var v=-1,p=f.length,k;++v<p;)c[(k=f[v]).i]=k.x(_);return c.join("")}}}var $o=Sl(Jo,"px, ","px)","deg)"),eu=Sl(Qo,", ",")",")"),ht=0,St=0,pt=0,El=1e3,Jt,Et,Qt=0,$e=0,fn=0,Nt=typeof performance=="object"&&performance.now?performance:Date,Ml=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function di(){return $e||(Ml(tu),$e=Nt.now()+fn)}function tu(){$e=0}function $t(){this._call=this._time=this._next=null}$t.prototype=Al.prototype={constructor:$t,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?di():+n)+(t==null?0:+t),!this._next&&Et!==this&&(Et?Et._next=this:Jt=this,Et=this),this._call=e,this._time=n,Yn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yn())}};function Al(e,t,n){var i=new $t;return i.restart(e,t,n),i}function nu(){di(),++ht;for(var e=Jt,t;e;)(t=$e-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ht}function Xi(){$e=(Qt=Nt.now())+fn,ht=St=0;try{nu()}finally{ht=0,ru(),$e=0}}function iu(){var e=Nt.now(),t=e-Qt;t>El&&(fn-=t,Qt=e)}function ru(){for(var e,t=Jt,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Jt=n);Et=e,Yn(i)}function Yn(e){if(!ht){St&&(St=clearTimeout(St));var t=e-$e;t>24?(e<1/0&&(St=setTimeout(Xi,e-Nt.now()-fn)),pt&&(pt=clearInterval(pt))):(pt||(Qt=Nt.now(),pt=setInterval(iu,El)),ht=1,Ml(Xi))}}function Wi(e,t,n){var i=new $t;return t=t==null?0:+t,i.restart(r=>{i.stop(),e(r+t)},t,n),i}var lu=sl("start","end","cancel","interrupt"),su=[],Cl=0,Ki=1,Un=2,jt=3,Zi=4,Xn=5,Yt=6;function cn(e,t,n,i,r,s){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;au(e,n,{name:t,index:i,group:r,on:lu,tween:su,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Cl})}function _i(e,t){var n=He(e,t);if(n.state>Cl)throw new Error("too late; already scheduled");return n}function ze(e,t){var n=He(e,t);if(n.state>jt)throw new Error("too late; already running");return n}function He(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function au(e,t,n){var i=e.__transition,r;i[t]=n,n.timer=Al(s,0,n.time);function s(u){n.state=Ki,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var h,c,f,_;if(n.state!==Ki)return o();for(h in i)if(_=i[h],_.name===n.name){if(_.state===jt)return Wi(l);_.state===Zi?(_.state=Yt,_.timer.stop(),_.on.call("interrupt",e,e.__data__,_.index,_.group),delete i[h]):+h<t&&(_.state=Yt,_.timer.stop(),_.on.call("cancel",e,e.__data__,_.index,_.group),delete i[h])}if(Wi(function(){n.state===jt&&(n.state=Zi,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=Un,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Un){for(n.state=jt,r=new Array(f=n.tween.length),h=0,c=-1;h<f;++h)(_=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=_);r.length=c+1}}function a(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(o),n.state=Xn,1),c=-1,f=r.length;++c<f;)r[c].call(e,h);n.state===Xn&&(n.on.call("end",e,e.__data__,n.index,n.group),o())}function o(){n.state=Yt,n.timer.stop(),delete i[t];for(var u in i)return;delete e.__transition}}function ou(e,t){var n=e.__transition,i,r,s=!0,l;if(!!n){t=t==null?null:t+"";for(l in n){if((i=n[l]).name!==t){s=!1;continue}r=i.state>Un&&i.state<Xn,i.state=Yt,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[l]}s&&delete e.__transition}}function uu(e){return this.each(function(){ou(this,e)})}function fu(e,t){var n,i;return function(){var r=ze(this,e),s=r.tween;if(s!==n){i=n=s;for(var l=0,a=i.length;l<a;++l)if(i[l].name===t){i=i.slice(),i.splice(l,1);break}}r.tween=i}}function cu(e,t,n){var i,r;if(typeof n!="function")throw new Error;return function(){var s=ze(this,e),l=s.tween;if(l!==i){r=(i=l).slice();for(var a={name:t,value:n},o=0,u=r.length;o<u;++o)if(r[o].name===t){r[o]=a;break}o===u&&r.push(a)}s.tween=r}}function hu(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=He(this.node(),n).tween,r=0,s=i.length,l;r<s;++r)if((l=i[r]).name===e)return l.value;return null}return this.each((t==null?fu:cu)(n,e,t))}function mi(e,t,n){var i=e._id;return e.each(function(){var r=ze(this,i);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return He(r,i).value[t]}}function Nl(e,t){var n;return(typeof t=="number"?Te:t instanceof Qe?Zt:(n=Qe(t))?(t=n,Zt):kl)(e,t)}function du(e){return function(){this.removeAttribute(e)}}function _u(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mu(e,t,n){var i,r=n+"",s;return function(){var l=this.getAttribute(e);return l===r?null:l===i?s:s=t(i=l,n)}}function gu(e,t,n){var i,r=n+"",s;return function(){var l=this.getAttributeNS(e.space,e.local);return l===r?null:l===i?s:s=t(i=l,n)}}function pu(e,t,n){var i,r,s;return function(){var l,a=n(this),o;return a==null?void this.removeAttribute(e):(l=this.getAttribute(e),o=a+"",l===o?null:l===i&&o===r?s:(r=o,s=t(i=l,a)))}}function vu(e,t,n){var i,r,s;return function(){var l,a=n(this),o;return a==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),o=a+"",l===o?null:l===i&&o===r?s:(r=o,s=t(i=l,a)))}}function yu(e,t){var n=un(e),i=n==="transform"?eu:Nl;return this.attrTween(e,typeof t=="function"?(n.local?vu:pu)(n,i,mi(this,"attr."+e,t)):t==null?(n.local?_u:du)(n):(n.local?gu:mu)(n,i,t))}function wu(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function bu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ku(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&bu(e,s)),n}return r._value=t,r}function Iu(e,t){var n,i;function r(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&wu(e,s)),n}return r._value=t,r}function Su(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=un(e);return this.tween(n,(i.local?ku:Iu)(i,t))}function Eu(e,t){return function(){_i(this,e).delay=+t.apply(this,arguments)}}function Mu(e,t){return t=+t,function(){_i(this,e).delay=t}}function Au(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Eu:Mu)(t,e)):He(this.node(),t).delay}function Cu(e,t){return function(){ze(this,e).duration=+t.apply(this,arguments)}}function Nu(e,t){return t=+t,function(){ze(this,e).duration=t}}function Lu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Cu:Nu)(t,e)):He(this.node(),t).duration}function Tu(e,t){if(typeof t!="function")throw new Error;return function(){ze(this,e).ease=t}}function Fu(e){var t=this._id;return arguments.length?this.each(Tu(t,e)):He(this.node(),t).ease}function Du(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ze(this,e).ease=n}}function Vu(e){if(typeof e!="function")throw new Error;return this.each(Du(this._id,e))}function Ou(e){typeof e!="function"&&(e=ul(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s=t[r],l=s.length,a=i[r]=[],o,u=0;u<l;++u)(o=s[u])&&e.call(o,o.__data__,u,s)&&a.push(o);return new Ge(i,this._parents,this._name,this._id)}function Hu(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,s=Math.min(i,r),l=new Array(i),a=0;a<s;++a)for(var o=t[a],u=n[a],h=o.length,c=l[a]=new Array(h),f,_=0;_<h;++_)(f=o[_]||u[_])&&(c[_]=f);for(;a<i;++a)l[a]=t[a];return new Ge(l,this._parents,this._name,this._id)}function Ru(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Pu(e,t,n){var i,r,s=Ru(t)?_i:ze;return function(){var l=s(this,e),a=l.on;a!==i&&(r=(i=a).copy()).on(t,n),l.on=r}}function Bu(e,t){var n=this._id;return arguments.length<2?He(this.node(),n).on.on(e):this.each(Pu(n,e,t))}function zu(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function xu(){return this.on("end.remove",zu(this._id))}function qu(e){var t=this._name,n=this._id;typeof e!="function"&&(e=oi(e));for(var i=this._groups,r=i.length,s=new Array(r),l=0;l<r;++l)for(var a=i[l],o=a.length,u=s[l]=new Array(o),h,c,f=0;f<o;++f)(h=a[f])&&(c=e.call(h,h.__data__,f,a))&&("__data__"in h&&(c.__data__=h.__data__),u[f]=c,cn(u[f],t,n,f,u,He(h,n)));return new Ge(s,this._parents,t,n)}function Gu(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ol(e));for(var i=this._groups,r=i.length,s=[],l=[],a=0;a<r;++a)for(var o=i[a],u=o.length,h,c=0;c<u;++c)if(h=o[c]){for(var f=e.call(h,h.__data__,c,o),_,v=He(h,n),p=0,k=f.length;p<k;++p)(_=f[p])&&cn(_,t,n,p,f,v);s.push(f),l.push(h)}return new Ge(s,l,t,n)}var ju=Ft.prototype.constructor;function Yu(){return new ju(this._groups,this._parents)}function Uu(e,t){var n,i,r;return function(){var s=ct(this,e),l=(this.style.removeProperty(e),ct(this,e));return s===l?null:s===n&&l===i?r:r=t(n=s,i=l)}}function Ll(e){return function(){this.style.removeProperty(e)}}function Xu(e,t,n){var i,r=n+"",s;return function(){var l=ct(this,e);return l===r?null:l===i?s:s=t(i=l,n)}}function Wu(e,t,n){var i,r,s;return function(){var l=ct(this,e),a=n(this),o=a+"";return a==null&&(o=a=(this.style.removeProperty(e),ct(this,e))),l===o?null:l===i&&o===r?s:(r=o,s=t(i=l,a))}}function Ku(e,t){var n,i,r,s="style."+t,l="end."+s,a;return function(){var o=ze(this,e),u=o.on,h=o.value[s]==null?a||(a=Ll(t)):void 0;(u!==n||r!==h)&&(i=(n=u).copy()).on(l,r=h),o.on=i}}function Zu(e,t,n){var i=(e+="")=="transform"?$o:Nl;return t==null?this.styleTween(e,Uu(e,i)).on("end.style."+e,Ll(e)):typeof t=="function"?this.styleTween(e,Wu(e,i,mi(this,"style."+e,t))).each(Ku(this._id,e)):this.styleTween(e,Xu(e,i,t),n).on("end.style."+e,null)}function Ju(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function Qu(e,t,n){var i,r;function s(){var l=t.apply(this,arguments);return l!==r&&(i=(r=l)&&Ju(e,l,n)),i}return s._value=t,s}function $u(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,Qu(e,t,n==null?"":n))}function ef(e){return function(){this.textContent=e}}function tf(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function nf(e){return this.tween("text",typeof e=="function"?tf(mi(this,"text",e)):ef(e==null?"":e+""))}function rf(e){return function(t){this.textContent=e.call(this,t)}}function lf(e){var t,n;function i(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&rf(r)),t}return i._value=e,i}function sf(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,lf(e))}function af(){for(var e=this._name,t=this._id,n=Tl(),i=this._groups,r=i.length,s=0;s<r;++s)for(var l=i[s],a=l.length,o,u=0;u<a;++u)if(o=l[u]){var h=He(o,t);cn(o,e,n,u,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Ge(i,this._parents,e,n)}function of(){var e,t,n=this,i=n._id,r=n.size();return new Promise(function(s,l){var a={value:l},o={value:function(){--r===0&&s()}};n.each(function(){var u=ze(this,i),h=u.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(o)),u.on=t}),r===0&&s()})}var uf=0;function Ge(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Tl(){return++uf}var qe=Ft.prototype;Ge.prototype={constructor:Ge,select:qu,selectAll:Gu,selectChild:qe.selectChild,selectChildren:qe.selectChildren,filter:Ou,merge:Hu,selection:Yu,transition:af,call:qe.call,nodes:qe.nodes,node:qe.node,size:qe.size,empty:qe.empty,each:qe.each,on:Bu,attr:yu,attrTween:Su,style:Zu,styleTween:$u,text:nf,textTween:sf,remove:xu,tween:hu,delay:Au,duration:Lu,ease:Fu,easeVarying:Vu,end:of,[Symbol.iterator]:qe[Symbol.iterator]};function ff(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var cf={time:null,delay:0,duration:250,ease:ff};function hf(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function df(e){var t,n;e instanceof Ge?(t=e._id,e=e._name):(t=Tl(),(n=cf).time=di(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var l=i[s],a=l.length,o,u=0;u<a;++u)(o=l[u])&&cn(o,e,t,u,l,n||hf(o,t));return new Ge(i,this._parents,e,t)}Ft.prototype.interrupt=uu;Ft.prototype.transition=df;const Wn=Math.PI,Kn=2*Wn,Ke=1e-6,_f=Kn-Ke;function Zn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Jn(){return new Zn}Zn.prototype=Jn.prototype={constructor:Zn,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,s){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+s)},arcTo:function(e,t,n,i,r){e=+e,t=+t,n=+n,i=+i,r=+r;var s=this._x1,l=this._y1,a=n-e,o=i-t,u=s-e,h=l-t,c=u*u+h*h;if(r<0)throw new Error("negative radius: "+r);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(c>Ke)if(!(Math.abs(h*a-o*u)>Ke)||!r)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=n-s,_=i-l,v=a*a+o*o,p=f*f+_*_,k=Math.sqrt(v),M=Math.sqrt(c),A=r*Math.tan((Wn-Math.acos((v+c-p)/(2*k*M)))/2),C=A/M,m=A/k;Math.abs(C-1)>Ke&&(this._+="L"+(e+C*u)+","+(t+C*h)),this._+="A"+r+","+r+",0,0,"+ +(h*f>u*_)+","+(this._x1=e+m*a)+","+(this._y1=t+m*o)}},arc:function(e,t,n,i,r,s){e=+e,t=+t,n=+n,s=!!s;var l=n*Math.cos(i),a=n*Math.sin(i),o=e+l,u=t+a,h=1^s,c=s?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+o+","+u:(Math.abs(this._x1-o)>Ke||Math.abs(this._y1-u)>Ke)&&(this._+="L"+o+","+u),n&&(c<0&&(c=c%Kn+Kn),c>_f?this._+="A"+n+","+n+",0,1,"+h+","+(e-l)+","+(t-a)+"A"+n+","+n+",0,1,"+h+","+(this._x1=o)+","+(this._y1=u):c>Ke&&(this._+="A"+n+","+n+",0,"+ +(c>=Wn)+","+h+","+(this._x1=e+n*Math.cos(r))+","+(this._y1=t+n*Math.sin(r))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Ji={},An={},Cn=34,vt=10,Nn=13;function Fl(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function mf(e,t){var n=Fl(e);return function(i,r){return t(n(i),r,e)}}function Qi(e){var t=Object.create(null),n=[];return e.forEach(function(i){for(var r in i)r in t||n.push(t[r]=r)}),n}function we(e,t){var n=e+"",i=n.length;return i<t?new Array(t-i+1).join(0)+n:n}function gf(e){return e<0?"-"+we(-e,6):e>9999?"+"+we(e,6):we(e,4)}function pf(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),i=e.getUTCSeconds(),r=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":gf(e.getUTCFullYear())+"-"+we(e.getUTCMonth()+1,2)+"-"+we(e.getUTCDate(),2)+(r?"T"+we(t,2)+":"+we(n,2)+":"+we(i,2)+"."+we(r,3)+"Z":i?"T"+we(t,2)+":"+we(n,2)+":"+we(i,2)+"Z":n||t?"T"+we(t,2)+":"+we(n,2)+"Z":"")}function vf(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function i(c,f){var _,v,p=r(c,function(k,M){if(_)return _(k,M-1);v=k,_=f?mf(k,f):Fl(k)});return p.columns=v||[],p}function r(c,f){var _=[],v=c.length,p=0,k=0,M,A=v<=0,C=!1;c.charCodeAt(v-1)===vt&&--v,c.charCodeAt(v-1)===Nn&&--v;function m(){if(A)return An;if(C)return C=!1,Ji;var V,P=p,R;if(c.charCodeAt(P)===Cn){for(;p++<v&&c.charCodeAt(p)!==Cn||c.charCodeAt(++p)===Cn;);return(V=p)>=v?A=!0:(R=c.charCodeAt(p++))===vt?C=!0:R===Nn&&(C=!0,c.charCodeAt(p)===vt&&++p),c.slice(P+1,V-1).replace(/""/g,'"')}for(;p<v;){if((R=c.charCodeAt(V=p++))===vt)C=!0;else if(R===Nn)C=!0,c.charCodeAt(p)===vt&&++p;else if(R!==n)continue;return c.slice(P,V)}return A=!0,c.slice(P,v)}for(;(M=m())!==An;){for(var S=[];M!==Ji&&M!==An;)S.push(M),M=m();f&&(S=f(S,k++))==null||_.push(S)}return _}function s(c,f){return c.map(function(_){return f.map(function(v){return h(_[v])}).join(e)})}function l(c,f){return f==null&&(f=Qi(c)),[f.map(h).join(e)].concat(s(c,f)).join(`
`)}function a(c,f){return f==null&&(f=Qi(c)),s(c,f).join(`
`)}function o(c){return c.map(u).join(`
`)}function u(c){return c.map(h).join(e)}function h(c){return c==null?"":c instanceof Date?pf(c):t.test(c+="")?'"'+c.replace(/"/g,'""')+'"':c}return{parse:i,parseRows:r,format:l,formatBody:a,formatRows:o,formatRow:u,formatValue:h}}var yf=vf(","),wf=yf.parse;function bf(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function kf(e,t){return fetch(e,t).then(bf)}function If(e){return function(t,n,i){return arguments.length===2&&typeof n=="function"&&(i=n,n=void 0),kf(t,n).then(function(r){return e(r,i)})}}var Bt=If(wf);function Sf(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function en(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function dt(e){return e=en(Math.abs(e)),e?e[1]:NaN}function Ef(e,t){return function(n,i){for(var r=n.length,s=[],l=0,a=e[0],o=0;r>0&&a>0&&(o+a+1>i&&(a=Math.max(1,i-o)),s.push(n.substring(r-=a,r+a)),!((o+=a+1)>i));)a=e[l=(l+1)%e.length];return s.reverse().join(t)}}function Mf(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Af=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tn(e){if(!(t=Af.exec(e)))throw new Error("invalid format: "+e);var t;return new gi({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tn.prototype=gi.prototype;function gi(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}gi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Cf(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var Dl;function Nf(e,t){var n=en(e,t);if(!n)return e+"";var i=n[0],r=n[1],s=r-(Dl=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,l=i.length;return s===l?i:s>l?i+new Array(s-l+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+en(e,Math.max(0,t+s-1))[0]}function $i(e,t){var n=en(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const er={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Sf,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$i(e*100,t),r:$i,s:Nf,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tr(e){return e}var nr=Array.prototype.map,ir=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Lf(e){var t=e.grouping===void 0||e.thousands===void 0?tr:Ef(nr.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?tr:Mf(nr.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",o=e.nan===void 0?"NaN":e.nan+"";function u(c){c=tn(c);var f=c.fill,_=c.align,v=c.sign,p=c.symbol,k=c.zero,M=c.width,A=c.comma,C=c.precision,m=c.trim,S=c.type;S==="n"?(A=!0,S="g"):er[S]||(C===void 0&&(C=12),m=!0,S="g"),(k||f==="0"&&_==="=")&&(k=!0,f="0",_="=");var V=p==="$"?n:p==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",P=p==="$"?i:/[%p]/.test(S)?l:"",R=er[S],z=/[defgprs%]/.test(S);C=C===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function T(y){var b=V,I=P,O,E,N;if(S==="c")I=R(y)+I,y="";else{y=+y;var q=y<0||1/y<0;if(y=isNaN(y)?o:R(Math.abs(y),C),m&&(y=Cf(y)),q&&+y==0&&v!=="+"&&(q=!1),b=(q?v==="("?v:a:v==="-"||v==="("?"":v)+b,I=(S==="s"?ir[8+Dl/3]:"")+I+(q&&v==="("?")":""),z){for(O=-1,E=y.length;++O<E;)if(N=y.charCodeAt(O),48>N||N>57){I=(N===46?r+y.slice(O+1):y.slice(O))+I,y=y.slice(0,O);break}}}A&&!k&&(y=t(y,1/0));var J=b.length+y.length+I.length,Q=J<M?new Array(M-J+1).join(f):"";switch(A&&k&&(y=t(Q+y,Q.length?M-I.length:1/0),Q=""),_){case"<":y=b+y+I+Q;break;case"=":y=b+Q+y+I;break;case"^":y=Q.slice(0,J=Q.length>>1)+b+y+I+Q.slice(J);break;default:y=Q+b+y+I;break}return s(y)}return T.toString=function(){return c+""},T}function h(c,f){var _=u((c=tn(c),c.type="f",c)),v=Math.max(-8,Math.min(8,Math.floor(dt(f)/3)))*3,p=Math.pow(10,-v),k=ir[8+v/3];return function(M){return _(p*M)+k}}return{format:u,formatPrefix:h}}var zt,_t,Vl;Tf({thousands:",",grouping:[3],currency:["$",""]});function Tf(e){return zt=Lf(e),_t=zt.format,Vl=zt.formatPrefix,zt}function Ff(e){return Math.max(0,-dt(Math.abs(e)))}function Df(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dt(t)/3)))*3-dt(Math.abs(e)))}function Vf(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dt(t)-dt(e))+1}function Of(e){var t=0,n=e.children,i=n&&n.length;if(!i)t=1;else for(;--i>=0;)t+=n[i].value;e.value=t}function Hf(){return this.eachAfter(Of)}function Rf(e,t){let n=-1;for(const i of this)e.call(t,i,++n,this);return this}function Pf(e,t){for(var n=this,i=[n],r,s,l=-1;n=i.pop();)if(e.call(t,n,++l,this),r=n.children)for(s=r.length-1;s>=0;--s)i.push(r[s]);return this}function Bf(e,t){for(var n=this,i=[n],r=[],s,l,a,o=-1;n=i.pop();)if(r.push(n),s=n.children)for(l=0,a=s.length;l<a;++l)i.push(s[l]);for(;n=r.pop();)e.call(t,n,++o,this);return this}function zf(e,t){let n=-1;for(const i of this)if(e.call(t,i,++n,this))return i}function xf(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,i=t.children,r=i&&i.length;--r>=0;)n+=i[r].value;t.value=n})}function qf(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Gf(e){for(var t=this,n=jf(t,e),i=[t];t!==n;)t=t.parent,i.push(t);for(var r=i.length;e!==n;)i.splice(r,0,e),e=e.parent;return i}function jf(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),r=null;for(e=n.pop(),t=i.pop();e===t;)r=e,e=n.pop(),t=i.pop();return r}function Yf(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Uf(){return Array.from(this)}function Xf(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Wf(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Kf(){var e=this,t,n=[e],i,r,s;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,i=e.children)for(r=0,s=i.length;r<s;++r)n.push(i[r]);while(n.length)}function Ol(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Qf)):t===void 0&&(t=Jf);for(var n=new Lt(e),i,r=[n],s,l,a,o;i=r.pop();)if((l=t(i.data))&&(o=(l=Array.from(l)).length))for(i.children=l,a=o-1;a>=0;--a)r.push(s=l[a]=new Lt(l[a])),s.parent=i,s.depth=i.depth+1;return n.eachBefore(Hl)}function Zf(){return Ol(this).eachBefore($f)}function Jf(e){return e.children}function Qf(e){return Array.isArray(e)?e[1]:null}function $f(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Hl(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Lt(e){this.data=e,this.depth=this.height=0,this.parent=null}Lt.prototype=Ol.prototype={constructor:Lt,count:Hf,each:Rf,eachAfter:Bf,eachBefore:Pf,find:zf,sum:xf,sort:qf,path:Gf,ancestors:Yf,descendants:Uf,leaves:Xf,links:Wf,copy:Zf,[Symbol.iterator]:Kf};function Ln(e){return e==null?null:Rl(e)}function Rl(e){if(typeof e!="function")throw new Error;return e}function yt(){return 0}function wt(e){return function(){return e}}function ec(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function tc(e,t,n,i,r){for(var s=e.children,l,a=-1,o=s.length,u=e.value&&(i-t)/e.value;++a<o;)l=s[a],l.y0=n,l.y1=r,l.x0=t,l.x1=t+=l.value*u}var nc={depth:-1},rr={},Tn={};function ic(e){return e.id}function rc(e){return e.parentId}function lc(){var e=ic,t=rc,n;function i(r){var s=Array.from(r),l=e,a=t,o,u,h,c,f,_,v,p,k=new Map;if(n!=null){const M=s.map((m,S)=>sc(n(m,S,r))),A=M.map(lr),C=new Set(M).add("");for(const m of A)C.has(m)||(C.add(m),M.push(m),A.push(lr(m)),s.push(Tn));l=(m,S)=>M[S],a=(m,S)=>A[S]}for(h=0,o=s.length;h<o;++h)u=s[h],_=s[h]=new Lt(u),(v=l(u,h,r))!=null&&(v+="")&&(p=_.id=v,k.set(p,k.has(p)?rr:_)),(v=a(u,h,r))!=null&&(v+="")&&(_.parent=v);for(h=0;h<o;++h)if(_=s[h],v=_.parent){if(f=k.get(v),!f)throw new Error("missing: "+v);if(f===rr)throw new Error("ambiguous: "+v);f.children?f.children.push(_):f.children=[_],_.parent=f}else{if(c)throw new Error("multiple roots");c=_}if(!c)throw new Error("no root");if(n!=null){for(;c.data===Tn&&c.children.length===1;)c=c.children[0],--o;for(let M=s.length-1;M>=0&&(_=s[M],_.data===Tn);--M)_.data=null}if(c.parent=nc,c.eachBefore(function(M){M.depth=M.parent.depth+1,--o}).eachBefore(Hl),c.parent=null,o>0)throw new Error("cycle");return c}return i.id=function(r){return arguments.length?(e=Ln(r),i):e},i.parentId=function(r){return arguments.length?(t=Ln(r),i):t},i.path=function(r){return arguments.length?(n=Ln(r),i):n},i}function sc(e){e=`${e}`;let t=e.length;return Qn(e,t-1)&&!Qn(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function lr(e){let t=e.length;if(t<2)return"";for(;--t>1&&!Qn(e,t););return e.slice(0,t)}function Qn(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function ac(e,t,n,i,r){for(var s=e.children,l,a=-1,o=s.length,u=e.value&&(r-n)/e.value;++a<o;)l=s[a],l.x0=t,l.x1=i,l.y0=n,l.y1=n+=l.value*u}var oc=(1+Math.sqrt(5))/2;function uc(e,t,n,i,r,s){for(var l=[],a=t.children,o,u,h=0,c=0,f=a.length,_,v,p=t.value,k,M,A,C,m,S,V;h<f;){_=r-n,v=s-i;do k=a[c++].value;while(!k&&c<f);for(M=A=k,S=Math.max(v/_,_/v)/(p*e),V=k*k*S,m=Math.max(A/V,V/M);c<f;++c){if(k+=u=a[c].value,u<M&&(M=u),u>A&&(A=u),V=k*k*S,C=Math.max(A/V,V/M),C>m){k-=u;break}m=C}l.push(o={value:k,dice:_<v,children:a.slice(h,c)}),o.dice?tc(o,n,i,r,p?i+=v*k/p:s):ac(o,n,i,p?n+=_*k/p:r,s),p-=k,h=c}return l}const Pl=function e(t){function n(i,r,s,l,a){uc(t,i,r,s,l,a)}return n.ratio=function(i){return e((i=+i)>1?i:1)},n}(oc);function fc(){var e=Pl,t=!1,n=1,i=1,r=[0],s=yt,l=yt,a=yt,o=yt,u=yt;function h(f){return f.x0=f.y0=0,f.x1=n,f.y1=i,f.eachBefore(c),r=[0],t&&f.eachBefore(ec),f}function c(f){var _=r[f.depth],v=f.x0+_,p=f.y0+_,k=f.x1-_,M=f.y1-_;k<v&&(v=k=(v+k)/2),M<p&&(p=M=(p+M)/2),f.x0=v,f.y0=p,f.x1=k,f.y1=M,f.children&&(_=r[f.depth+1]=s(f)/2,v+=u(f)-_,p+=l(f)-_,k-=a(f)-_,M-=o(f)-_,k<v&&(v=k=(v+k)/2),M<p&&(p=M=(p+M)/2),e(f,v,p,k,M))}return h.round=function(f){return arguments.length?(t=!!f,h):t},h.size=function(f){return arguments.length?(n=+f[0],i=+f[1],h):[n,i]},h.tile=function(f){return arguments.length?(e=Rl(f),h):e},h.padding=function(f){return arguments.length?h.paddingInner(f).paddingOuter(f):h.paddingInner()},h.paddingInner=function(f){return arguments.length?(s=typeof f=="function"?f:wt(+f),h):s},h.paddingOuter=function(f){return arguments.length?h.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):h.paddingTop()},h.paddingTop=function(f){return arguments.length?(l=typeof f=="function"?f:wt(+f),h):l},h.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:wt(+f),h):a},h.paddingBottom=function(f){return arguments.length?(o=typeof f=="function"?f:wt(+f),h):o},h.paddingLeft=function(f){return arguments.length?(u=typeof f=="function"?f:wt(+f),h):u},h}function Bl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const sr=Symbol("implicit");function $n(){var e=new Dn,t=[],n=[],i=sr;function r(s){let l=e.get(s);if(l===void 0){if(i!==sr)return i;e.set(s,l=t.push(s)-1)}return n[l%n.length]}return r.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Dn;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return r},r.range=function(s){return arguments.length?(n=Array.from(s),r):n.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return $n(t,n).unknown(i)},Bl.apply(r,arguments),r}function cc(e){return function(){return e}}function hc(e){return+e}var ar=[0,1];function ot(e){return e}function ei(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:cc(isNaN(t)?NaN:.5)}function dc(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function _c(e,t,n){var i=e[0],r=e[1],s=t[0],l=t[1];return r<i?(i=ei(r,i),s=n(l,s)):(i=ei(i,r),s=n(s,l)),function(a){return s(i(a))}}function mc(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),s=new Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<i;)r[l]=ei(e[l],e[l+1]),s[l]=n(t[l],t[l+1]);return function(a){var o=Fs(e,a,1,i)-1;return s[o](r[o](a))}}function gc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function pc(){var e=ar,t=ar,n=hi,i,r,s,l=ot,a,o,u;function h(){var f=Math.min(e.length,t.length);return l!==ot&&(l=dc(e[0],e[f-1])),a=f>2?mc:_c,o=u=null,c}function c(f){return f==null||isNaN(f=+f)?s:(o||(o=a(e.map(i),t,n)))(i(l(f)))}return c.invert=function(f){return l(r((u||(u=a(t,e.map(i),Te)))(f)))},c.domain=function(f){return arguments.length?(e=Array.from(f,hc),h()):e.slice()},c.range=function(f){return arguments.length?(t=Array.from(f),h()):t.slice()},c.rangeRound=function(f){return t=Array.from(f),n=Zo,h()},c.clamp=function(f){return arguments.length?(l=f?!0:ot,h()):l!==ot},c.interpolate=function(f){return arguments.length?(n=f,h()):n},c.unknown=function(f){return arguments.length?(s=f,c):s},function(f,_){return i=f,r=_,h()}}function vc(){return pc()(ot,ot)}function yc(e,t,n,i){var r=Ps(e,t,n),s;switch(i=tn(i==null?",f":i),i.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(s=Df(r,l))&&(i.precision=s),Vl(i,l)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=Vf(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=Ff(r))&&(i.precision=s-(i.type==="%")*2);break}}return _t(i)}function wc(e){var t=e.domain;return e.ticks=function(n){var i=t();return Rs(i[0],i[i.length-1],n==null?10:n)},e.tickFormat=function(n,i){var r=t();return yc(r[0],r[r.length-1],n==null?10:n,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,s=i.length-1,l=i[r],a=i[s],o,u,h=10;for(a<l&&(u=l,l=a,a=u,u=r,r=s,s=u);h-- >0;){if(u=il(l,a,n),u===o)return i[r]=l,i[s]=a,t(i);if(u>0)l=Math.floor(l/u)*u,a=Math.ceil(a/u)*u;else if(u<0)l=Math.ceil(l*u)/u,a=Math.floor(a*u)/u;else break;o=u}return e},e}function nn(){var e=vc();return e.copy=function(){return gc(e,nn())},Bl.apply(e,arguments),wc(e)}function bc(e){for(var t=e.length/6|0,n=new Array(t),i=0;i<t;)n[i]="#"+e.slice(i*6,++i*6);return n}const or=bc("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function ut(e,t,n){this.k=e,this.x=t,this.y=n}ut.prototype={constructor:ut,scale:function(e){return e===1?this:new ut(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ut(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new ut(1,0,0);ut.prototype;const ti=Ms(2020);class kc{constructor(t){he(this,"id");he(this,"code");he(this,"name");he(this,"level");this.id=+t.location_id,this.code=t.location_code,this.name=t.location_name_short_en,this.level=t.level}}class ni{constructor(t){he(this,"id");he(this,"code");he(this,"name");he(this,"level");he(this,"parent_id");he(this,"parent");this.id=+t.product_id,this.code=+t.hs_product_code,this.name=t.hs_product_name_short_en,this.level=t.level,this.parent_id=+t.parent_id,this.parent=null}}class mt{constructor(t,n,i){he(this,"location_id");he(this,"location");he(this,"partner_id");he(this,"partner");he(this,"product_id");he(this,"product");he(this,"year");he(this,"export_value");he(this,"import_value");this.location_id=+i.location_id,this.location=t.get(this.location_id),this.partner_id=+i.partner_id,this.partner=t.get(this.partner_id),this.product_id=+i.product_id,this.product=n.get(this.product_id),this.year=+i.year,this.export_value=+i.export_value,this.import_value=+i.import_value}}function Ic(e,t){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r={};return r.top=n.top<0,r.left=n.left<0,r.bottom=n.bottom+i.height>(window.innerHeight||document.documentElement.clientHeight),r.right=n.right>(window.innerWidth||document.documentElement.clientWidth),r.any=r.top||r.left||r.bottom||r.right,r}function Sc(e){let t,n=e[0](e[1],e[2])+"",i;return{c(){t=X("div"),this.h()},l(r){t=W(r,"DIV",{class:!0});var s=D(t);s.forEach(w),this.h()},h(){d(t,"class",i="item "+e[3]+" svelte-3e0qet")},m(r,s){B(r,t,s),t.innerHTML=n},p(r,[s]){s&7&&n!==(n=r[0](r[1],r[2])+"")&&(t.innerHTML=n),s&8&&i!==(i="item "+r[3]+" svelte-3e0qet")&&d(t,"class",i)},i:se,o:se,d(r){r&&w(t)}}}function Ec(e,t,n){let{isActive:i=!1}=t,{isFirst:r=!1}=t,{isHover:s=!1}=t,{isSelectable:l=!1}=t,{getOptionLabel:a=void 0}=t,{item:o=void 0}=t,{filterText:u=""}=t,h="";return e.$$set=c=>{"isActive"in c&&n(4,i=c.isActive),"isFirst"in c&&n(5,r=c.isFirst),"isHover"in c&&n(6,s=c.isHover),"isSelectable"in c&&n(7,l=c.isSelectable),"getOptionLabel"in c&&n(0,a=c.getOptionLabel),"item"in c&&n(1,o=c.item),"filterText"in c&&n(2,u=c.filterText)},e.$$.update=()=>{if(e.$$.dirty&242){const c=[];i&&c.push("active"),r&&c.push("first"),s&&c.push("hover"),o.isGroupHeader&&c.push("groupHeader"),o.isGroupItem&&c.push("groupItem"),l||c.push("notSelectable"),n(3,h=c.join(" "))}},[a,o,u,h,i,r,s,l]}class zl extends De{constructor(t){super(),Ve(this,t,Ec,Sc,Oe,{isActive:4,isFirst:5,isHover:6,isSelectable:7,getOptionLabel:0,item:1,filterText:2})}}function ur(e,t,n){const i=e.slice();return i[41]=t[n],i[42]=n,i}function Mc(e){let t,n,i=e[1],r=[];for(let a=0;a<i.length;a+=1)r[a]=hr(ur(e,i,a));const s=a=>K(r[a],1,1,()=>{r[a]=null});let l=null;return i.length||(l=fr(e)),{c(){for(let a=0;a<r.length;a+=1)r[a].c();t=ne(),l&&l.c()},l(a){for(let o=0;o<r.length;o+=1)r[o].l(a);t=ne(),l&&l.l(a)},m(a,o){for(let u=0;u<r.length;u+=1)r[u].m(a,o);B(a,t,o),l&&l.m(a,o),n=!0},p(a,o){if(o[0]&114390){i=a[1];let u;for(u=0;u<i.length;u+=1){const h=ur(a,i,u);r[u]?(r[u].p(h,o),G(r[u],1)):(r[u]=hr(h),r[u].c(),G(r[u],1),r[u].m(t.parentNode,t))}for(me(),u=i.length;u<r.length;u+=1)s(u);ge(),!i.length&&l?l.p(a,o):i.length?l&&(l.d(1),l=null):(l=fr(a),l.c(),l.m(t.parentNode,t))}},i(a){if(!n){for(let o=0;o<i.length;o+=1)G(r[o]);n=!0}},o(a){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)K(r[o]);n=!1},d(a){li(r,a),a&&w(t),l&&l.d(a)}}}function Ac(e){let t,n,i;var r=e[3];function s(l){return{props:{items:l[1],itemHeight:l[8],$$slots:{default:[Lc,({item:a,i:o})=>({41:a,42:o}),({item:a,i:o})=>[0,(a?1024:0)|(o?2048:0)]]},$$scope:{ctx:l}}}}return r&&(t=pe(r,s(e))),{c(){t&&ae(t.$$.fragment),n=ne()},l(l){t&&be(t.$$.fragment,l),n=ne()},m(l,a){t&&oe(t,l,a),B(l,n,a),i=!0},p(l,a){const o={};if(a[0]&2&&(o.items=l[1]),a[0]&256&&(o.itemHeight=l[8]),a[0]&9814|a[1]&11264&&(o.$$scope={dirty:a,ctx:l}),r!==(r=l[3])){if(t){me();const u=t;K(u.$$.fragment,1,0,()=>{ue(u,1)}),ge()}r?(t=pe(r,s(l)),ae(t.$$.fragment),G(t.$$.fragment,1),oe(t,n.parentNode,n)):t=null}else r&&t.$set(o)},i(l){i||(t&&G(t.$$.fragment,l),i=!0)},o(l){t&&K(t.$$.fragment,l),i=!1},d(l){l&&w(n),t&&ue(t,l)}}}function fr(e){let t,n=!e[11]&&cr(e);return{c(){n&&n.c(),t=ne()},l(i){n&&n.l(i),t=ne()},m(i,r){n&&n.m(i,r),B(i,t,r)},p(i,r){i[11]?n&&(n.d(1),n=null):n?n.p(i,r):(n=cr(i),n.c(),n.m(t.parentNode,t))},d(i){n&&n.d(i),i&&w(t)}}}function cr(e){let t,n;return{c(){t=X("div"),n=re(e[12]),this.h()},l(i){t=W(i,"DIV",{class:!0});var r=D(t);n=le(r,e[12]),r.forEach(w),this.h()},h(){d(t,"class","empty svelte-1uyqfml")},m(i,r){B(i,t,r),F(t,n)},p(i,r){r[0]&4096&&Be(n,i[12])},d(i){i&&w(t)}}}function Cc(e){let t,n,i,r,s,l;var a=e[4];function o(f){return{props:{item:f[41],filterText:f[13],getOptionLabel:f[6],isFirst:ii(f[42]),isActive:rn(f[41],f[9],f[10]),isHover:ln(f[2],f[41],f[42],f[1]),isSelectable:et(f[41])}}}a&&(n=pe(a,o(e)));function u(){return e[29](e[42])}function h(){return e[30](e[42])}function c(...f){return e[31](e[41],e[42],...f)}return{c(){t=X("div"),n&&ae(n.$$.fragment),i=ee(),this.h()},l(f){t=W(f,"DIV",{class:!0,tabindex:!0});var _=D(t);n&&be(n.$$.fragment,_),i=te(_),_.forEach(w),this.h()},h(){d(t,"class","listItem"),d(t,"tabindex","-1")},m(f,_){B(f,t,_),n&&oe(n,t,null),F(t,i),r=!0,s||(l=[ce(t,"mouseover",u),ce(t,"focus",h),ce(t,"click",c)],s=!0)},p(f,_){e=f;const v={};if(_[0]&2&&(v.item=e[41]),_[0]&8192&&(v.filterText=e[13]),_[0]&64&&(v.getOptionLabel=e[6]),_[0]&1538&&(v.isActive=rn(e[41],e[9],e[10])),_[0]&6&&(v.isHover=ln(e[2],e[41],e[42],e[1])),_[0]&2&&(v.isSelectable=et(e[41])),a!==(a=e[4])){if(n){me();const p=n;K(p.$$.fragment,1,0,()=>{ue(p,1)}),ge()}a?(n=pe(a,o(e)),ae(n.$$.fragment),G(n.$$.fragment,1),oe(n,t,i)):n=null}else a&&n.$set(v)},i(f){r||(n&&G(n.$$.fragment,f),r=!0)},o(f){n&&K(n.$$.fragment,f),r=!1},d(f){f&&w(t),n&&ue(n),s=!1,sn(l)}}}function Nc(e){let t,n=e[7](e[41])+"",i;return{c(){t=X("div"),i=re(n),this.h()},l(r){t=W(r,"DIV",{class:!0});var s=D(t);i=le(s,n),s.forEach(w),this.h()},h(){d(t,"class","listGroupTitle svelte-1uyqfml")},m(r,s){B(r,t,s),F(t,i)},p(r,s){s[0]&130&&n!==(n=r[7](r[41])+"")&&Be(i,n)},i:se,o:se,d(r){r&&w(t)}}}function hr(e){let t,n,i,r;const s=[Nc,Cc],l=[];function a(o,u){return o[41].isGroupHeader&&!o[41].isSelectable?0:1}return t=a(e),n=l[t]=s[t](e),{c(){n.c(),i=ne()},l(o){n.l(o),i=ne()},m(o,u){l[t].m(o,u),B(o,i,u),r=!0},p(o,u){let h=t;t=a(o),t===h?l[t].p(o,u):(me(),K(l[h],1,1,()=>{l[h]=null}),ge(),n=l[t],n?n.p(o,u):(n=l[t]=s[t](o),n.c()),G(n,1),n.m(i.parentNode,i))},i(o){r||(G(n),r=!0)},o(o){K(n),r=!1},d(o){l[t].d(o),o&&w(i)}}}function Lc(e){let t,n,i,r,s;var l=e[4];function a(c){return{props:{item:c[41],filterText:c[13],getOptionLabel:c[6],isFirst:ii(c[42]),isActive:rn(c[41],c[9],c[10]),isHover:ln(c[2],c[41],c[42],c[1]),isSelectable:et(c[41])}}}l&&(n=pe(l,a(e)));function o(){return e[26](e[42])}function u(){return e[27](e[42])}function h(...c){return e[28](e[41],e[42],...c)}return{c(){t=X("div"),n&&ae(n.$$.fragment),this.h()},l(c){t=W(c,"DIV",{class:!0});var f=D(t);n&&be(n.$$.fragment,f),f.forEach(w),this.h()},h(){d(t,"class","listItem")},m(c,f){B(c,t,f),n&&oe(n,t,null),i=!0,r||(s=[ce(t,"mouseover",o),ce(t,"focus",u),ce(t,"click",h)],r=!0)},p(c,f){e=c;const _={};if(f[1]&1024&&(_.item=e[41]),f[0]&8192&&(_.filterText=e[13]),f[0]&64&&(_.getOptionLabel=e[6]),f[1]&2048&&(_.isFirst=ii(e[42])),f[0]&1536|f[1]&1024&&(_.isActive=rn(e[41],e[9],e[10])),f[0]&6|f[1]&3072&&(_.isHover=ln(e[2],e[41],e[42],e[1])),f[1]&1024&&(_.isSelectable=et(e[41])),l!==(l=e[4])){if(n){me();const v=n;K(v.$$.fragment,1,0,()=>{ue(v,1)}),ge()}l?(n=pe(l,a(e)),ae(n.$$.fragment),G(n.$$.fragment,1),oe(n,t,null)):n=null}else l&&n.$set(_)},i(c){i||(n&&G(n.$$.fragment,c),i=!0)},o(c){n&&K(n.$$.fragment,c),i=!1},d(c){c&&w(t),n&&ue(n),r=!1,sn(s)}}}function Tc(e){let t,n,i,r,s,l;const a=[Ac,Mc],o=[];function u(h,c){return h[5]?0:1}return n=u(e),i=o[n]=a[n](e),{c(){t=X("div"),i.c(),this.h()},l(h){t=W(h,"DIV",{class:!0,style:!0});var c=D(t);i.l(c),c.forEach(w),this.h()},h(){d(t,"class","listContainer svelte-1uyqfml"),d(t,"style",e[14]),Ne(t,"virtualList",e[5])},m(h,c){B(h,t,c),o[n].m(t,null),e[32](t),r=!0,s||(l=[ce(window,"keydown",e[17]),ce(window,"resize",e[18])],s=!0)},p(h,c){let f=n;n=u(h),n===f?o[n].p(h,c):(me(),K(o[f],1,1,()=>{o[f]=null}),ge(),i=o[n],i?i.p(h,c):(i=o[n]=a[n](h),i.c()),G(i,1),i.m(t,null)),(!r||c[0]&16384)&&d(t,"style",h[14]),(!r||c[0]&32)&&Ne(t,"virtualList",h[5])},i(h){r||(G(i),r=!0)},o(h){K(i),r=!1},d(h){h&&w(t),o[n].d(),e[32](null),s=!1,sn(l)}}}function rn(e,t,n){return t&&t[n]===e[n]}function ii(e){return e===0}function ln(e,t,n,i){return et(t)&&(e===n||i.length===1)}function et(e){return e.isGroupHeader&&e.isSelectable||e.selectable||!e.hasOwnProperty("selectable")}function Fc(e,t,n){const i=ri();let{container:r=void 0}=t,{VirtualList:s=null}=t,{Item:l=zl}=t,{isVirtualList:a=!1}=t,{items:o=[]}=t,{labelIdentifier:u="label"}=t,{getOptionLabel:h=(L,j)=>{if(L)return L.isCreator?`Create "${j}"`:L[u]}}=t,{getGroupHeaderLabel:c=null}=t,{itemHeight:f=40}=t,{hoverItemIndex:_=0}=t,{value:v=void 0}=t,{optionIdentifier:p="value"}=t,{hideEmptyState:k=!1}=t,{noOptionsMessage:M="No options"}=t,{isMulti:A=!1}=t,{activeItemIndex:C=0}=t,{filterText:m=""}=t,{parent:S=null}=t,{listPlacement:V=null}=t,{listAutoWidth:P=null}=t,{listOffset:R=5}=t,z=0,T=!1,y;an(()=>{if(o.length>0&&!A&&v){const L=o.findIndex(j=>j[p]===v[p]);L&&n(2,_=L)}J("active"),r.addEventListener("scroll",()=>{clearTimeout(z),z=setTimeout(()=>{T=!1},100)},!1)}),Zr(()=>{o||n(1,o=[]),o!==y&&o.length>0&&n(2,_=0),y=o});function b(L){L.isCreator||i("itemSelected",L)}function I(L){T||n(2,_=L)}function O(L){const{item:j,i:fe,event:Ee}=L;if(Ee.stopPropagation(),v&&!A&&v[p]===j[p])return E();j.isCreator?i("itemCreated",m):et(j)&&(n(19,C=fe),n(2,_=fe),b(j))}function E(){i("closeList")}async function N(L){if(a)return;let j=!0;for(;j;)L>0&&_===o.length-1?n(2,_=0):L<0&&_===0?n(2,_=o.length-1):n(2,_=_+L),j=!et(o[_]);await xt(),J("hover")}function q(L){switch(L.key){case"Escape":L.preventDefault(),E();break;case"ArrowDown":L.preventDefault(),o.length&&N(1);break;case"ArrowUp":L.preventDefault(),o.length&&N(-1);break;case"Enter":if(L.preventDefault(),o.length===0)break;const j=o[_];if(v&&!A&&v[p]===j[p]){E();break}j.isCreator?i("itemCreated",m):(n(19,C=_),b(o[_]));break;case"Tab":if(L.preventDefault(),o.length===0||v&&v[p]===o[_][p])return E();n(19,C=_),b(o[_]);break}}function J(L){if(a||!r)return;let j;const fe=r.querySelector(`.listItem .${L}`);fe&&(j=r.getBoundingClientRect().bottom-fe.getBoundingClientRect().bottom),n(0,r.scrollTop-=j,r)}let Q;function ve(){const{height:L,width:j}=S.getBoundingClientRect();n(14,Q=""),n(14,Q+=`min-width:${j}px;width:${P?"auto":"100%"};`),V==="top"||V==="auto"&&Ic(S,r).bottom?n(14,Q+=`bottom:${L+R}px;`):n(14,Q+=`top:${L+R}px;`)}const je=L=>I(L),H=L=>I(L),Z=(L,j,fe)=>O({item:L,i:j,event:fe}),de=L=>I(L),ye=L=>I(L),Ie=(L,j,fe)=>O({item:L,i:j,event:fe});function Se(L){Me[L?"unshift":"push"](()=>{r=L,n(0,r)})}return e.$$set=L=>{"container"in L&&n(0,r=L.container),"VirtualList"in L&&n(3,s=L.VirtualList),"Item"in L&&n(4,l=L.Item),"isVirtualList"in L&&n(5,a=L.isVirtualList),"items"in L&&n(1,o=L.items),"labelIdentifier"in L&&n(20,u=L.labelIdentifier),"getOptionLabel"in L&&n(6,h=L.getOptionLabel),"getGroupHeaderLabel"in L&&n(7,c=L.getGroupHeaderLabel),"itemHeight"in L&&n(8,f=L.itemHeight),"hoverItemIndex"in L&&n(2,_=L.hoverItemIndex),"value"in L&&n(9,v=L.value),"optionIdentifier"in L&&n(10,p=L.optionIdentifier),"hideEmptyState"in L&&n(11,k=L.hideEmptyState),"noOptionsMessage"in L&&n(12,M=L.noOptionsMessage),"isMulti"in L&&n(21,A=L.isMulti),"activeItemIndex"in L&&n(19,C=L.activeItemIndex),"filterText"in L&&n(13,m=L.filterText),"parent"in L&&n(22,S=L.parent),"listPlacement"in L&&n(23,V=L.listPlacement),"listAutoWidth"in L&&n(24,P=L.listAutoWidth),"listOffset"in L&&n(25,R=L.listOffset)},e.$$.update=()=>{e.$$.dirty[0]&4194305&&S&&r&&ve()},[r,o,_,s,l,a,h,c,f,v,p,k,M,m,Q,I,O,q,ve,C,u,A,S,V,P,R,je,H,Z,de,ye,Ie,Se]}class Dc extends De{constructor(t){super(),Ve(this,t,Fc,Tc,Oe,{container:0,VirtualList:3,Item:4,isVirtualList:5,items:1,labelIdentifier:20,getOptionLabel:6,getGroupHeaderLabel:7,itemHeight:8,hoverItemIndex:2,value:9,optionIdentifier:10,hideEmptyState:11,noOptionsMessage:12,isMulti:21,activeItemIndex:19,filterText:13,parent:22,listPlacement:23,listAutoWidth:24,listOffset:25},null,[-1,-1])}}function Vc(e){let t,n=e[0](e[1])+"";return{c(){t=X("div"),this.h()},l(i){t=W(i,"DIV",{class:!0});var r=D(t);r.forEach(w),this.h()},h(){d(t,"class","selection svelte-pu1q1n")},m(i,r){B(i,t,r),t.innerHTML=n},p(i,[r]){r&3&&n!==(n=i[0](i[1])+"")&&(t.innerHTML=n)},i:se,o:se,d(i){i&&w(t)}}}function Oc(e,t,n){let{getSelectionLabel:i=void 0}=t,{item:r=void 0}=t;return e.$$set=s=>{"getSelectionLabel"in s&&n(0,i=s.getSelectionLabel),"item"in s&&n(1,r=s.item)},[i,r]}class Hc extends De{constructor(t){super(),Ve(this,t,Oc,Vc,Oe,{getSelectionLabel:0,item:1})}}function dr(e,t,n){const i=e.slice();return i[9]=t[n],i[11]=n,i}function _r(e){let t,n,i,r,s;function l(...a){return e[6](e[11],...a)}return{c(){t=X("div"),n=Y("svg"),i=Y("path"),this.h()},l(a){t=W(a,"DIV",{class:!0});var o=D(t);n=U(o,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0,class:!0});var u=D(n);i=U(u,"path",{d:!0}),D(i).forEach(w),u.forEach(w),o.forEach(w),this.h()},h(){d(i,"d","M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124 l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z"),d(n,"width","100%"),d(n,"height","100%"),d(n,"viewBox","-2 -2 50 50"),d(n,"focusable","false"),d(n,"aria-hidden","true"),d(n,"role","presentation"),d(n,"class","svelte-liu9pa"),d(t,"class","multiSelectItem_clear svelte-liu9pa")},m(a,o){B(a,t,o),F(t,n),F(n,i),r||(s=ce(t,"click",l),r=!0)},p(a,o){e=a},d(a){a&&w(t),r=!1,s()}}}function mr(e){let t,n,i=e[4](e[9])+"",r,s,l,a,o,u=!e[2]&&!e[3]&&_r(e);function h(...c){return e[7](e[11],...c)}return{c(){t=X("div"),n=X("div"),r=ee(),u&&u.c(),s=ee(),this.h()},l(c){t=W(c,"DIV",{class:!0});var f=D(t);n=W(f,"DIV",{class:!0});var _=D(n);_.forEach(w),r=te(f),u&&u.l(f),s=te(f),f.forEach(w),this.h()},h(){d(n,"class","multiSelectItem_label svelte-liu9pa"),d(t,"class",l="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")},m(c,f){B(c,t,f),F(t,n),n.innerHTML=i,F(t,r),u&&u.m(t,null),F(t,s),a||(o=ce(t,"click",h),a=!0)},p(c,f){e=c,f&17&&i!==(i=e[4](e[9])+"")&&(n.innerHTML=i),!e[2]&&!e[3]?u?u.p(e,f):(u=_r(e),u.c(),u.m(t,s)):u&&(u.d(1),u=null),f&6&&l!==(l="multiSelectItem "+(e[1]===e[11]?"active":"")+" "+(e[2]?"disabled":"")+" svelte-liu9pa")&&d(t,"class",l)},d(c){c&&w(t),u&&u.d(),a=!1,o()}}}function Rc(e){let t,n=e[0],i=[];for(let r=0;r<n.length;r+=1)i[r]=mr(dr(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=ne()},l(r){for(let s=0;s<i.length;s+=1)i[s].l(r);t=ne()},m(r,s){for(let l=0;l<i.length;l+=1)i[l].m(r,s);B(r,t,s)},p(r,[s]){if(s&63){n=r[0];let l;for(l=0;l<n.length;l+=1){const a=dr(r,n,l);i[l]?i[l].p(a,s):(i[l]=mr(a),i[l].c(),i[l].m(t.parentNode,t))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},i:se,o:se,d(r){li(i,r),r&&w(t)}}}function Pc(e,t,n){const i=ri();let{value:r=[]}=t,{activeValue:s=void 0}=t,{isDisabled:l=!1}=t,{multiFullItemClearable:a=!1}=t,{getSelectionLabel:o=void 0}=t;function u(f,_){_.stopPropagation(),i("multiItemClear",{i:f})}const h=(f,_)=>u(f,_),c=(f,_)=>a?u(f,_):{};return e.$$set=f=>{"value"in f&&n(0,r=f.value),"activeValue"in f&&n(1,s=f.activeValue),"isDisabled"in f&&n(2,l=f.isDisabled),"multiFullItemClearable"in f&&n(3,a=f.multiFullItemClearable),"getSelectionLabel"in f&&n(4,o=f.getSelectionLabel)},[r,s,l,a,o,u,h,c]}class Bc extends De{constructor(t){super(),Ve(this,t,Pc,Rc,Oe,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4})}}function gr(e,t,n){const i=e.slice();return i[23]=t[n],i}const zc=e=>({item:e&32,i:e&32,hoverItemIndex:e&2}),pr=e=>({item:e[23].data,i:e[23].index,hoverItemIndex:e[1]});function xc(e){let t;return{c(){t=re("Missing template")},l(n){t=le(n,"Missing template")},m(n,i){B(n,t,i)},d(n){n&&w(t)}}}function vr(e,t){let n,i,r;const s=t[15].default,l=ms(s,t,t[14],pr),a=l||xc();return{key:e,first:null,c(){n=X("svelte-virtual-list-row"),a&&a.c(),i=ee(),this.h()},l(o){n=W(o,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var u=D(n);a&&a.l(u),i=te(u),u.forEach(w),this.h()},h(){Fn(n,"class","svelte-g2cagw"),this.first=n},m(o,u){B(o,n,u),a&&a.m(n,null),F(n,i),r=!0},p(o,u){t=o,l&&l.p&&(!r||u&16418)&&gs(l,s,t,t[14],r?vs(s,t[14],u,zc):ps(t[14]),pr)},i(o){r||(G(a,o),r=!0)},o(o){K(a,o),r=!1},d(o){o&&w(n),a&&a.d(o)}}}function qc(e){let t,n,i=[],r=new Map,s,l,a,o,u=e[5];const h=c=>c[23].index;for(let c=0;c<u.length;c+=1){let f=gr(e,u,c),_=h(f);r.set(_,i[c]=vr(_,f))}return{c(){t=X("svelte-virtual-list-viewport"),n=X("svelte-virtual-list-contents");for(let c=0;c<i.length;c+=1)i[c].c();this.h()},l(c){t=W(c,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var f=D(t);n=W(f,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var _=D(n);for(let v=0;v<i.length;v+=1)i[v].l(_);_.forEach(w),f.forEach(w),this.h()},h(){st(n,"padding-top",e[6]+"px"),st(n,"padding-bottom",e[7]+"px"),Fn(n,"class","svelte-g2cagw"),st(t,"height",e[0]),Fn(t,"class","svelte-g2cagw"),Tt(()=>e[18].call(t))},m(c,f){B(c,t,f),F(t,n);for(let _=0;_<i.length;_+=1)i[_].m(n,null);e[16](n),e[17](t),s=on(t,e[18].bind(t)),l=!0,a||(o=ce(t,"scroll",e[8]),a=!0)},p(c,[f]){f&16418&&(u=c[5],me(),i=Mt(i,f,h,1,c,u,r,n,_s,vr,null,gr),ge()),(!l||f&64)&&st(n,"padding-top",c[6]+"px"),(!l||f&128)&&st(n,"padding-bottom",c[7]+"px"),(!l||f&1)&&st(t,"height",c[0])},i(c){if(!l){for(let f=0;f<u.length;f+=1)G(i[f]);l=!0}},o(c){for(let f=0;f<i.length;f+=1)K(i[f]);l=!1},d(c){c&&w(t);for(let f=0;f<i.length;f+=1)i[f].d();e[16](null),e[17](null),s(),a=!1,o()}}}function Gc(e,t,n){let{$$slots:i={},$$scope:r}=t,{items:s=void 0}=t,{height:l="100%"}=t,{itemHeight:a=40}=t,{hoverItemIndex:o=0}=t,{start:u=0}=t,{end:h=0}=t,c=[],f,_,v,p=0,k,M,A=0,C=0,m;async function S(T,y,b){const{scrollTop:I}=_;await xt();let O=A-I,E=u;for(;O<y&&E<T.length;){let q=f[E-u];q||(n(10,h=E+1),await xt(),q=f[E-u]);const J=c[E]=b||q.offsetHeight;O+=J,E+=1}n(10,h=E);const N=T.length-h;m=(A+O)/h,n(7,C=N*m),c.length=T.length,_&&n(3,_.scrollTop=0,_)}async function V(){const{scrollTop:T}=_,y=u;for(let E=0;E<f.length;E+=1)c[u+E]=a||f[E].offsetHeight;let b=0,I=0;for(;b<s.length;){const E=c[b]||m;if(I+E>T){n(9,u=b),n(6,A=I);break}I+=E,b+=1}for(;b<s.length&&(I+=c[b]||m,b+=1,!(I>T+p)););n(10,h=b);const O=s.length-h;for(m=I/h;b<s.length;)c[b++]=m;if(n(7,C=O*m),u<y){await xt();let E=0,N=0;for(let J=u;J<y;J+=1)f[J-u]&&(E+=c[J],N+=a||f[J-u].offsetHeight);const q=N-E;_.scrollTo(0,T+q)}}an(()=>{f=v.getElementsByTagName("svelte-virtual-list-row"),n(13,M=!0)});function P(T){Me[T?"unshift":"push"](()=>{v=T,n(4,v)})}function R(T){Me[T?"unshift":"push"](()=>{_=T,n(3,_)})}function z(){p=this.offsetHeight,n(2,p)}return e.$$set=T=>{"items"in T&&n(11,s=T.items),"height"in T&&n(0,l=T.height),"itemHeight"in T&&n(12,a=T.itemHeight),"hoverItemIndex"in T&&n(1,o=T.hoverItemIndex),"start"in T&&n(9,u=T.start),"end"in T&&n(10,h=T.end),"$$scope"in T&&n(14,r=T.$$scope)},e.$$.update=()=>{e.$$.dirty&3584&&n(5,k=s.slice(u,h).map((T,y)=>({index:y+u,data:T}))),e.$$.dirty&14340&&M&&S(s,p,a)},[l,o,p,_,v,k,A,C,V,u,h,s,a,M,r,i,P,R,z]}class jc extends De{constructor(t){super(),Ve(this,t,Gc,qc,Oe,{items:11,height:0,itemHeight:12,hoverItemIndex:1,start:9,end:10})}}function Yc(e){let t,n;return{c(){t=Y("svg"),n=Y("path"),this.h()},l(i){t=U(i,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,role:!0});var r=D(t);n=U(r,"path",{fill:!0,d:!0}),D(n).forEach(w),r.forEach(w),this.h()},h(){d(n,"fill","currentColor"),d(n,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),d(t,"width","100%"),d(t,"height","100%"),d(t,"viewBox","-2 -2 50 50"),d(t,"focusable","false"),d(t,"aria-hidden","true"),d(t,"role","presentation")},m(i,r){B(i,t,r),F(t,n)},p:se,i:se,o:se,d(i){i&&w(t)}}}class Uc extends De{constructor(t){super(),Ve(this,t,null,Yc,Oe,{})}}function Xc(e,t,n){let i;return function(){let s=this,l=arguments,a=function(){i=null,n||e.apply(s,l)},o=n&&!i;clearTimeout(i),i=setTimeout(a,t),o&&e.apply(s,l)}}function yr(e,t,n){const i=e.slice();return i[103]=t[n],i}function wr(e){let t,n,i,r,s;return{c(){t=X("span"),n=re(e[33]),i=ee(),r=X("span"),s=re(e[32]),this.h()},l(l){t=W(l,"SPAN",{id:!0});var a=D(t);n=le(a,e[33]),a.forEach(w),i=te(l),r=W(l,"SPAN",{id:!0});var o=D(r);s=le(o,e[32]),o.forEach(w),this.h()},h(){d(t,"id","aria-selection"),d(r,"id","aria-context")},m(l,a){B(l,t,a),F(t,n),B(l,i,a),B(l,r,a),F(r,s)},p(l,a){a[1]&4&&Be(n,l[33]),a[1]&2&&Be(s,l[32])},d(l){l&&w(t),l&&w(i),l&&w(r)}}}function br(e){let t,n,i;const r=[e[18]];var s=e[17];function l(a){let o={};for(let u=0;u<r.length;u+=1)o=si(o,r[u]);return{props:o}}return s&&(t=pe(s,l())),{c(){t&&ae(t.$$.fragment),n=ne()},l(a){t&&be(t.$$.fragment,a),n=ne()},m(a,o){t&&oe(t,a,o),B(a,n,o),i=!0},p(a,o){const u=o[0]&262144?ai(r,[Jr(a[18])]):{};if(s!==(s=a[17])){if(t){me();const h=t;K(h.$$.fragment,1,0,()=>{ue(h,1)}),ge()}s?(t=pe(s,l()),ae(t.$$.fragment),G(t.$$.fragment,1),oe(t,n.parentNode,n)):t=null}else s&&t.$set(u)},i(a){i||(t&&G(t.$$.fragment,a),i=!0)},o(a){t&&K(t.$$.fragment,a),i=!1},d(a){a&&w(n),t&&ue(t,a)}}}function kr(e){let t,n,i;var r=e[26];function s(l){return{props:{value:l[2],getSelectionLabel:l[12],activeValue:l[30],isDisabled:l[9],multiFullItemClearable:l[8]}}}return r&&(t=pe(r,s(e)),t.$on("multiItemClear",e[38]),t.$on("focus",e[40])),{c(){t&&ae(t.$$.fragment),n=ne()},l(l){t&&be(t.$$.fragment,l),n=ne()},m(l,a){t&&oe(t,l,a),B(l,n,a),i=!0},p(l,a){const o={};if(a[0]&4&&(o.value=l[2]),a[0]&4096&&(o.getSelectionLabel=l[12]),a[0]&1073741824&&(o.activeValue=l[30]),a[0]&512&&(o.isDisabled=l[9]),a[0]&256&&(o.multiFullItemClearable=l[8]),r!==(r=l[26])){if(t){me();const u=t;K(u.$$.fragment,1,0,()=>{ue(u,1)}),ge()}r?(t=pe(r,s(l)),t.$on("multiItemClear",l[38]),t.$on("focus",l[40]),ae(t.$$.fragment),G(t.$$.fragment,1),oe(t,n.parentNode,n)):t=null}else r&&t.$set(o)},i(l){i||(t&&G(t.$$.fragment,l),i=!0)},o(l){t&&K(t.$$.fragment,l),i=!1},d(l){l&&w(n),t&&ue(t,l)}}}function Ir(e){let t,n,i,r,s;var l=e[25];function a(o){return{props:{item:o[2],getSelectionLabel:o[12]}}}return l&&(n=pe(l,a(e))),{c(){t=X("div"),n&&ae(n.$$.fragment),this.h()},l(o){t=W(o,"DIV",{class:!0});var u=D(t);n&&be(n.$$.fragment,u),u.forEach(w),this.h()},h(){d(t,"class","selectedItem svelte-17l1npl")},m(o,u){B(o,t,u),n&&oe(n,t,null),i=!0,r||(s=ce(t,"focus",e[40]),r=!0)},p(o,u){const h={};if(u[0]&4&&(h.item=o[2]),u[0]&4096&&(h.getSelectionLabel=o[12]),l!==(l=o[25])){if(n){me();const c=n;K(c.$$.fragment,1,0,()=>{ue(c,1)}),ge()}l?(n=pe(l,a(o)),ae(n.$$.fragment),G(n.$$.fragment,1),oe(n,t,null)):n=null}else l&&n.$set(h)},i(o){i||(n&&G(n.$$.fragment,o),i=!0)},o(o){n&&K(n.$$.fragment,o),i=!1},d(o){o&&w(t),n&&ue(n),r=!1,s()}}}function Sr(e){let t,n,i,r,s;var l=e[23];function a(o){return{}}return l&&(n=pe(l,a())),{c(){t=X("div"),n&&ae(n.$$.fragment),this.h()},l(o){t=W(o,"DIV",{class:!0,"aria-hidden":!0});var u=D(t);n&&be(n.$$.fragment,u),u.forEach(w),this.h()},h(){d(t,"class","clearSelect svelte-17l1npl"),d(t,"aria-hidden","true")},m(o,u){B(o,t,u),n&&oe(n,t,null),i=!0,r||(s=ce(t,"click",ys(e[27])),r=!0)},p(o,u){if(l!==(l=o[23])){if(n){me();const h=n;K(h.$$.fragment,1,0,()=>{ue(h,1)}),ge()}l?(n=pe(l,a()),ae(n.$$.fragment),G(n.$$.fragment,1),oe(n,t,null)):n=null}},i(o){i||(n&&G(n.$$.fragment,o),i=!0)},o(o){n&&K(n.$$.fragment,o),i=!1},d(o){o&&w(t),n&&ue(n),r=!1,s()}}}function Er(e){let t;function n(s,l){return s[22]?Kc:Wc}let i=n(e),r=i(e);return{c(){t=X("div"),r.c(),this.h()},l(s){t=W(s,"DIV",{class:!0,"aria-hidden":!0});var l=D(t);r.l(l),l.forEach(w),this.h()},h(){d(t,"class","indicator svelte-17l1npl"),d(t,"aria-hidden","true")},m(s,l){B(s,t,l),r.m(t,null)},p(s,l){i===(i=n(s))&&r?r.p(s,l):(r.d(1),r=i(s),r&&(r.c(),r.m(t,null)))},d(s){s&&w(t),r.d()}}}function Wc(e){let t,n;return{c(){t=Y("svg"),n=Y("path"),this.h()},l(i){t=U(i,"svg",{width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0,class:!0});var r=D(t);n=U(r,"path",{d:!0}),D(n).forEach(w),r.forEach(w),this.h()},h(){d(n,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),d(t,"width","100%"),d(t,"height","100%"),d(t,"viewBox","0 0 20 20"),d(t,"focusable","false"),d(t,"aria-hidden","true"),d(t,"class","svelte-17l1npl")},m(i,r){B(i,t,r),F(t,n)},p:se,d(i){i&&w(t)}}}function Kc(e){let t,n;return{c(){t=new bs(!1),n=ne(),this.h()},l(i){t=ks(i,!1),n=ne(),this.h()},h(){t.a=n},m(i,r){t.m(e[22],i,r),B(i,n,r)},p(i,r){r[0]&4194304&&t.p(i[22])},d(i){i&&w(n),i&&t.d()}}}function Mr(e){let t,n,i;return{c(){t=X("div"),n=Y("svg"),i=Y("circle"),this.h()},l(r){t=W(r,"DIV",{class:!0});var s=D(t);n=U(s,"svg",{class:!0,viewBox:!0});var l=D(n);i=U(l,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-miterlimit":!0}),D(i).forEach(w),l.forEach(w),s.forEach(w),this.h()},h(){d(i,"class","spinner_path svelte-17l1npl"),d(i,"cx","50"),d(i,"cy","50"),d(i,"r","20"),d(i,"fill","none"),d(i,"stroke","currentColor"),d(i,"stroke-width","5"),d(i,"stroke-miterlimit","10"),d(n,"class","spinner_icon svelte-17l1npl"),d(n,"viewBox","25 25 50 50"),d(t,"class","spinner svelte-17l1npl")},m(r,s){B(r,t,s),F(t,n),F(n,i)},d(r){r&&w(t)}}}function Ar(e){let t,n,i,r;const s=[e[34]];function l(u){e[84](u)}var a=e[24];function o(u){let h={};for(let c=0;c<s.length;c+=1)h=si(h,s[c]);return u[28]!==void 0&&(h.hoverItemIndex=u[28]),{props:h}}return a&&(t=pe(a,o(e)),Me.push(()=>Fi(t,"hoverItemIndex",l)),t.$on("itemSelected",e[43]),t.$on("itemCreated",e[44]),t.$on("closeList",e[45])),{c(){t&&ae(t.$$.fragment),i=ne()},l(u){t&&be(t.$$.fragment,u),i=ne()},m(u,h){t&&oe(t,u,h),B(u,i,h),r=!0},p(u,h){const c=h[1]&8?ai(s,[Jr(u[34])]):{};if(!n&&h[0]&268435456&&(n=!0,c.hoverItemIndex=u[28],ws(()=>n=!1)),a!==(a=u[24])){if(t){me();const f=t;K(f.$$.fragment,1,0,()=>{ue(f,1)}),ge()}a?(t=pe(a,o(u)),Me.push(()=>Fi(t,"hoverItemIndex",l)),t.$on("itemSelected",u[43]),t.$on("itemCreated",u[44]),t.$on("closeList",u[45]),ae(t.$$.fragment),G(t.$$.fragment,1),oe(t,i.parentNode,i)):t=null}else a&&t.$set(c)},i(u){r||(t&&G(t.$$.fragment,u),r=!0)},o(u){t&&K(t.$$.fragment,u),r=!1},d(u){u&&w(i),t&&ue(t,u)}}}function Cr(e){let t,n,i;return{c(){t=X("input"),this.h()},l(r){t=W(r,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){d(t,"name",n=e[16].name),d(t,"type","hidden"),t.value=i=e[2]?e[12](e[2]):null,d(t,"class","svelte-17l1npl")},m(r,s){B(r,t,s)},p(r,s){s[0]&65536&&n!==(n=r[16].name)&&d(t,"name",n),s[0]&4100&&i!==(i=r[2]?r[12](r[2]):null)&&(t.value=i)},d(r){r&&w(t)}}}function Nr(e){let t,n=e[2],i=[];for(let r=0;r<n.length;r+=1)i[r]=Lr(yr(e,n,r));return{c(){for(let r=0;r<i.length;r+=1)i[r].c();t=ne()},l(r){for(let s=0;s<i.length;s+=1)i[s].l(r);t=ne()},m(r,s){for(let l=0;l<i.length;l+=1)i[l].m(r,s);B(r,t,s)},p(r,s){if(s[0]&69636){n=r[2];let l;for(l=0;l<n.length;l+=1){const a=yr(r,n,l);i[l]?i[l].p(a,s):(i[l]=Lr(a),i[l].c(),i[l].m(t.parentNode,t))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(r){li(i,r),r&&w(t)}}}function Lr(e){let t,n,i;return{c(){t=X("input"),this.h()},l(r){t=W(r,"INPUT",{name:!0,type:!0,class:!0}),this.h()},h(){d(t,"name",n=e[16].name),d(t,"type","hidden"),t.value=i=e[103]?e[12](e[103]):null,d(t,"class","svelte-17l1npl")},m(r,s){B(r,t,s)},p(r,s){s[0]&65536&&n!==(n=r[16].name)&&d(t,"name",n),s[0]&4100&&i!==(i=r[103]?r[12](r[103]):null)&&(t.value=i)},d(r){r&&w(t)}}}function Zc(e){let t,n,i,r,s,l,a,o,u,h,c,f,_,v,p,k,M,A,C=e[1]&&wr(e),m=e[17]&&br(e),S=e[35]&&kr(e),V=[{readOnly:a=!e[13]},e[31],{placeholder:e[36]},{style:e[14]},{disabled:e[9]}],P={};for(let E=0;E<V.length;E+=1)P=si(P,V[E]);let R=!e[7]&&e[29]&&Ir(e),z=e[37]&&Sr(e),T=!e[37]&&(e[20]||e[19]&&!e[2]||!e[13]&&!e[9]&&!e[4]&&(e[29]&&!e[15]||!e[29]))&&Er(e),y=e[4]&&Mr(),b=e[5]&&Ar(e),I=(!e[7]||e[7]&&!e[35])&&Cr(e),O=e[7]&&e[35]&&Nr(e);return{c(){t=X("div"),n=X("span"),C&&C.c(),i=ee(),m&&m.c(),r=ee(),S&&S.c(),s=ee(),l=X("input"),o=ee(),R&&R.c(),u=ee(),z&&z.c(),h=ee(),T&&T.c(),c=ee(),y&&y.c(),f=ee(),b&&b.c(),_=ee(),I&&I.c(),v=ee(),O&&O.c(),this.h()},l(E){t=W(E,"DIV",{class:!0,style:!0});var N=D(t);n=W(N,"SPAN",{"aria-live":!0,"aria-atomic":!0,"aria-relevant":!0,class:!0});var q=D(n);C&&C.l(q),q.forEach(w),i=te(N),m&&m.l(N),r=te(N),S&&S.l(N),s=te(N),l=W(N,"INPUT",{placeholder:!0,style:!0}),o=te(N),R&&R.l(N),u=te(N),z&&z.l(N),h=te(N),T&&T.l(N),c=te(N),y&&y.l(N),f=te(N),b&&b.l(N),_=te(N),I&&I.l(N),v=te(N),O&&O.l(N),N.forEach(w),this.h()},h(){d(n,"aria-live","polite"),d(n,"aria-atomic","false"),d(n,"aria-relevant","additions text"),d(n,"class","a11yText svelte-17l1npl"),Li(l,P),Ne(l,"svelte-17l1npl",!0),d(t,"class",p="selectContainer "+e[21]+" svelte-17l1npl"),d(t,"style",e[11]),Ne(t,"hasError",e[10]),Ne(t,"multiSelect",e[7]),Ne(t,"disabled",e[9]),Ne(t,"focused",e[1])},m(E,N){B(E,t,N),F(t,n),C&&C.m(n,null),F(t,i),m&&m.m(t,null),F(t,r),S&&S.m(t,null),F(t,s),F(t,l),l.autofocus&&l.focus(),e[82](l),Ti(l,e[3]),F(t,o),R&&R.m(t,null),F(t,u),z&&z.m(t,null),F(t,h),T&&T.m(t,null),F(t,c),y&&y.m(t,null),F(t,f),b&&b.m(t,null),F(t,_),I&&I.m(t,null),F(t,v),O&&O.m(t,null),e[85](t),k=!0,M||(A=[ce(window,"click",e[41]),ce(window,"focusin",e[41]),ce(window,"keydown",e[39]),ce(l,"focus",e[40]),ce(l,"input",e[83]),ce(t,"click",e[42])],M=!0)},p(E,N){E[1]?C?C.p(E,N):(C=wr(E),C.c(),C.m(n,null)):C&&(C.d(1),C=null),E[17]?m?(m.p(E,N),N[0]&131072&&G(m,1)):(m=br(E),m.c(),G(m,1),m.m(t,r)):m&&(me(),K(m,1,1,()=>{m=null}),ge()),E[35]?S?(S.p(E,N),N[1]&16&&G(S,1)):(S=kr(E),S.c(),G(S,1),S.m(t,s)):S&&(me(),K(S,1,1,()=>{S=null}),ge()),Li(l,P=ai(V,[(!k||N[0]&8192&&a!==(a=!E[13]))&&{readOnly:a},N[1]&1&&E[31],(!k||N[1]&32)&&{placeholder:E[36]},(!k||N[0]&16384)&&{style:E[14]},(!k||N[0]&512)&&{disabled:E[9]}])),N[0]&8&&l.value!==E[3]&&Ti(l,E[3]),Ne(l,"svelte-17l1npl",!0),!E[7]&&E[29]?R?(R.p(E,N),N[0]&536871040&&G(R,1)):(R=Ir(E),R.c(),G(R,1),R.m(t,u)):R&&(me(),K(R,1,1,()=>{R=null}),ge()),E[37]?z?(z.p(E,N),N[1]&64&&G(z,1)):(z=Sr(E),z.c(),G(z,1),z.m(t,h)):z&&(me(),K(z,1,1,()=>{z=null}),ge()),!E[37]&&(E[20]||E[19]&&!E[2]||!E[13]&&!E[9]&&!E[4]&&(E[29]&&!E[15]||!E[29]))?T?T.p(E,N):(T=Er(E),T.c(),T.m(t,c)):T&&(T.d(1),T=null),E[4]?y||(y=Mr(),y.c(),y.m(t,f)):y&&(y.d(1),y=null),E[5]?b?(b.p(E,N),N[0]&32&&G(b,1)):(b=Ar(E),b.c(),G(b,1),b.m(t,_)):b&&(me(),K(b,1,1,()=>{b=null}),ge()),!E[7]||E[7]&&!E[35]?I?I.p(E,N):(I=Cr(E),I.c(),I.m(t,v)):I&&(I.d(1),I=null),E[7]&&E[35]?O?O.p(E,N):(O=Nr(E),O.c(),O.m(t,null)):O&&(O.d(1),O=null),(!k||N[0]&2097152&&p!==(p="selectContainer "+E[21]+" svelte-17l1npl"))&&d(t,"class",p),(!k||N[0]&2048)&&d(t,"style",E[11]),(!k||N[0]&2098176)&&Ne(t,"hasError",E[10]),(!k||N[0]&2097280)&&Ne(t,"multiSelect",E[7]),(!k||N[0]&2097664)&&Ne(t,"disabled",E[9]),(!k||N[0]&2097154)&&Ne(t,"focused",E[1])},i(E){k||(G(m),G(S),G(R),G(z),G(b),k=!0)},o(E){K(m),K(S),K(R),K(z),K(b),k=!1},d(E){E&&w(t),C&&C.d(),m&&m.d(),S&&S.d(),e[82](null),R&&R.d(),z&&z.d(),T&&T.d(),y&&y.d(),b&&b.d(),I&&I.d(),O&&O.d(),e[85](null),M=!1,sn(A)}}}function Tr(e){return e.map((t,n)=>({index:n,value:t,label:`${t}`}))}function Jc(e,t,n){let i,r,s,l,a,o,u,h;const c=ri();let{id:f=null}=t,{container:_=void 0}=t,{input:v=void 0}=t,{isMulti:p=!1}=t,{multiFullItemClearable:k=!1}=t,{isDisabled:M=!1}=t,{isCreatable:A=!1}=t,{isFocused:C=!1}=t,{value:m=null}=t,{filterText:S=""}=t,{placeholder:V="Select..."}=t,{placeholderAlwaysShow:P=!1}=t,{items:R=null}=t,{itemFilter:z=(g,x,$)=>`${g}`.toLowerCase().includes(x.toLowerCase())}=t,{groupBy:T=void 0}=t,{groupFilter:y=g=>g}=t,{isGroupHeaderSelectable:b=!1}=t,{getGroupHeaderLabel:I=g=>g[O]||g.id}=t,{labelIdentifier:O="label"}=t,{getOptionLabel:E=(g,x)=>g.isCreator?`Create "${x}"`:g[O]}=t,{optionIdentifier:N="value"}=t,{loadOptions:q=void 0}=t,{hasError:J=!1}=t,{containerStyles:Q=""}=t,{getSelectionLabel:ve=g=>g?g[O]:null}=t,{createGroupHeaderItem:je=g=>({value:g,label:g})}=t,{createItem:H=g=>({value:g,label:g})}=t;const Z=()=>i;let{isSearchable:de=!0}=t,{inputStyles:ye=""}=t,{isClearable:Ie=!0}=t,{isWaiting:Se=!1}=t,{listPlacement:L="auto"}=t,{listOpen:j=!1}=t,{isVirtualList:fe=!1}=t,{loadOptionsInterval:Ee=300}=t,{noOptionsMessage:Le="No options"}=t,{hideEmptyState:tt=!1}=t,{inputAttributes:Xe={}}=t,{listAutoWidth:nt=!0}=t,{itemHeight:it=40}=t,{Icon:gt=void 0}=t,{iconProps:pi={}}=t,{showChevron:vi=!1}=t,{showIndicator:yi=!1}=t,{containerClasses:wi=""}=t,{indicatorSvg:bi=void 0}=t,{listOffset:hn=5}=t,{ClearIcon:ki=Uc}=t,{Item:dn=zl}=t,{List:Ii=Dc}=t,{Selection:Si=Hc}=t,{MultiSelection:Ei=Bc}=t,{VirtualList:_n=jc}=t;function ql(g){if(g.loadOptions&&g.filterText.length>0)return;if(!g.items)return[];g.items&&g.items.length>0&&typeof g.items[0]!="object"&&(g.items=Tr(g.items));let x=g.items.filter($=>{let Ce=z(E($,g.filterText),g.filterText,$);return Ce&&g.isMulti&&g.value&&Array.isArray(g.value)&&(Ce=!g.value.some(We=>We[g.optionIdentifier]===$[g.optionIdentifier])),Ce});return g.groupBy&&(x=Ul(x)),g.isCreatable&&(x=Mi(x,g.filterText)),x}function Mi(g,x){if(x.length===0)return g;const $=H(x);return g[0]&&x===g[0][O]?g:($.isCreator=!0,[...g,$])}let{selectedValue:mn=null}=t,ie,rt,gn,pn,vn,Vt;const Gl=Xc(async()=>{n(4,Se=!0);let g=await q(S).catch(x=>{console.warn("svelte-select loadOptions error :>> ",x),c("error",{type:"loadOptions",details:x})});g&&!g.cancelled&&(g?(g&&g.length>0&&typeof g[0]!="object"&&(g=Tr(g)),n(81,i=[...g]),c("loaded",{items:i})):n(81,i=[]),A&&n(81,i=Mi(i,S)),n(4,Se=!1),n(1,C=!0),n(5,j=!0))},Ee);function jl(){typeof m=="string"?n(2,m={[N]:m,label:m}):p&&Array.isArray(m)&&m.length>0&&n(2,m=m.map(g=>typeof g=="string"?{value:g,label:g}:g))}let lt;function Yl(){n(31,lt=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},Xe)),f&&n(31,lt.id=f,lt),de||n(31,lt.readonly=!0,lt)}function Ul(g){const x=[],$={};g.forEach(We=>{const xe=T(We);x.includes(xe)||(x.push(xe),$[xe]=[],xe&&$[xe].push(Object.assign(je(xe,We),{id:xe,isGroupHeader:!0,isSelectable:b}))),$[xe].push(Object.assign({isGroupItem:!!xe},We))});const Ce=[];return y(x).forEach(We=>{Ce.push(...$[We])}),Ce}function Xl(){if(p){JSON.stringify(m)!==JSON.stringify(rt)&&Ai()&&c("select",m);return}(!rt||JSON.stringify(m[N])!==JSON.stringify(rt[N]))&&c("select",m)}function Wl(){C||j?yn():v&&v.blur()}function Kl(){m&&(Array.isArray(m)?n(2,m=[...m]):n(2,m=[m]))}function Zl(){m&&n(2,m=null)}function Jl(){S.length!==0&&(n(1,C=!0),n(5,j=!0),q?Gl():(n(5,j=!0),p&&n(30,ie=void 0)))}Zr(async()=>{n(77,rt=m),n(78,gn=S),n(79,pn=C),n(80,vn=p)});function Ai(){let g=!0;if(m){const x=[],$=[];m.forEach(Ce=>{x.includes(Ce[N])?g=!1:(x.push(Ce[N]),$.push(Ce))}),g||n(2,m=$)}return g}function Ci(g){let x=g?g[N]:m[N];return R.find($=>$[N]===x)}function Ql(g){!g||g.length===0||g.some(x=>typeof x!="object")||!m||(p?m.some(x=>!x||!x[N]):!m[N])||(Array.isArray(m)?n(2,m=m.map(x=>Ci(x)||x)):n(2,m=Ci()||m))}function Ni(g){const{detail:x}=g,$=m[x?x.i:m.length-1];m.length===1?n(2,m=void 0):n(2,m=m.filter(Ce=>Ce!==$)),c("clear",$)}function $l(g){if(!!C)switch(g.key){case"ArrowDown":g.preventDefault(),n(5,j=!0),n(30,ie=void 0);break;case"ArrowUp":g.preventDefault(),n(5,j=!0),n(30,ie=void 0);break;case"Tab":j||n(1,C=!1);break;case"Backspace":if(!p||S.length>0)return;if(p&&m&&m.length>0){if(Ni(ie!==void 0?ie:m.length-1),ie===0||ie===void 0)break;n(30,ie=m.length>ie?ie-1:void 0)}break;case"ArrowLeft":if(!p||S.length>0)return;ie===void 0?n(30,ie=m.length-1):m.length>ie&&ie!==0&&n(30,ie-=1);break;case"ArrowRight":if(!p||S.length>0||ie===void 0)return;ie===m.length-1?n(30,ie=void 0):ie<m.length-1&&n(30,ie+=1);break}}function yn(){n(1,C=!0),v&&v.focus()}function es(g){if(!_)return;const x=g.path&&g.path.length>0?g.path[0]:g.target;_.contains(x)||_.contains(g.relatedTarget)||(n(1,C=!1),n(5,j=!1),n(30,ie=void 0),v&&v.blur())}function ts(){M||(n(1,C=!0),n(5,j=!j))}function ns(){n(2,m=void 0),n(5,j=!1),c("clear",m),yn()}an(()=>{C&&v&&v.focus()});function is(g){const{detail:x}=g;if(x){n(3,S="");const $=Object.assign({},x);(!$.isGroupHeader||$.isSelectable)&&(p?n(2,m=m?m.concat([$]):[$]):n(2,m=$),n(2,m),setTimeout(()=>{n(5,j=!1),n(30,ie=void 0)}))}}function rs(g){const{detail:x}=g;p?(n(2,m=m||[]),n(2,m=[...m,H(x)])):n(2,m=H(x)),c("itemCreated",x),n(3,S=""),n(5,j=!1),n(30,ie=void 0)}function ls(){n(3,S=""),n(5,j=!1)}let{ariaValues:wn=g=>`Option ${g}, selected.`}=t,{ariaListOpen:bn=(g,x)=>`You are currently focused on option ${g}. There are ${x} results available.`}=t,{ariaFocused:kn=()=>"Select is focused, type to refine list, press down to open the menu."}=t;function ss(){let g;return p&&m.length>0?g=m.map(x=>ve(x)).join(", "):g=ve(m),wn(g)}function as(){if(!C||!i||i.length===0)return"";let g=i[Vt];if(j&&g){let x=ve(g),$=i?i.length:0;return bn(x,$)}else return kn()}function os(g){Me[g?"unshift":"push"](()=>{v=g,n(6,v)})}function us(){S=this.value,n(3,S)}function fs(g){Vt=g,n(28,Vt)}function cs(g){Me[g?"unshift":"push"](()=>{_=g,n(0,_)})}return e.$$set=g=>{"id"in g&&n(46,f=g.id),"container"in g&&n(0,_=g.container),"input"in g&&n(6,v=g.input),"isMulti"in g&&n(7,p=g.isMulti),"multiFullItemClearable"in g&&n(8,k=g.multiFullItemClearable),"isDisabled"in g&&n(9,M=g.isDisabled),"isCreatable"in g&&n(47,A=g.isCreatable),"isFocused"in g&&n(1,C=g.isFocused),"value"in g&&n(2,m=g.value),"filterText"in g&&n(3,S=g.filterText),"placeholder"in g&&n(48,V=g.placeholder),"placeholderAlwaysShow"in g&&n(49,P=g.placeholderAlwaysShow),"items"in g&&n(50,R=g.items),"itemFilter"in g&&n(51,z=g.itemFilter),"groupBy"in g&&n(52,T=g.groupBy),"groupFilter"in g&&n(53,y=g.groupFilter),"isGroupHeaderSelectable"in g&&n(54,b=g.isGroupHeaderSelectable),"getGroupHeaderLabel"in g&&n(55,I=g.getGroupHeaderLabel),"labelIdentifier"in g&&n(56,O=g.labelIdentifier),"getOptionLabel"in g&&n(57,E=g.getOptionLabel),"optionIdentifier"in g&&n(58,N=g.optionIdentifier),"loadOptions"in g&&n(59,q=g.loadOptions),"hasError"in g&&n(10,J=g.hasError),"containerStyles"in g&&n(11,Q=g.containerStyles),"getSelectionLabel"in g&&n(12,ve=g.getSelectionLabel),"createGroupHeaderItem"in g&&n(60,je=g.createGroupHeaderItem),"createItem"in g&&n(61,H=g.createItem),"isSearchable"in g&&n(13,de=g.isSearchable),"inputStyles"in g&&n(14,ye=g.inputStyles),"isClearable"in g&&n(15,Ie=g.isClearable),"isWaiting"in g&&n(4,Se=g.isWaiting),"listPlacement"in g&&n(63,L=g.listPlacement),"listOpen"in g&&n(5,j=g.listOpen),"isVirtualList"in g&&n(64,fe=g.isVirtualList),"loadOptionsInterval"in g&&n(65,Ee=g.loadOptionsInterval),"noOptionsMessage"in g&&n(66,Le=g.noOptionsMessage),"hideEmptyState"in g&&n(67,tt=g.hideEmptyState),"inputAttributes"in g&&n(16,Xe=g.inputAttributes),"listAutoWidth"in g&&n(68,nt=g.listAutoWidth),"itemHeight"in g&&n(69,it=g.itemHeight),"Icon"in g&&n(17,gt=g.Icon),"iconProps"in g&&n(18,pi=g.iconProps),"showChevron"in g&&n(19,vi=g.showChevron),"showIndicator"in g&&n(20,yi=g.showIndicator),"containerClasses"in g&&n(21,wi=g.containerClasses),"indicatorSvg"in g&&n(22,bi=g.indicatorSvg),"listOffset"in g&&n(70,hn=g.listOffset),"ClearIcon"in g&&n(23,ki=g.ClearIcon),"Item"in g&&n(71,dn=g.Item),"List"in g&&n(24,Ii=g.List),"Selection"in g&&n(25,Si=g.Selection),"MultiSelection"in g&&n(26,Ei=g.MultiSelection),"VirtualList"in g&&n(72,_n=g.VirtualList),"selectedValue"in g&&n(73,mn=g.selectedValue),"ariaValues"in g&&n(74,wn=g.ariaValues),"ariaListOpen"in g&&n(75,bn=g.ariaListOpen),"ariaFocused"in g&&n(76,kn=g.ariaFocused)},e.$$.update=()=>{e.$$.dirty[0]&140|e.$$.dirty[1]&405340160&&n(81,i=ql({loadOptions:q,filterText:S,items:R,value:m,isMulti:p,optionIdentifier:N,groupBy:T,isCreatable:A})),e.$$.dirty[2]&2048&&mn&&console.warn("selectedValue is no longer used. Please use value instead."),e.$$.dirty[1]&524288&&Ql(R),e.$$.dirty[0]&4&&m&&jl(),e.$$.dirty[0]&73728&&(Xe||!de)&&Yl(),e.$$.dirty[0]&128|e.$$.dirty[2]&262144&&(p&&Kl(),vn&&!p&&Zl()),e.$$.dirty[0]&132&&p&&m&&m.length>1&&Ai(),e.$$.dirty[0]&4&&m&&Xl(),e.$$.dirty[0]&132|e.$$.dirty[2]&32768&&!m&&p&&rt&&c("select",m),e.$$.dirty[0]&2|e.$$.dirty[2]&131072&&C!==pn&&Wl(),e.$$.dirty[0]&8|e.$$.dirty[2]&65536&&S!==gn&&Jl(),e.$$.dirty[0]&12&&n(29,r=m&&S.length===0),e.$$.dirty[0]&536904208&&n(37,s=r&&Ie&&!M&&!Se),e.$$.dirty[0]&132|e.$$.dirty[1]&393216&&n(36,l=P&&p?V:m?"":V),e.$$.dirty[0]&132&&n(35,a=p&&m&&m.length>0),e.$$.dirty[0]&141|e.$$.dirty[1]&218103808|e.$$.dirty[2]&526326&&n(34,o={Item:dn,filterText:S,optionIdentifier:N,noOptionsMessage:Le,hideEmptyState:tt,isVirtualList:fe,VirtualList:_n,value:m,isMulti:p,getGroupHeaderLabel:I,items:i,itemHeight:it,getOptionLabel:E,listPlacement:L,parent:_,listAutoWidth:nt,listOffset:hn}),e.$$.dirty[0]&132&&n(33,u=m?ss():""),e.$$.dirty[0]&268435490|e.$$.dirty[2]&524288&&n(32,h=as())},[_,C,m,S,Se,j,v,p,k,M,J,Q,ve,de,ye,Ie,Xe,gt,pi,vi,yi,wi,bi,ki,Ii,Si,Ei,ns,Vt,r,ie,lt,h,u,o,a,l,s,Ni,$l,yn,es,ts,is,rs,ls,f,A,V,P,R,z,T,y,b,I,O,E,N,q,je,H,Z,L,fe,Ee,Le,tt,nt,it,hn,dn,_n,mn,wn,bn,kn,rt,gn,pn,vn,i,os,us,fs,cs]}class Fr extends De{constructor(t){super(),Ve(this,t,Jc,Zc,Oe,{id:46,container:0,input:6,isMulti:7,multiFullItemClearable:8,isDisabled:9,isCreatable:47,isFocused:1,value:2,filterText:3,placeholder:48,placeholderAlwaysShow:49,items:50,itemFilter:51,groupBy:52,groupFilter:53,isGroupHeaderSelectable:54,getGroupHeaderLabel:55,labelIdentifier:56,getOptionLabel:57,optionIdentifier:58,loadOptions:59,hasError:10,containerStyles:11,getSelectionLabel:12,createGroupHeaderItem:60,createItem:61,getFilteredItems:62,isSearchable:13,inputStyles:14,isClearable:15,isWaiting:4,listPlacement:63,listOpen:5,isVirtualList:64,loadOptionsInterval:65,noOptionsMessage:66,hideEmptyState:67,inputAttributes:16,listAutoWidth:68,itemHeight:69,Icon:17,iconProps:18,showChevron:19,showIndicator:20,containerClasses:21,indicatorSvg:22,listOffset:70,ClearIcon:23,Item:71,List:24,Selection:25,MultiSelection:26,VirtualList:72,selectedValue:73,handleClear:27,ariaValues:74,ariaListOpen:75,ariaFocused:76},null,[-1,-1,-1,-1])}get getFilteredItems(){return this.$$.ctx[62]}get handleClear(){return this.$$.ctx[27]}}function Dr(e,t,n){const i=e.slice();return i[24]=t[n],i}function Vr(e,t,n){const i=e.slice();return i[24]=t[n],i}function Or(e,t){let n,i,r,s,l,a;return{key:e,first:null,c(){n=Y("circle"),this.h()},l(o){n=U(o,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),D(n).forEach(w),this.h()},h(){d(n,"cx",i=t[9](t[24].year)),d(n,"cy",r=t[8](t[24].export_value)),d(n,"r","5"),d(n,"fill",s=t[11](t[0])),d(n,"class","svelte-wx1vup"),this.first=n},m(o,u){B(o,n,u),l||(a=ce(n,"click",function(){$r(t[13](t[24].year))&&t[13](t[24].year).apply(this,arguments)}),l=!0)},p(o,u){t=o,u&1536&&i!==(i=t[9](t[24].year))&&d(n,"cx",i),u&1280&&r!==(r=t[8](t[24].export_value))&&d(n,"cy",r),u&2049&&s!==(s=t[11](t[0]))&&d(n,"fill",s)},d(o){o&&w(n),l=!1,a()}}}function Hr(e,t){let n,i,r,s,l,a;return{key:e,first:null,c(){n=Y("circle"),this.h()},l(o){n=U(o,"circle",{cx:!0,cy:!0,r:!0,fill:!0,class:!0}),D(n).forEach(w),this.h()},h(){d(n,"cx",i=t[9](t[24].year)),d(n,"cy",r=t[8](t[24].import_value)),d(n,"r","5"),d(n,"fill",s=t[11](t[1])),d(n,"class","svelte-wx1vup"),this.first=n},m(o,u){B(o,n,u),l||(a=ce(n,"click",function(){$r(t[13](t[24].year))&&t[13](t[24].year).apply(this,arguments)}),l=!0)},p(o,u){t=o,u&1536&&i!==(i=t[9](t[24].year))&&d(n,"cx",i),u&1280&&r!==(r=t[8](t[24].import_value))&&d(n,"cy",r),u&2050&&s!==(s=t[11](t[1]))&&d(n,"fill",s)},d(o){o&&w(n),l=!1,a()}}}function Qc(e){let t,n,i,r,s,l,a,o,u,h,c,f,_,v,p=[],k=new Map,M,A,C,m=[],S=new Map,V,P=e[10];const R=y=>y[24].year;for(let y=0;y<P.length;y+=1){let b=Vr(e,P,y),I=R(b);k.set(I,p[y]=Or(I,b))}let z=e[10];const T=y=>y[24].year;for(let y=0;y<z.length;y+=1){let b=Dr(e,z,y),I=T(b);S.set(I,m[y]=Hr(I,b))}return{c(){t=X("div"),n=Y("svg"),i=Y("text"),r=re("Total Trade Over Time"),l=Y("rect"),u=Y("g"),c=Y("g"),f=Y("g"),_=Y("path");for(let y=0;y<p.length;y+=1)p[y].c();M=Y("g"),A=Y("path");for(let y=0;y<m.length;y+=1)m[y].c();this.h()},l(y){t=W(y,"DIV",{id:!0,class:!0});var b=D(t);n=U(b,"svg",{width:!0,height:!0});var I=D(n);i=U(I,"text",{class:!0,x:!0,y:!0,"text-anchor":!0});var O=D(i);r=le(O,"Total Trade Over Time"),O.forEach(w),l=U(I,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),D(l).forEach(w),u=U(I,"g",{id:!0,transform:!0}),D(u).forEach(w),c=U(I,"g",{id:!0,transform:!0}),D(c).forEach(w),f=U(I,"g",{class:!0});var E=D(f);_=U(E,"path",{fill:!0,stroke:!0,"stroke-width":!0}),D(_).forEach(w);for(let q=0;q<p.length;q+=1)p[q].l(E);E.forEach(w),M=U(I,"g",{class:!0});var N=D(M);A=U(N,"path",{fill:!0,stroke:!0,"stroke-width":!0}),D(A).forEach(w);for(let q=0;q<m.length;q+=1)m[q].l(N);N.forEach(w),I.forEach(w),b.forEach(w),this.h()},h(){d(i,"class","chart-header"),d(i,"x",s=e[2]/2),d(i,"y",Ue-5),d(i,"text-anchor","middle"),d(l,"x",a=e[9](e[12])-12),d(l,"y",35),d(l,"width","24"),d(l,"height",o=e[3]-35-Ue),d(l,"fill","rgba(0,0,0,0.2)"),d(u,"id","xAxis"),d(u,"transform",h=`translate(${0},${e[3]-Ue})`),d(c,"id","yAis"),d(c,"transform",`translate(${xl},${0})`),d(_,"fill","none"),d(_,"stroke",v=e[11](e[0])),d(_,"stroke-width","2"),d(f,"class","country1-group country-group svelte-wx1vup"),d(A,"fill","none"),d(A,"stroke",C=e[11](e[1])),d(A,"stroke-width","2"),d(M,"class","country2-group country-group svelte-wx1vup"),d(n,"width",e[2]),d(n,"height",e[3]),d(t,"id","line-chart"),d(t,"class","viz-section"),Tt(()=>e[22].call(t))},m(y,b){B(y,t,b),F(t,n),F(n,i),F(i,r),F(n,l),F(n,u),e[18](u),F(n,c),e[19](c),F(n,f),F(f,_),e[20](_);for(let I=0;I<p.length;I+=1)p[I].m(f,null);F(n,M),F(M,A),e[21](A);for(let I=0;I<m.length;I+=1)m[I].m(M,null);V=on(t,e[22].bind(t))},p(y,[b]){b&4&&s!==(s=y[2]/2)&&d(i,"x",s),b&4608&&a!==(a=y[9](y[12])-12)&&d(l,"x",a),b&8&&o!==(o=y[3]-35-Ue)&&d(l,"height",o),b&8&&h!==(h=`translate(${0},${y[3]-Ue})`)&&d(u,"transform",h),b&2049&&v!==(v=y[11](y[0]))&&d(_,"stroke",v),b&12033&&(P=y[10],p=Mt(p,b,R,1,y,P,k,f,Ut,Or,null,Vr)),b&2050&&C!==(C=y[11](y[1]))&&d(A,"stroke",C),b&12034&&(z=y[10],m=Mt(m,b,T,1,y,z,S,M,Ut,Hr,null,Dr)),b&4&&d(n,"width",y[2]),b&8&&d(n,"height",y[3])},i:se,o:se,d(y){y&&w(t),e[18](null),e[19](null),e[20](null);for(let b=0;b<p.length;b+=1)p[b].d();e[21](null);for(let b=0;b<m.length;b+=1)m[b].d();V()}}}const Ue=35,$c=15,xl=50;function eh(e,t,n){let i,r,s,l;Qr(e,ti,y=>n(12,l=y));let{data:a}=t,{bilateralData:o,locationData:u,productData:h,country1:c,country2:f,countryColorScale:_}=a,v=800,p=400;const k=y=>_t("$.2s")(y).replace(/G/,"B");let M,A,C,m;function S(y){return()=>ti.set(y)}function V(y){Me[y?"unshift":"push"](()=>{M=y,n(4,M)})}function P(y){Me[y?"unshift":"push"](()=>{A=y,n(5,A)})}function R(y){Me[y?"unshift":"push"](()=>{C=y,n(6,C)})}function z(y){Me[y?"unshift":"push"](()=>{m=y,n(7,m)})}function T(){v=this.clientWidth,p=this.clientHeight,n(2,v),n(3,p)}return e.$$set=y=>{"data"in y&&n(14,a=y.data)},e.$$.update=()=>{var y,b;if(e.$$.dirty&16384&&n(15,{bilateralData:o,locationData:u,productData:h,country1:c,country2:f,countryColorScale:_}=a,o,(n(16,u),n(14,a)),(n(17,h),n(14,a)),(n(0,c),n(14,a)),(n(1,f),n(14,a)),(n(11,_),n(14,a))),e.$$.dirty&229379&&n(10,i=Array.from((y=o==null?void 0:o.entries())!=null?y:new Array).map(I=>{var N,q,J;let O=I[0];return(J=(q=(N=I[1].get(c))==null?void 0:N.get(f))==null?void 0:q.reduce((Q,ve)=>(Q.export_value+=ve.export_value,Q.import_value+=ve.import_value,Q),new mt(u,h,{location_id:c,partner_id:f,product_id:0,year:O,export_value:0,import_value:0})))!=null?J:new mt(u,h,{location_id:c,partner_id:f,product_id:0,year:O,export_value:0,import_value:0})}).sort((I,O)=>I.year-O.year)),e.$$.dirty&1032&&n(8,r=nn().domain([0,(b=Bn(i,I=>Math.max(I.export_value,I.import_value)))!=null?b:0]).range([p-Ue,Ue+$c])),e.$$.dirty&1028&&n(9,s=nn().domain(tl(i,I=>I.year)).range([xl,v-Ue])),e.$$.dirty&816){let I=ll(s).tickFormat(_t("d"));It(M).transition().call(I);let O=Ys(r).tickFormat(E=>k(E));It(A).transition().call(O)}if(e.$$.dirty&1856){let I=Jn();i.length>0&&I.moveTo(s(i[0].year),r(i[0].export_value)),i.forEach(O=>{I.lineTo(s(O.year),r(O.export_value))}),It(C).transition().attr("d",I.toString())}if(e.$$.dirty&1920){let I=Jn();i.length>0&&I.moveTo(s(i[0].year),r(i[0].import_value)),i.forEach(O=>{I.lineTo(s(O.year),r(O.import_value))}),It(m).transition().attr("d",I.toString())}},[c,f,v,p,M,A,C,m,r,s,i,_,l,S,a,o,u,h,V,P,R,z,T]}class th extends De{constructor(t){super(),Ve(this,t,eh,Qc,Oe,{data:14})}}function nh(e,{delay:t=0,duration:n=400,easing:i=Is}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:i,css:s=>`opacity: ${s*r}`}}function Rr(e,t,n){const i=e.slice();return i[18]=t[n],i[20]=n,i}function ih(e){let t,n,i,r,s;return{c(){t=Y("text"),n=re("No valid data for this pair."),this.h()},l(l){t=U(l,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var a=D(t);n=le(a,"No valid data for this pair."),a.forEach(w),this.h()},h(){d(t,"x",i=e[2]/2),d(t,"y",r=e[8]/2),d(t,"alignment-baseline","central"),d(t,"text-anchor","middle")},m(l,a){B(l,t,a),F(t,n)},p(l,a){a&4&&i!==(i=l[2]/2)&&d(t,"x",i),a&256&&r!==(r=l[8]/2)&&d(t,"y",r)},i(l){s||Tt(()=>{s=Ss(t,nh,{}),s.start()})},o:se,d(l){l&&w(t)}}}function rh(e){var T,y;let t,n,i,r,s,l,a,o=((T=e[0])==null?void 0:T.name)+"",u,h,c,f=((y=e[1])==null?void 0:y.name)+"",_,v,p,k=[],M=new Map,A,C,m,S,V,P,R=e[9];const z=b=>b[18].product.name;for(let b=0;b<R.length;b+=1){let I=Rr(e,R,b),O=z(I);M.set(O,k[b]=Br(O,I))}return{c(){t=Y("text"),n=re(`Sector
      `),i=Y("text"),r=re(`Trade Flow
      `),l=Y("text"),a=re("From "),u=re(o),h=Y("text"),c=re("From "),_=re(f),p=Y("g");for(let b=0;b<k.length;b+=1)k[b].c();A=Y("line"),S=Y("line"),P=Y("g"),this.h()},l(b){t=U(b,"text",{"text-anchor":!0,class:!0,x:!0,y:!0,"alignment-baseline":!0});var I=D(t);n=le(I,`Sector
      `),I.forEach(w),i=U(b,"text",{"text-anchor":!0,class:!0,x:!0,y:!0,"alignment-baseline":!0});var O=D(i);r=le(O,`Trade Flow
      `),O.forEach(w),l=U(b,"text",{class:!0,x:!0,y:!0,"alignment-baseline":!0,"font-size":!0});var E=D(l);a=le(E,"From "),u=le(E,o),E.forEach(w),h=U(b,"text",{class:!0,x:!0,y:!0,"text-anchor":!0,"alignment-baseline":!0,"font-size":!0});var N=D(h);c=le(N,"From "),_=le(N,f),N.forEach(w),p=U(b,"g",{id:!0,transform:!0});var q=D(p);for(let J=0;J<k.length;J+=1)k[J].l(q);A=U(q,"line",{id:!0,transform:!0,y1:!0,y2:!0,stroke:!0,"stroke-width":!0,class:!0}),D(A).forEach(w),S=U(q,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),D(S).forEach(w),P=U(q,"g",{id:!0}),D(P).forEach(w),q.forEach(w),this.h()},h(){var b,I,O,E;d(t,"text-anchor","start"),d(t,"class","chart-header"),d(t,"x",15),d(t,"y",bt/2),d(t,"alignment-baseline","hanging"),d(i,"text-anchor","middle"),d(i,"class","chart-header"),d(i,"x",s=(e[2]-Ye)/2+Ye),d(i,"y",bt/2-7),d(i,"alignment-baseline","hanging"),d(l,"class","from-label"),d(l,"x",Ye+20),d(l,"y",bt/2-5),d(l,"alignment-baseline","hanging"),d(l,"font-size","13"),d(h,"class","from-label"),d(h,"x",v=e[2]-20),d(h,"y",bt/2-5),d(h,"text-anchor","end"),d(h,"alignment-baseline","hanging"),d(h,"font-size","13"),d(A,"id","midline"),d(A,"transform",C=`translate(${e[4](0)},0)`),d(A,"y1",20),d(A,"y2",m=(((I=(b=e[9])==null?void 0:b.length)!=null?I:0)+1)*_e),d(A,"stroke","rgba(0,0,0,0.7)"),d(A,"stroke-width","1"),d(A,"class","svelte-g5tcaj"),d(S,"x1",Ye),d(S,"y1",0),d(S,"x2",Ye),d(S,"y2",V=(((E=(O=e[9])==null?void 0:O.length)!=null?E:0)+1)*_e),d(S,"stroke","rgba(0,0,0,0.1)"),d(S,"stroke-width","1"),d(P,"id","axis"),d(p,"id","bar-content"),d(p,"transform",`translate(${0},${bt})`)},m(b,I){B(b,t,I),F(t,n),B(b,i,I),F(i,r),B(b,l,I),F(l,a),F(l,u),B(b,h,I),F(h,c),F(h,_),B(b,p,I);for(let O=0;O<k.length;O+=1)k[O].m(p,null);F(p,A),F(p,S),F(p,P),e[14](P)},p(b,I){var O,E,N,q,J,Q;I&4&&s!==(s=(b[2]-Ye)/2+Ye)&&d(i,"x",s),I&1&&o!==(o=((O=b[0])==null?void 0:O.name)+"")&&Be(u,o),I&2&&f!==(f=((E=b[1])==null?void 0:E.name)+"")&&Be(_,f),I&4&&v!==(v=b[2]-20)&&d(h,"x",v),I&628&&(R=b[9],k=Mt(k,I,z,1,b,R,M,p,Ut,Br,A,Rr)),I&16&&C!==(C=`translate(${b[4](0)},0)`)&&d(A,"transform",C),I&512&&m!==(m=(((q=(N=b[9])==null?void 0:N.length)!=null?q:0)+1)*_e)&&d(A,"y2",m),I&512&&V!==(V=(((Q=(J=b[9])==null?void 0:J.length)!=null?Q:0)+1)*_e)&&d(S,"y2",V)},i:se,o:se,d(b){b&&w(t),b&&w(i),b&&w(l),b&&w(h),b&&w(p);for(let I=0;I<k.length;I+=1)k[I].d();e[14](null)}}}function Pr(e){let t,n;return{c(){t=Y("rect"),this.h()},l(i){t=U(i,"rect",{x:!0,y:!0,height:!0,width:!0,fill:!0,class:!0}),D(t).forEach(w),this.h()},h(){d(t,"x","0"),d(t,"y",n=e[20]*_e+Re),d(t,"height",_e),d(t,"width",e[2]),d(t,"fill","rgba(0,0,0,0.04)"),d(t,"class","svelte-g5tcaj")},m(i,r){B(i,t,r)},p(i,r){r&512&&n!==(n=i[20]*_e+Re)&&d(t,"y",n),r&4&&d(t,"width",i[2])},d(i){i&&w(t)}}}function Br(e,t){let n,i,r,s,l,a=t[18].product.name+"",o,u,h,c,f,_,v,p,k,M,A,C,m=t[20]%2==0&&Pr(t);return{key:e,first:null,c(){n=Y("g"),i=Y("rect"),m&&m.c(),l=Y("text"),o=re(a),h=Y("rect"),p=Y("rect"),this.h()},l(S){n=U(S,"g",{});var V=D(n);i=U(V,"rect",{x:!0,y:!0,height:!0,width:!0,fill:!0,class:!0}),D(i).forEach(w),m&&m.l(V),l=U(V,"text",{class:!0,"alignment-baseline":!0,x:!0,y:!0});var P=D(l);o=le(P,a),P.forEach(w),h=U(V,"rect",{class:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),D(h).forEach(w),p=U(V,"rect",{class:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),D(p).forEach(w),V.forEach(w),this.h()},h(){d(i,"x","0"),d(i,"y",r=t[20]*_e+Re+2),d(i,"height",_e-4),d(i,"width","6"),d(i,"fill",s=t[5]?t[5](t[18].product.name):"white"),d(i,"class","svelte-g5tcaj"),d(l,"class","product-text"),d(l,"alignment-baseline","hanging"),d(l,"x",10),d(l,"y",u=t[20]*_e+Re+5),d(h,"class","country1-bar svelte-g5tcaj"),d(h,"x",c=t[4](-t[18].export_value)),d(h,"y",f=t[20]*_e+Re+at/2),d(h,"height",_e-at),d(h,"width",_=t[4](0)-t[4](-t[18].export_value)),d(h,"fill",v=t[6](t[18].location_id)),d(p,"class","country2-bar svelte-g5tcaj"),d(p,"x",k=t[4](0)),d(p,"y",M=t[20]*_e+Re+at/2),d(p,"height",_e-at),d(p,"width",A=t[4](t[18].import_value)-t[4](0)),d(p,"fill",C=t[6](t[18].partner_id)),this.first=n},m(S,V){B(S,n,V),F(n,i),m&&m.m(n,null),F(n,l),F(l,o),F(n,h),F(n,p)},p(S,V){t=S,V&512&&r!==(r=t[20]*_e+Re+2)&&d(i,"y",r),V&544&&s!==(s=t[5]?t[5](t[18].product.name):"white")&&d(i,"fill",s),t[20]%2==0?m?m.p(t,V):(m=Pr(t),m.c(),m.m(n,l)):m&&(m.d(1),m=null),V&512&&a!==(a=t[18].product.name+"")&&Be(o,a),V&512&&u!==(u=t[20]*_e+Re+5)&&d(l,"y",u),V&528&&c!==(c=t[4](-t[18].export_value))&&d(h,"x",c),V&512&&f!==(f=t[20]*_e+Re+at/2)&&d(h,"y",f),V&528&&_!==(_=t[4](0)-t[4](-t[18].export_value))&&d(h,"width",_),V&576&&v!==(v=t[6](t[18].location_id))&&d(h,"fill",v),V&16&&k!==(k=t[4](0))&&d(p,"x",k),V&512&&M!==(M=t[20]*_e+Re+at/2)&&d(p,"y",M),V&528&&A!==(A=t[4](t[18].import_value)-t[4](0))&&d(p,"width",A),V&576&&C!==(C=t[6](t[18].partner_id))&&d(p,"fill",C)},d(S){S&&w(n),m&&m.d()}}}function zr(e){let t,n,i,r,s;return{c(){t=Y("rect"),n=Y("text"),i=re("Loading..."),this.h()},l(l){t=U(l,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0,class:!0}),D(t).forEach(w),n=U(l,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var a=D(n);i=le(a,"Loading..."),a.forEach(w),this.h()},h(){d(t,"x","0"),d(t,"y","0"),d(t,"width",e[2]),d(t,"height",e[8]),d(t,"fill","rgba(255,255,255,0.9)"),d(t,"class","svelte-g5tcaj"),d(n,"x",r=e[2]/2),d(n,"y",s=e[8]/2),d(n,"alignment-baseline","central"),d(n,"text-anchor","middle")},m(l,a){B(l,t,a),B(l,n,a),F(n,i)},p(l,a){a&4&&d(t,"width",l[2]),a&256&&d(t,"height",l[8]),a&4&&r!==(r=l[2]/2)&&d(n,"x",r),a&256&&s!==(s=l[8]/2)&&d(n,"y",s)},d(l){l&&w(t),l&&w(n)}}}function lh(e){let t,n,i,r;function s(u,h){return u[9]&&u[9].length>0?rh:ih}let l=s(e),a=l(e),o=e[7]&&zr(e);return{c(){t=X("div"),n=Y("svg"),a.c(),i=ne(),o&&o.c(),this.h()},l(u){t=W(u,"DIV",{id:!0,class:!0});var h=D(t);n=U(h,"svg",{class:!0});var c=D(n);a.l(c),i=ne(),o&&o.l(c),c.forEach(w),h.forEach(w),this.h()},h(){d(n,"class","svelte-g5tcaj"),d(t,"id","bar-chart"),d(t,"class","viz-section svelte-g5tcaj"),Tt(()=>e[15].call(t))},m(u,h){B(u,t,h),F(t,n),a.m(n,null),F(n,i),o&&o.m(n,null),r=on(t,e[15].bind(t))},p(u,[h]){l===(l=s(u))&&a?a.p(u,h):(a.d(1),a=l(u),a&&(a.c(),G(a,1),a.m(n,i))),u[7]?o?o.p(u,h):(o=zr(u),o.c(),o.m(n,null)):o&&(o.d(1),o=null)},i(u){G(a)},o:se,d(u){u&&w(t),a.d(),o&&o.d(),r()}}}const bt=40,_e=30,xr=0,sh=10,Re=30,Ye=100,at=4;function ah(e,t,n){let i,r,s,l,{data:a}=t,{bilateralDataForYear:o,productColorScale:u,countryColorScale:h,country1:c,country2:f,loadingDrilldown:_}=a,v=800,p=500,k;const M=m=>_t("$.2s")(m).replace(/G/,"B");function A(m){Me[m?"unshift":"push"](()=>{k=m,n(3,k)})}function C(){v=this.clientWidth,p=this.clientHeight,n(2,v),n(8,p)}return e.$$set=m=>{"data"in m&&n(10,a=m.data)},e.$$.update=()=>{var m,S,V,P,R,z,T,y,b,I,O,E;if(e.$$.dirty&1024&&n(11,{bilateralDataForYear:o,productColorScale:u,countryColorScale:h,country1:c,country2:f,loadingDrilldown:_}=a,o,(n(5,u),n(10,a)),(n(6,h),n(10,a)),(n(0,c),n(10,a)),(n(1,f),n(10,a)),(n(7,_),n(10,a))),e.$$.dirty&2051&&n(9,i=(P=(V=o.get((m=c==null?void 0:c.id)!=null?m:0))==null?void 0:V.get((S=f==null?void 0:f.id)!=null?S:0))==null?void 0:P.filter(N=>N.product.level=="section")),e.$$.dirty&2051&&n(13,r=Bn((y=(T=o.get((R=c==null?void 0:c.id)!=null?R:0))==null?void 0:T.get((z=f==null?void 0:f.id)!=null?z:0))!=null?y:new Array,N=>N.export_value)),e.$$.dirty&2051&&n(12,s=Bn((E=(O=o.get((b=c==null?void 0:c.id)!=null?b:0))==null?void 0:O.get((I=f==null?void 0:f.id)!=null?I:0))!=null?E:new Array,N=>N.import_value)),e.$$.dirty&12288,e.$$.dirty&12292&&n(4,l=nn().domain([-r,s]).range([Ye+xr,v-xr-sh])),e.$$.dirty&24){let N=ll(l).tickFormat(q=>M(Math.abs(q)));It(k).transition().call(N)}},[c,f,v,k,l,u,h,_,p,i,a,o,s,r,A,C]}class oh extends De{constructor(t){super(),Ve(this,t,ah,lh,Oe,{data:10})}}const{Map:uh}=Es;function qr(e,t,n){const i=e.slice();return i[15]=t[n],i}function Gr(e){var l,a,o;let t,n=((o=(a=(l=e[15].data)==null?void 0:l.product.name)==null?void 0:a.substring(0,40))!=null?o:"")+"",i,r,s;return{c(){t=Y("text"),i=re(n),this.h()},l(u){t=U(u,"text",{class:!0,transform:!0,"alignment-baseline":!0,"font-size":!0});var h=D(t);i=le(h,n),h.forEach(w),this.h()},h(){d(t,"class","label svelte-wgq8ik"),d(t,"transform",r=`translate(${e[15].x0+3},${e[15].y0+3})`),d(t,"alignment-baseline","hanging"),d(t,"font-size",s=Math.max((e[15].x1-e[15].x0)/15,8))},m(u,h){B(u,t,h),F(t,i)},p(u,h){var c,f,_;h&128&&n!==(n=((_=(f=(c=u[15].data)==null?void 0:c.product.name)==null?void 0:f.substring(0,40))!=null?_:"")+"")&&Be(i,n),h&128&&r!==(r=`translate(${u[15].x0+3},${u[15].y0+3})`)&&d(t,"transform",r),h&128&&s!==(s=Math.max((u[15].x1-u[15].x0)/15,8))&&d(t,"font-size",s)},d(u){u&&w(t)}}}function jr(e){let t,n=e[8](e[0]==="export_value"?e[15].data.export_value:e[15].data.import_value)+"",i,r,s;return{c(){t=Y("text"),i=re(n),this.h()},l(l){t=U(l,"text",{class:!0,transform:!0,"alignment-baseline":!0,"font-size":!0,"font-weight":!0});var a=D(t);i=le(a,n),a.forEach(w),this.h()},h(){d(t,"class","label-num svelte-wgq8ik"),d(t,"transform",r=`translate(${e[15].x0+5},${e[15].y0+1+Math.max((e[15].x1-e[15].x0)/10,8)})`),d(t,"alignment-baseline","hanging"),d(t,"font-size",s=Math.max((e[15].x1-e[15].x0)/15,8)-1),d(t,"font-weight","300")},m(l,a){B(l,t,a),F(t,i)},p(l,a){a&129&&n!==(n=l[8](l[0]==="export_value"?l[15].data.export_value:l[15].data.import_value)+"")&&Be(i,n),a&128&&r!==(r=`translate(${l[15].x0+5},${l[15].y0+1+Math.max((l[15].x1-l[15].x0)/10,8)})`)&&d(t,"transform",r),a&128&&s!==(s=Math.max((l[15].x1-l[15].x0)/15,8)-1)&&d(t,"font-size",s)},d(l){l&&w(t)}}}function Yr(e,t){let n,i,r,s,l,a,o,u=t[15].x1-t[15].x0>40&&t[15].y1-t[15].y0>10&&Gr(t),h=t[15].x1-t[15].x0>40&&t[15].y1-t[15].y0>30&&jr(t);return{key:e,first:null,c(){n=Y("rect"),u&&u.c(),a=ne(),h&&h.c(),o=ne(),this.h()},l(c){n=U(c,"rect",{class:!0,transform:!0,width:!0,height:!0,fill:!0}),D(n).forEach(w),u&&u.l(c),a=ne(),h&&h.l(c),o=ne(),this.h()},h(){var c,f,_,v,p;d(n,"class","leaf svelte-wgq8ik"),d(n,"transform",i=`translate(${t[15].x0},${(c=t[15])==null?void 0:c.y0})`),d(n,"width",r=t[15].x1-t[15].x0),d(n,"height",s=t[15].y1-t[15].y0),d(n,"fill",l=t[4]?t[4]((p=(v=(_=(f=t[15].data)==null?void 0:f.product)==null?void 0:_.parent)==null?void 0:v.name)!=null?p:""):"white"),this.first=n},m(c,f){B(c,n,f),u&&u.m(c,f),B(c,a,f),h&&h.m(c,f),B(c,o,f)},p(c,f){var _,v,p,k,M;t=c,f&128&&i!==(i=`translate(${t[15].x0},${(_=t[15])==null?void 0:_.y0})`)&&d(n,"transform",i),f&128&&r!==(r=t[15].x1-t[15].x0)&&d(n,"width",r),f&128&&s!==(s=t[15].y1-t[15].y0)&&d(n,"height",s),f&144&&l!==(l=t[4]?t[4]((M=(k=(p=(v=t[15].data)==null?void 0:v.product)==null?void 0:p.parent)==null?void 0:k.name)!=null?M:""):"white")&&d(n,"fill",l),t[15].x1-t[15].x0>40&&t[15].y1-t[15].y0>10?u?u.p(t,f):(u=Gr(t),u.c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null),t[15].x1-t[15].x0>40&&t[15].y1-t[15].y0>30?h?h.p(t,f):(h=jr(t),h.c(),h.m(o.parentNode,o)):h&&(h.d(1),h=null)},d(c){c&&w(n),u&&u.d(c),c&&w(a),h&&h.d(c),c&&w(o)}}}function Ur(e){let t,n,i,r=e[5]?"Loading...":"No Data",s,l,a;return{c(){t=Y("rect"),i=Y("text"),s=re(r),this.h()},l(o){t=U(o,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),D(t).forEach(w),i=U(o,"text",{x:!0,y:!0,"alignment-baseline":!0,"text-anchor":!0});var u=D(i);s=le(u,r),u.forEach(w),this.h()},h(){d(t,"x","0"),d(t,"y","0"),d(t,"width",e[1]),d(t,"height",e[2]),d(t,"fill",n=e[5]?"rgba(255,255,255, 0.9)":"rgba(255,255,255,1)"),d(i,"x",l=e[1]/2),d(i,"y",a=e[2]/2),d(i,"alignment-baseline","central"),d(i,"text-anchor","middle")},m(o,u){B(o,t,u),B(o,i,u),F(i,s)},p(o,u){u&2&&d(t,"width",o[1]),u&4&&d(t,"height",o[2]),u&32&&n!==(n=o[5]?"rgba(255,255,255, 0.9)":"rgba(255,255,255,1)")&&d(t,"fill",n),u&32&&r!==(r=o[5]?"Loading...":"No Data")&&Be(s,r),u&2&&l!==(l=o[1]/2)&&d(i,"x",l),u&4&&a!==(a=o[2]/2)&&d(i,"y",a)},d(o){o&&w(t),o&&w(i)}}}function fh(e){var h,c;let t,n,i,r=[],s=new uh,l,a=e[7];const o=f=>f[15].data.product_id;for(let f=0;f<a.length;f+=1){let _=qr(e,a,f),v=o(_);s.set(v,r[f]=Yr(v,_))}let u=((c=(h=e[3])==null?void 0:h.length)!=null?c:0)===0&&Ur(e);return{c(){t=X("div"),n=Y("svg"),i=Y("g");for(let f=0;f<r.length;f+=1)r[f].c();u&&u.c(),this.h()},l(f){t=W(f,"DIV",{class:!0});var _=D(t);n=U(_,"svg",{class:!0});var v=D(n);i=U(v,"g",{class:!0});var p=D(i);for(let k=0;k<r.length;k+=1)r[k].l(p);p.forEach(w),u&&u.l(v),v.forEach(w),_.forEach(w),this.h()},h(){d(i,"class","treemap svelte-wgq8ik"),d(n,"class","svelte-wgq8ik"),d(t,"class","viz-section"),Tt(()=>e[14].call(t))},m(f,_){B(f,t,_),F(t,n),F(n,i);for(let v=0;v<r.length;v+=1)r[v].m(i,null);e[13](i),u&&u.m(n,null),l=on(t,e[14].bind(t))},p(f,[_]){var v,p;_&401&&(a=f[7],r=Mt(r,_,o,1,f,a,s,i,Ut,Yr,null,qr)),((p=(v=f[3])==null?void 0:v.length)!=null?p:0)===0?u?u.p(f,_):(u=Ur(f),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i:se,o:se,d(f){f&&w(t);for(let _=0;_<r.length;_+=1)r[_].d();e[13](null),u&&u.d(),l()}}}function ch(e,t,n){let i;const r=A=>_t("$.2s")(A).replace(/G/,"B");let{data:s}=t,{country1:l,country2:a,valueField:o,productColorScale:u,drilldownBilateralForYear:h,loadingDrilldown:c}=s,f,_,v,p=new Array;function k(A){Me[A?"unshift":"push"](()=>{v=A,n(6,v)})}function M(){f=this.clientWidth,_=this.clientHeight,n(1,f),n(2,_)}return e.$$set=A=>{"data"in A&&n(9,s=A.data)},e.$$.update=()=>{var A,C,m,S;if(e.$$.dirty&512&&n(12,{drilldownBilateralForYear:h,valueField:o,productColorScale:u,country1:l,country2:a,loadingDrilldown:c}=s,h,(n(0,o),n(9,s)),(n(4,u),n(9,s)),(n(10,l),n(9,s)),(n(11,a),n(9,s)),(n(5,c),n(9,s))),e.$$.dirty&7168&&n(3,i=(S=(m=h==null?void 0:h.get((A=l==null?void 0:l.id)!=null?A:0))==null?void 0:m.get((C=a==null?void 0:a.id)!=null?C:0))!=null?S:null),e.$$.dirty&3087&&i&&i.length>0){let V=new mt(new Map,new Map,{location_id:l,partner_id:a,product_id:-1,year:0,export_value:0,import_value:0});V.product=new ni({product_id:-1,name:"All",level:-1,parent_id:-1}),V.product.parent_id=null;let P=[V],R=On(i,z=>{var T,y;return(y=(T=z.product)==null?void 0:T.parent_id)!=null?y:-1});if(R.size>1){for(let[T,y]of R){let b=new mt(new Map,new Map,{location_id:l,partner_id:a,product_id:T,year:0,export_value:0,import_value:0});b.product=new ni({product_id:T,name:"Something",level:0,parent_id:-1}),P.push(b)}P=P.concat(i);let z=lc().id(T=>{var y;return(y=T.product)==null?void 0:y.id}).parentId(T=>{var y;return(y=T.product)==null?void 0:y.parent_id})(P);z.sum(T=>Math.max(0,T[o])),fc().tile(Pl).size([f,_]).padding(2)(z),n(7,p=z.leaves())}}},[o,f,_,i,u,c,v,p,r,s,l,a,h,k,M]}class Xr extends De{constructor(t){super(),Ve(this,t,ch,fh,Oe,{data:9})}}function hh(e){let t,n,i,r,s,l;return{c(){t=X("div"),n=X("h3"),i=re("Loading data..."),r=ee(),s=Y("svg"),l=Y("circle"),this.h()},l(a){t=W(a,"DIV",{class:!0});var o=D(t);n=W(o,"H3",{});var u=D(n);i=le(u,"Loading data..."),u.forEach(w),r=te(o),s=U(o,"svg",{class:!0,viewBox:!0});var h=D(s);l=U(h,"circle",{class:!0,cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0}),D(l).forEach(w),h.forEach(w),o.forEach(w),this.h()},h(){d(l,"class","path svelte-jcbfjt"),d(l,"cx","25"),d(l,"cy","25"),d(l,"r","20"),d(l,"fill","none"),d(l,"stroke-width","5"),d(s,"class","spinner svelte-jcbfjt"),d(s,"viewBox","0 0 50 50"),d(t,"class","loading svelte-jcbfjt")},m(a,o){B(a,t,o),F(t,n),F(n,i),F(t,r),F(t,s),F(s,l)},p:se,i:se,o:se,d(a){a&&w(t)}}}function dh(e){var J,Q,ve,je;let t,n,i,r,s,l,a,o,u,h,c,f,_,v,p,k,M,A,C,m,S,V,P,R,z,T,y,b,I,O,E,N,q;return u=new Fr({props:{optionIdentifier:Wr,labelIdentifier:Kr,items:Array.from(e[0].values()),value:e[9]}}),u.$on("select",e[10]),p=new Fr({props:{optionIdentifier:Wr,labelIdentifier:Kr,items:Array.from(e[0].values()),value:e[8]}}),p.$on("select",e[11]),z=new th({props:{data:{bilateralData:e[2],country1:(Q=(J=e[9])==null?void 0:J.id)!=null?Q:0,country2:(je=(ve=e[8])==null?void 0:ve.id)!=null?je:0,productData:e[1],locationData:e[0],countryColorScale:e[3]}}}),y=new oh({props:{data:{loadingDrilldown:e[6],productColorScale:e[4],country1:e[9],country2:e[8],bilateralDataForYear:e[7],countryColorScale:e[3]}}}),O=new Xr({props:{data:{productColorScale:e[4],country1:e[9],country2:e[8],drilldownBilateralForYear:e[5],loadingDrilldown:e[6],valueField:"export_value"}}}),N=new Xr({props:{data:{productColorScale:e[4],country1:e[9],country2:e[8],drilldownBilateralForYear:e[5],loadingDrilldown:e[6],valueField:"import_value"}}}),{c(){t=X("div"),n=X("div"),r=ee(),s=X("div"),l=X("span"),a=re("Country 1"),o=ee(),ae(u.$$.fragment),h=ee(),c=X("div"),f=X("span"),_=re("Country 2"),v=ee(),ae(p.$$.fragment),k=ee(),M=X("div"),C=ee(),m=X("div"),S=ee(),V=X("div"),P=X("div"),R=X("div"),ae(z.$$.fragment),T=ee(),ae(y.$$.fragment),b=ee(),I=X("div"),ae(O.$$.fragment),E=ee(),ae(N.$$.fragment),this.h()},l(H){t=W(H,"DIV",{class:!0});var Z=D(t);n=W(Z,"DIV",{class:!0,style:!0}),D(n).forEach(w),r=te(Z),s=W(Z,"DIV",{class:!0});var de=D(s);l=W(de,"SPAN",{class:!0});var ye=D(l);a=le(ye,"Country 1"),ye.forEach(w),o=te(de),be(u.$$.fragment,de),de.forEach(w),h=te(Z),c=W(Z,"DIV",{class:!0});var Ie=D(c);f=W(Ie,"SPAN",{class:!0});var Se=D(f);_=le(Se,"Country 2"),Se.forEach(w),v=te(Ie),be(p.$$.fragment,Ie),Ie.forEach(w),k=te(Z),M=W(Z,"DIV",{class:!0,style:!0}),D(M).forEach(w),Z.forEach(w),C=te(H),m=W(H,"DIV",{class:!0});var L=D(m);L.forEach(w),S=te(H),V=W(H,"DIV",{id:!0,class:!0});var j=D(V);P=W(j,"DIV",{id:!0,class:!0});var fe=D(P);R=W(fe,"DIV",{class:!0});var Ee=D(R);be(z.$$.fragment,Ee),T=te(Ee),be(y.$$.fragment,Ee),Ee.forEach(w),b=te(fe),I=W(fe,"DIV",{class:!0});var Le=D(I);be(O.$$.fragment,Le),E=te(Le),be(N.$$.fragment,Le),Le.forEach(w),fe.forEach(w),j.forEach(w),this.h()},h(){var H,Z,de,ye;d(n,"class","country-icon svelte-jcbfjt"),d(n,"style",i=`background:${e[3]((Z=(H=e[9])==null?void 0:H.id)!=null?Z:0)}`),d(l,"class","svelte-jcbfjt"),d(s,"class","dropdown svelte-jcbfjt"),d(f,"class","svelte-jcbfjt"),d(c,"class","dropdown svelte-jcbfjt"),d(M,"class","country-icon svelte-jcbfjt"),d(M,"style",A=`background:${e[3]?e[3]((ye=(de=e[8])==null?void 0:de.id)!=null?ye:0):"white"}`),d(t,"class","selectors svelte-jcbfjt"),d(m,"class","svelte-jcbfjt"),d(R,"class","viz-row svelte-jcbfjt"),d(I,"class","viz-row svelte-jcbfjt"),d(P,"id","content"),d(P,"class","svelte-jcbfjt"),d(V,"id","container"),d(V,"class","svelte-jcbfjt")},m(H,Z){B(H,t,Z),F(t,n),F(t,r),F(t,s),F(s,l),F(l,a),F(s,o),oe(u,s,null),F(t,h),F(t,c),F(c,f),F(f,_),F(c,v),oe(p,c,null),F(t,k),F(t,M),B(H,C,Z),B(H,m,Z),B(H,S,Z),B(H,V,Z),F(V,P),F(P,R),oe(z,R,null),F(R,T),oe(y,R,null),F(P,b),F(P,I),oe(O,I,null),F(I,E),oe(N,I,null),q=!0},p(H,Z){var fe,Ee,Le,tt,Xe,nt,it,gt;(!q||Z&520&&i!==(i=`background:${H[3]((Ee=(fe=H[9])==null?void 0:fe.id)!=null?Ee:0)}`))&&d(n,"style",i);const de={};Z&1&&(de.items=Array.from(H[0].values())),Z&512&&(de.value=H[9]),u.$set(de);const ye={};Z&1&&(ye.items=Array.from(H[0].values())),Z&256&&(ye.value=H[8]),p.$set(ye),(!q||Z&264&&A!==(A=`background:${H[3]?H[3]((tt=(Le=H[8])==null?void 0:Le.id)!=null?tt:0):"white"}`))&&d(M,"style",A);const Ie={};Z&783&&(Ie.data={bilateralData:H[2],country1:(nt=(Xe=H[9])==null?void 0:Xe.id)!=null?nt:0,country2:(gt=(it=H[8])==null?void 0:it.id)!=null?gt:0,productData:H[1],locationData:H[0],countryColorScale:H[3]}),z.$set(Ie);const Se={};Z&984&&(Se.data={loadingDrilldown:H[6],productColorScale:H[4],country1:H[9],country2:H[8],bilateralDataForYear:H[7],countryColorScale:H[3]}),y.$set(Se);const L={};Z&880&&(L.data={productColorScale:H[4],country1:H[9],country2:H[8],drilldownBilateralForYear:H[5],loadingDrilldown:H[6],valueField:"export_value"}),O.$set(L);const j={};Z&880&&(j.data={productColorScale:H[4],country1:H[9],country2:H[8],drilldownBilateralForYear:H[5],loadingDrilldown:H[6],valueField:"import_value"}),N.$set(j)},i(H){q||(G(u.$$.fragment,H),G(p.$$.fragment,H),G(z.$$.fragment,H),G(y.$$.fragment,H),G(O.$$.fragment,H),G(N.$$.fragment,H),q=!0)},o(H){K(u.$$.fragment,H),K(p.$$.fragment,H),K(z.$$.fragment,H),K(y.$$.fragment,H),K(O.$$.fragment,H),K(N.$$.fragment,H),q=!1},d(H){H&&w(t),ue(u),ue(p),H&&w(C),H&&w(m),H&&w(S),H&&w(V),ue(z),ue(y),ue(O),ue(N)}}}function _h(e){let t,n,i,r,s,l,a,o,u,h,c;const f=[dh,hh],_=[];function v(p,k){return p[0]&&p[2]&&p[1]&&p[3]?0:1}return o=v(e),u=_[o]=f[o](e),{c(){t=X("div"),n=X("h1"),i=re("Bilateral Trade Data"),r=ee(),s=X("h2"),l=re("Visualization by Andrew Lee and Franklin Yuan"),a=ee(),u.c(),h=ne(),this.h()},l(p){t=W(p,"DIV",{class:!0});var k=D(t);n=W(k,"H1",{class:!0});var M=D(n);i=le(M,"Bilateral Trade Data"),M.forEach(w),r=te(k),s=W(k,"H2",{class:!0});var A=D(s);l=le(A,"Visualization by Andrew Lee and Franklin Yuan"),A.forEach(w),k.forEach(w),a=te(p),u.l(p),h=ne(),this.h()},h(){d(n,"class","svelte-jcbfjt"),d(s,"class","svelte-jcbfjt"),d(t,"class","heading svelte-jcbfjt")},m(p,k){B(p,t,k),F(t,n),F(n,i),F(t,r),F(t,s),F(s,l),B(p,a,k),_[o].m(p,k),B(p,h,k),c=!0},p(p,[k]){let M=o;o=v(p),o===M?_[o].p(p,k):(me(),K(_[M],1,1,()=>{_[M]=null}),ge(),u=_[o],u?u.p(p,k):(u=_[o]=f[o](p),u.c()),G(u,1),u.m(h.parentNode,h))},i(p){c||(G(u),c=!0)},o(p){K(u),c=!1},d(p){p&&w(t),p&&w(a),_[o].d(p),p&&w(h)}}}const Wr="id",Kr="name",mh=231,gh=43;function ph(e,t,n){let i,r,s,l;Qr(e,ti,k=>n(12,l=k));const a=k=>{let M=k.detail;n(9,i=u.get(M.id))},o=k=>{let M=k.detail;n(8,r=u.get(M.id))};let u=new Map,h,c,f=new Map,_,v,p=!1;return an(async()=>{Promise.all([Bt(`${Ot}/data/location.csv`),Bt(`${Ot}/data/hs_product.csv`),Bt(`${Ot}/data/hs_2010_to_2020.csv`)]).then(([k,M,A])=>{var C;n(0,u=Vi(k.map(m=>new kc(m)).filter(m=>m.level=="country"),m=>m.id)),n(1,f=Vi(M.map(m=>new ni(m)),m=>m.id));for(let[m,S]of f)S.parent=(C=f.get(S.parent_id))!=null?C:null,f.set(m,S);n(2,_=On(A.map(m=>new mt(u,f,m)),m=>m.year,m=>m.location_id,m=>m.partner_id)),tl(A,m=>+m.export_value),n(3,h=$n(u.keys(),or)),n(4,c=$n(Array.from(f).map(([m,S])=>S.level).filter(m=>m=="section"),or))})}),e.$$.update=()=>{var k,M,A;e.$$.dirty&1&&n(9,i=(k=u==null?void 0:u.get(mh))!=null?k:null),e.$$.dirty&1&&n(8,r=(M=u==null?void 0:u.get(gh))!=null?M:null),e.$$.dirty&4100&&n(7,s=(A=_==null?void 0:_.get(l))!=null?A:new Map),e.$$.dirty&4099&&(n(5,v=null),n(6,p=!0),Bt(`${Ot}/data/hs2_${l.toString()}.csv`).then(C=>{n(5,v=On(C.map(m=>new mt(u,f,m)),m=>m.location_id,m=>m.partner_id)),n(6,p=!1)}))},[u,f,_,h,c,v,p,s,r,i,a,o,l]}class bh extends De{constructor(t){super(),Ve(this,t,ph,_h,Oe,{})}}export{bh as default};
